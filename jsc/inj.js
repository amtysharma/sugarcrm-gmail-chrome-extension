(function(){var l,s=this;function aa(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ba(){}function ca(a){a.ea=function(){return a.hb?a.hb:a.hb=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==da(a)}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0;
function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function x(a,b,c){x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return x.apply(null,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function z(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Mb=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function na(a){Error.captureStackTrace?Error.captureStackTrace(this,na):this.stack=Error().stack||"";a&&(this.message=String(a))}z(na,Error);na.prototype.name="CustomError";var oa;function pa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function qa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xa,"&#39;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,sa=/[&<>"']/;function za(a){return qa(a.replace(/  /g," &#160;"),void 0)}function Aa(a,b){return a<b?-1:a>b?1:0};function Ba(a,b){b.unshift(a);na.call(this,pa.apply(null,b));b.shift()}z(Ba,na);Ba.prototype.name="AssertionError";function Ca(a,b){throw new Ba("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var A=Array.prototype,Da=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(v(a))return v(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Fa=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,k=v(a)?
a.split(""):a,m=0;m<d;m++)if(m in k){var n=k[m];b.call(c,n,m,a)&&(e[f++]=n)}return e},Ga=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,k=0;k<d;k++)k in f&&(e[k]=b.call(c,f[k],k,a));return e},Ha=A.some?function(a,b,c){return A.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ia=A.every?function(a,b,c){return A.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function D(a,b){return 0<=Da(a,b)}function Ja(a,b){var c=Da(a,b),d;(d=0<=c)&&A.splice.call(a,c,1);return d}function Ka(a){return A.concat.apply(A,arguments)}function La(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ma(a,b,c,d){A.splice.apply(a,Na(arguments,1))}function Na(a,b,c){return 2>=arguments.length?A.slice.call(a,b):A.slice.call(a,b,c)}
function Oa(a,b){return a>b?1:a<b?-1:0};var Pa,Qa,Ra,Sa;function Ta(){return s.navigator?s.navigator.userAgent:null}Sa=Ra=Qa=Pa=!1;var Ua;if(Ua=Ta()){var Va=s.navigator;Pa=0==Ua.lastIndexOf("Opera",0);Qa=!Pa&&(-1!=Ua.indexOf("MSIE")||-1!=Ua.indexOf("Trident"));Ra=!Pa&&-1!=Ua.indexOf("WebKit");Sa=!Pa&&!Ra&&!Qa&&"Gecko"==Va.product}var Wa=Pa,E=Qa,F=Sa,G=Ra,Xa=s.navigator,Ya=-1!=(Xa&&Xa.platform||"").indexOf("Mac");function Za(){var a=s.document;return a?a.documentMode:void 0}var $a;
a:{var ab="",bb;if(Wa&&s.opera)var cb=s.opera.version,ab="function"==typeof cb?cb():cb;else if(F?bb=/rv\:([^\);]+)(\)|;)/:E?bb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:G&&(bb=/WebKit\/(\S+)/),bb)var db=bb.exec(Ta()),ab=db?db[1]:"";if(E){var eb=Za();if(eb>parseFloat(ab)){$a=String(eb);break a}}$a=ab}var fb={};
function H(a){var b;if(!(b=fb[a])){b=0;for(var c=String($a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var k=c[f]||"",m=d[f]||"",n=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=n.exec(k)||["","",""],r=p.exec(m)||["","",""];if(0==q[0].length&&0==r[0].length)break;b=Aa(0==q[1].length?0:parseInt(q[1],10),0==r[1].length?0:parseInt(r[1],10))||Aa(0==q[2].length,0==r[2].length)||Aa(q[2],r[2])}while(0==
b)}b=fb[a]=0<=b}return b}var gb=s.document,hb=gb&&E?Za()||("CSS1Compat"==gb.compatMode?parseInt($a,10):5):void 0;var ib=!E||E&&9<=hb,jb=!F&&!E||E&&E&&9<=hb||F&&H("1.9.1");E&&H("9");function kb(a){a=a.className;return v(a)&&a.match(/\S+/g)||[]}function I(a,b){for(var c=kb(a),d=Na(arguments,1),e=c.length+d.length,f=c,k=0;k<d.length;k++)D(f,d[k])||f.push(d[k]);a.className=c.join(" ");return c.length==e}function lb(a,b){var c=kb(a),d=Na(arguments,1),e=mb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function mb(a,b){return Fa(a,function(a){return!D(b,a)})};function nb(a){return function(){throw a;}};function ob(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function qb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function rb(a,b){for(var c=ea(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var sb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function tb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<sb.length;f++)c=sb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function ub(a){var b=arguments.length;if(1==b&&u(arguments[0]))return ub.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function vb(a){return a?new wb(xb(a)):oa||(oa=new wb)}
function yb(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,k;k=a[f];f++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;k=a[f];f++)b=k.className,"function"==typeof b.split&&D(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function zb(a,b){ob(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Ab?a.setAttribute(Ab[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Ab={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Bb(a,b,c){function d(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ea(f)||w(f)&&0<f.nodeType?d(f):Ea(Cb(f)?La(f):f,d)}}function Db(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function xb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Eb(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function Fb(a){a=a.tabIndex;return fa(a)&&0<=a&&32768>a}function Cb(a){if(a&&"number"==typeof a.length){if(w(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1}function Gb(a){return Hb(a,function(a){return D(kb(a),"sidebar")})}function Hb(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function wb(a){this.g=a||s.document||document}l=wb.prototype;
l.j=function(a){return v(a)?this.g.getElementById(a):a};l.o=function(a,b,c){var d=this.g,e=arguments,f=e[0],k=e[1];if(!ib&&k&&(k.name||k.type)){f=["<",f];k.name&&f.push(' name="',ra(k.name),'"');if(k.type){f.push(' type="',ra(k.type),'"');var m={};tb(m,k);delete m.type;k=m}f.push(">");f=f.join("")}f=d.createElement(f);k&&(v(k)?f.className=k:u(k)?I.apply(null,[f].concat(k)):zb(f,k));2<e.length&&Bb(d,f,e);return f};l.createElement=function(a){return this.g.createElement(a)};
l.appendChild=function(a,b){a.appendChild(b)};l.getChildren=function(a){return jb&&void 0!=a.children?a.children:Fa(a.childNodes,function(a){return 1==a.nodeType})};l.contains=Db;var Ib=!E||E&&9<=hb,Jb=!E||E&&9<=hb,Kb=E&&!H("9");!G||H("528");F&&H("1.9b")||E&&H("8")||Wa&&H("9.5")||G&&H("528");F&&!H("8")||E&&H("9");function Lb(){0!=Mb&&(this[ha]||(this[ha]=++ia))}var Mb=0;function J(a,b){this.type=a;this.i=this.target=b}J.prototype.k=!1;J.prototype.lb=!0;J.prototype.m=function(){this.k=!0};J.prototype.preventDefault=function(){this.lb=!1};function Nb(a){Nb[" "](a);return a}Nb[" "]=ba;function K(a,b){J.call(this,a?a.type:"");this.q=this.i=this.target=null;this.g=this.clientY=this.clientX=0;this.P=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.h=null;a&&this.init(a,b)}z(K,J);var Ob=[1,4,2];
K.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.i=b;var d=a.relatedTarget;if(d){if(F){var e;a:{try{Nb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.q=d;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.g=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.P=Ya?a.metaKey:
a.ctrlKey;this.h=a;a.defaultPrevented&&this.preventDefault();delete this.k};function Pb(a){return Ib?0==a.h.button:"click"==a.type?!0:!!(a.h.button&Ob[0])}K.prototype.m=function(){K.l.m.call(this);this.h.stopPropagation?this.h.stopPropagation():this.h.cancelBubble=!0};K.prototype.preventDefault=function(){K.l.preventDefault.call(this);var a=this.h;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Qb="closure_listenable_"+(1E6*Math.random()|0);function Rb(a){try{return!(!a||!a[Qb])}catch(b){return!1}}var Sb=0;function Tb(a,b,c,d,e){this.$=a;this.proxy=null;this.src=b;this.type=c;this.ta=!!d;this.Aa=e;this.ab=++Sb;this.removed=this.sa=!1}function Ub(a){a.removed=!0;a.$=null;a.proxy=null;a.src=null;a.Aa=null};function Vb(a){this.src=a;this.g={};this.h=0}Vb.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.h++);var k=Wb(f,b,d,e);-1<k?(a=f[k],c||(a.sa=!1)):(a=new Tb(b,this.src,a,!!d,e),a.sa=c,f.push(a));return a};Vb.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];b=Wb(e,b,c,d);return-1<b?(Ub(e[b]),A.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.h--),!0):!1};
function Xb(a,b){var c=b.type;c in a.g&&Ja(a.g[c],b)&&(Ub(b),0==a.g[c].length&&(delete a.g[c],a.h--))}function Yb(a,b,c,d,e){a=a.g[b];b=-1;a&&(b=Wb(a,c,d,e));return-1<b?a[b]:null}function Wb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.$==b&&f.ta==!!c&&f.Aa==d)return e}return-1};var Zb="closure_lm_"+(1E6*Math.random()|0),$b={},ac=0;function L(a,b,c,d,e){if(u(b)){for(var f=0;f<b.length;f++)L(a,b[f],c,d,e);return null}c=bc(c);if(Rb(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,k=cc(a);k||(a[Zb]=k=new Vb(a));c=k.add(b,c,!1,d,e);c.proxy||(d=dc(),c.proxy=d,d.src=a,d.$=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in $b?$b[b]:$b[b]="on"+b,d),ac++);a=c}return a}
function dc(){var a=ec,b=Jb?function(c){return a.call(b.src,b.$,c)}:function(c){c=a.call(b.src,b.$,c);if(!c)return c};return b}function fc(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)fc(a,b[f],c,d,e);else c=bc(c),Rb(a)?a.T(b,c,d,e):a&&(a=cc(a))&&(b=Yb(a,b,c,!!d,e))&&gc(b)}
function gc(a){if(!fa(a)&&a&&!a.removed){var b=a.src;if(Rb(b))Xb(b.da,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.ta):b.detachEvent&&b.detachEvent(c in $b?$b[c]:$b[c]="on"+c,d);ac--;(c=cc(b))?(Xb(c,a),0==c.h&&(c.src=null,b[Zb]=null)):Ub(a)}}}function hc(a,b,c,d){var e=1;if(a=cc(a))if(b=a.g[b])for(b=La(b),a=0;a<b.length;a++){var f=b[a];f&&f.ta==c&&!f.removed&&(e&=!1!==ic(f,d))}return Boolean(e)}
function ic(a,b){var c=a.$,d=a.Aa||a.src;a.sa&&gc(a);return c.call(d,b)}
function ec(a,b){if(a.removed)return!0;if(!Jb){var c=b||aa("window.event"),d=new K(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.i;f;f=f.parentNode)c.push(f);for(var f=a.type,m=c.length-1;!d.k&&0<=m;m--)d.i=c[m],e&=hc(c[m],f,!0,d);for(m=0;!d.k&&m<c.length;m++)d.i=c[m],e&=hc(c[m],f,!1,d)}return e}return ic(a,new K(b,this))}
function cc(a){a=a[Zb];return a instanceof Vb?a:null}var jc="__closure_events_fn_"+(1E9*Math.random()>>>0);function bc(a){return ga(a)?a:a[jc]||(a[jc]=function(b){return a.handleEvent(b)})};function M(){Lb.call(this);this.da=new Vb(this);this.P=this}z(M,Lb);M.prototype[Qb]=!0;l=M.prototype;l.Wa=null;l.Ya=function(a){this.Wa=a};l.removeEventListener=function(a,b,c,d){fc(this,a,b,c,d)};
function N(a,b){var c,d=a.Wa;if(d)for(c=[];d;d=d.Wa)c.push(d);var d=a.P,e=b,f=e.type||e;if(v(e))e=new J(e,d);else if(e instanceof J)e.target=e.target||d;else{var k=e,e=new J(f,d);tb(e,k)}var k=!0,m;if(c)for(var n=c.length-1;!e.k&&0<=n;n--)m=e.i=c[n],k=kc(m,f,!0,e)&&k;e.k||(m=e.i=d,k=kc(m,f,!0,e)&&k,e.k||(k=kc(m,f,!1,e)&&k));if(c)for(n=0;!e.k&&n<c.length;n++)m=e.i=c[n],k=kc(m,f,!1,e)&&k;return k}l.listen=function(a,b,c,d){return this.da.add(String(a),b,!1,c,d)};
l.T=function(a,b,c,d){return this.da.remove(String(a),b,c,d)};function kc(a,b,c,d){b=a.da.g[String(b)];if(!b)return!0;b=La(b);for(var e=!0,f=0;f<b.length;++f){var k=b[f];if(k&&!k.removed&&k.ta==c){var m=k.$,n=k.Aa||k.src;k.sa&&Xb(a.da,k);e=!1!==m.call(n,d)&&e}}return e&&!1!=d.lb};function lc(a){J.call(this,"navigate");this.g=a}z(lc,J);function mc(a){M.call(this);this.g=a||window;L(this.g,"popstate",this.ib,!1,this);L(this.g,"hashchange",this.ib,!1,this)}z(mc,M);l=mc.prototype;l.Oa=!1;l.Hb="/";l.setEnabled=function(a){a!=this.Oa&&(this.Oa=a)&&N(this,new lc(this.getToken()))};l.getToken=function(){var a=this.g.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)};l.ib=function(){this.Oa&&N(this,new lc(this.getToken()))};function O(a,b){a.style.display=b?"":"none"}var nc=F?"MozUserSelect":G?"WebkitUserSelect":null;function oc(a,b){var c=b?null:a.getElementsByTagName("*");if(nc){var d="none";a.style[nc]=d;if(c)for(var e=0,f;f=c[e];e++)f.style[nc]=d}else if(E||Wa)if(d="on",a.setAttribute("unselectable",d),c)for(e=0;f=c[e];e++)f.setAttribute("unselectable",d)};function pc(a){Lb.call(this);this.h=a;this.g={}}z(pc,Lb);var qc=[];pc.prototype.listen=function(a,b,c,d){u(b)||(qc[0]=b,b=qc);for(var e=0;e<b.length;e++){var f=L(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!f)break;this.g[f.ab]=f}return this};pc.prototype.T=function(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)this.T(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=bc(c),d=!!d,b=Rb(a)?Yb(a.da,String(b),c,d,e):a?(a=cc(a))?Yb(a,b,c,d,e):null:null,b&&(gc(b),delete this.g[b.ab]);return this};
pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function rc(){}ca(rc);rc.prototype.g=0;function P(a){M.call(this);this.g=a||vb();this.Fa=sc}z(P,M);P.prototype.ia=rc.ea();var sc=null;function tc(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}l=P.prototype;l.Ba=null;l.A=!1;l.G=null;l.Fa=null;l.pa=null;l.K=null;l.J=null;l.ca=null;
l.D=function(){return this.Ba||(this.Ba="ydn:"+(this.ia.g++).toString(36))};l.j=function(){return this.G};function R(a){return a.q||(a.q=new pc(a))}l.Ya=function(a){if(this.K&&this.K!=a)throw Error("Method not supported");P.l.Ya.call(this,a)};l.v=function(){this.G=this.g.createElement("div")};l.render=function(a){uc(this,a)};function uc(a,b,c){if(a.A)throw Error("Component already rendered");a.G||a.v();b?b.insertBefore(a.G,c||null):a.g.g.body.appendChild(a.G);a.K&&!a.K.A||a.t()}
l.t=function(){this.A=!0;vc(this,function(a){!a.A&&a.j()&&a.t()})};l.s=function(a){this.pa=a};l.U=function(a,b){this.Ia(a,wc(this),b)};
l.Ia=function(a,b,c){if(a.A&&(c||!this.A))throw Error("Component already rendered");if(0>b||b>wc(this))throw Error("Child component index out of bounds");this.ca&&this.J||(this.ca={},this.J=[]);if(a.K==this){var d=a.D();this.ca[d]=a;Ja(this.J,a)}else{var d=this.ca,e=a.D();if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}if(a==this)throw Error("Unable to set parent component");if(d=this)if(d=a.K)if(d=a.Ba)e=a.K,d=a.Ba,e.ca&&d?(e=e.ca,d=(d in e?e[d]:void 0)||null):d=null,
d=d&&a.K!=this;if(d)throw Error("Unable to set parent component");a.K=this;P.l.Ya.call(a,this);Ma(this.J,b,0,a);a.A&&this.A&&a.K==this?(c=this.za(),c.insertBefore(a.j(),c.childNodes[b]||null)):c?(this.G||this.v(),b=S(this,b+1),uc(a,this.za(),b?b.G:null)):this.A&&!a.A&&a.G&&a.G.parentNode&&1==a.G.parentNode.nodeType&&a.t()};l.za=function(){return this.G};
function xc(a){if(null==a.Fa){var b=a.A?a.G:a.g.g.body,c;a:{c=xb(b);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(b,null))){c=c.direction||c.getPropertyValue("direction")||"";break a}c=""}a.Fa="rtl"==(c||(b.currentStyle?b.currentStyle.direction:null)||b.style&&b.style.direction)}return a.Fa}function wc(a){return a.J?a.J.length:0}function S(a,b){return a.J?a.J[b]||null:null}function vc(a,b,c){a.J&&Ea(a.J,b,c)}function yc(a,b){return a.J&&b?Da(a.J,b):-1};function zc(a,b,c,d,e){if(!(E||G&&H("525")))return!0;if(Ya&&e)return Ac(a);if(e&&!d)return!1;fa(b)&&(b=Bc(b));if(!c&&(17==b||18==b||Ya&&91==b))return!1;if(G&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(E&&d&&b==a)return!1;switch(a){case 13:return!(E&&E&&9<=hb);case 27:return!G}return Ac(a)}
function Ac(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||G&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Bc(a){if(F)a=Cc(a);else if(Ya&&G)a:switch(a){case 93:a=91;break a}return a}
function Cc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Dc(a,b){M.call(this);a&&Ec(this,a,b)}z(Dc,M);l=Dc.prototype;l.ga=null;l.Ca=null;l.Va=null;l.Da=null;l.L=-1;l.V=-1;l.Ja=!1;
var Fc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Gc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Hc=E||G&&H("525"),Ic=Ya&&F;
Dc.prototype.g=function(a){G&&(17==this.L&&!a.ctrlKey||18==this.L&&!a.altKey||Ya&&91==this.L&&!a.metaKey)&&(this.V=this.L=-1);-1==this.L&&(a.ctrlKey&&17!=a.g?this.L=17:a.altKey&&18!=a.g?this.L=18:a.metaKey&&91!=a.g&&(this.L=91));Hc&&!zc(a.g,this.L,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.V=Bc(a.g),Ic&&(this.Ja=a.altKey))};Dc.prototype.h=function(a){this.V=this.L=-1;this.Ja=a.altKey};
Dc.prototype.handleEvent=function(a){var b=a.h,c,d,e=b.altKey;E&&"keypress"==a.type?c=this.V:G&&"keypress"==a.type?c=this.V:Wa?c=this.V:(c=b.keyCode||this.V,d=b.charCode||0,Ic&&(e=this.Ja),Ya&&63==d&&224==c&&(c=191));d=c=Bc(c);var f=b.keyIdentifier;c?63232<=c&&c in Fc?d=Fc[c]:25==c&&a.shiftKey&&(d=9):f&&f in Gc&&(d=Gc[f]);this.L=d;a=new Jc(d,0,0,b);a.altKey=e;N(this,a)};Dc.prototype.j=function(){return this.ga};
function Ec(a,b,c){a.Da&&(a.Ca&&(gc(a.Ca),gc(a.Va),gc(a.Da),a.Ca=null,a.Va=null,a.Da=null),a.ga=null,a.L=-1,a.V=-1);a.ga=b;a.Ca=L(a.ga,"keypress",a,c);a.Va=L(a.ga,"keydown",a.g,c,a);a.Da=L(a.ga,"keyup",a.h,c,a)}function Jc(a,b,c,d){K.call(this,d);this.type="key";this.g=a}z(Jc,K);var Kc;function Lc(a,b,c){ea(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Kc||(Kc={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Kc,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Mc(){}var Nc;ca(Mc);Mc.prototype.i=function(){};Mc.prototype.g=function(a){var b=a.g.o("div",Oc(this,a).join(" "),a.wa());a.isEnabled()||Pc(b,1,!a.isEnabled());a.F&8&&Pc(b,8,!!(a.w&8));a.F&16&&Pc(b,16,!!(a.w&16));a.F&64&&Pc(b,64,!!(a.w&64));return b};function Qc(a,b,c){if(a=a.j?a.j():a)if(E&&!H("7")){var d=Rc(kb(a),b);d.push(b);la(c?I:lb,a).apply(null,d)}else c?I(a,b):lb(a,b)}
function Sc(a,b){var c;if(a.F&32&&(c=a.j())){if(!b&&a.w&32){try{c.blur()}catch(d){}a.w&32&&a.fb()}(Eb(c)&&Fb(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}}function Pc(a,b,c){Nc||(Nc={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Nc[b])&&Lc(a,b,c)}Mc.prototype.C=function(){return"goog-control"};
function Oc(a,b){var c=a.C(),d=[c],e=a.C();e!=c&&d.push(e);c=b.w;for(e=[];c;){var f=c&-c;e.push(Tc(a,f));c&=~f}d.push.apply(d,e);E&&!H("7")&&d.push.apply(d,Rc(d));return d}function Rc(a,b){var c=[];b&&(a=a.concat([b]));Ea([],function(d){!Ia(d,la(D,a))||b&&!D(d,b)||c.push(d.join("_"))});return c}function Tc(a,b){if(!a.h){var c=a.C();a.h={1:c+"-disabled",2:c+"-hover",4:c+"-active",8:c+"-selected",16:c+"-checked",32:c+"-focused",64:c+"-open"}}return a.h[b]};function Uc(a,b){if(!a)throw Error("Invalid class name "+a);if(!ga(b))throw Error("Invalid decorator function "+b);}var Vc={};function T(a,b,c){P.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=b[ha]||(b[ha]=++ia);if(d=Vc[d])break;b=b.l?b.l.constructor:null}b=d?ga(d.ea)?d.ea():new d:null}this.h=b;this.eb=t(a)?a:null}z(T,P);l=T.prototype;l.eb=null;l.w=0;l.F=39;l.aa=0;l.Ra=!0;l.v=function(){var a=this.h.g(this);this.G=a;var b=this.h.i();b&&(b?a.setAttribute("role",b):a.removeAttribute("role"));oc(a,!E&&!Wa)};l.za=function(){return this.j()};
l.t=function(){T.l.t.call(this);var a=this.h;if(xc(this)){var b=this.j();Qc(b,a.C()+"-rtl",!0)}this.isEnabled()&&Sc(this,!0);this.F&-2&&(this.Ra&&Wc(this,!0),this.F&32&&(a=this.j()))&&(b=this.i||(this.i=new Dc),Ec(b,a),R(this).listen(b,"key",this.ma).listen(a,"focus",this.rb).listen(a,"blur",this.fb))};
function Wc(a,b){var c=R(a),d=a.j();b?(c.listen(d,"mouseover",a.Ta).listen(d,"mousedown",a.Qa).listen(d,"mouseup",a.Ua).listen(d,"mouseout",a.Sa),a.oa!=ba&&c.listen(d,"contextmenu",a.oa),E&&c.listen(d,"dblclick",a.gb)):(c.T(d,"mouseover",a.Ta).T(d,"mousedown",a.Qa).T(d,"mouseup",a.Ua).T(d,"mouseout",a.Sa),a.oa!=ba&&c.T(d,"contextmenu",a.oa),E&&c.T(d,"dblclick",a.gb))}l.wa=function(){return this.eb};l.isEnabled=function(){return!(this.w&1)};
l.setEnabled=function(a){var b=this.K;b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Xc(this,1,!a)||(a||(Yc(this,!1),this.R(!1)),Sc(this,a),Zc(this,1,!a))};l.R=function(a){Xc(this,2,a)&&Zc(this,2,a)};function Yc(a,b){Xc(a,4,b)&&Zc(a,4,b)}function $c(a,b){Xc(a,8,b)&&Zc(a,8,b)}function ad(a,b){Xc(a,64,b)&&Zc(a,64,b)}function Zc(a,b,c){if(a.F&b&&c!=!!(a.w&b)){var d=a.h,e=a.j();e&&((d=Tc(d,b))&&Qc(a,d,c),Pc(e,b,c));a.w=c?a.w|b:a.w&~b}}
function bd(a,b,c){if(a.A&&a.w&b&&!c)throw Error("Component already rendered");!c&&a.w&b&&Zc(a,b,!1);a.F=c?a.F|b:a.F&~b}function U(a,b){return!!(255&b)&&!!(a.F&b)}function Xc(a,b,c){return!!(a.F&b)&&!!(a.w&b)!=c&&(!(a.aa&b)||N(a,tc(b,c)))&&!0}l.Ta=function(a){!cd(a,this.j())&&N(this,"enter")&&this.isEnabled()&&U(this,2)&&this.R(!0)};l.Sa=function(a){!cd(a,this.j())&&N(this,"leave")&&(U(this,4)&&Yc(this,!1),U(this,2)&&this.R(!1))};l.oa=ba;function cd(a,b){return!!a.q&&Db(b,a.q)}
l.Qa=function(a){if(this.isEnabled()&&(U(this,2)&&this.R(!0),Pb(a)&&!(G&&Ya&&a.ctrlKey))){U(this,4)&&Yc(this,!0);var b;this.F&32&&(b=this.j())&&Eb(b)&&Fb(b)&&this.j().focus()}!Pb(a)||G&&Ya&&a.ctrlKey||a.preventDefault()};l.Ua=function(a){this.isEnabled()&&(U(this,2)&&this.R(!0),this.w&4&&dd(this,a)&&U(this,4)&&Yc(this,!1))};l.gb=function(a){this.isEnabled()&&dd(this,a)};
function dd(a,b){if(U(a,16)){var c=!(a.w&16);Xc(a,16,c)&&Zc(a,16,c)}U(a,8)&&$c(a,!0);U(a,64)&&ad(a,!(a.w&64));c=new J("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.P=b.P);return N(a,c)}l.rb=function(){U(this,32)&&Xc(this,32,!0)&&Zc(this,32,!0)};l.fb=function(){U(this,4)&&Yc(this,!1);U(this,32)&&Xc(this,32,!1)&&Zc(this,32,!1)};l.ma=function(a){return this.isEnabled()&&13==a.g&&dd(this,a)?(a.preventDefault(),a.m(),!0):!1};
if(!ga(T))throw Error("Invalid component class "+T);if(!ga(Mc))throw Error("Invalid renderer class "+Mc);var ed=T[ha]||(T[ha]=++ia);Vc[ed]=Mc;Uc("goog-control",function(){return new T(null)});function fd(){}z(fd,Mc);ca(fd);fd.prototype.C=function(){return"goog-tab"};fd.prototype.i=function(){return"tab"};fd.prototype.g=function(a){var b=fd.l.g.call(this,a);(a=a.k)&&b&&(b.title=a||"");return b};function gd(a,b,c){T.call(this,a,b||fd.ea(),c);bd(this,8,!0);this.aa|=9}z(gd,T);Uc("goog-tab",function(){return new gd(null)});function hd(){}ca(hd);hd.prototype.i=function(){};function id(a,b){a&&(a.tabIndex=b?0:-1)}function jd(a,b){var c=b.j();oc(c,F);E&&(c.hideFocus=!0);var d=a.i();d&&(d?c.setAttribute("role",d):c.removeAttribute("role"))}hd.prototype.C=function(){return"goog-container"};hd.prototype.g=function(a){var b=this.C(),c=[b,a.W==kd?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function ld(a,b,c){P.call(this,c);this.Pa=b||hd.ea();this.W=a||md}z(ld,P);var kd="horizontal",md="vertical";l=ld.prototype;l.cb=null;l.Pa=null;l.W=null;l.la=!0;l.ha=!0;l.H=-1;l.B=null;l.qa=!1;l.ba=null;l.v=function(){this.G=this.g.o("div",this.Pa.g(this).join(" "))};l.za=function(){return this.j()};
l.t=function(){ld.l.t.call(this);vc(this,function(a){a.A&&nd(this,a)},this);var a=this.j();jd(this.Pa,this);od(this,this.la);R(this).listen(this,"enter",this.vb).listen(this,"highlight",this.wb).listen(this,"unhighlight",this.Fb).listen(this,"open",this.Ab).listen(this,"close",this.tb).listen(a,"mousedown",this.qb).listen(xb(a),"mouseup",this.ub).listen(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.sb);pd(this)};
function pd(a){var b=R(a),c=a.j();b.listen(c,"focus",a.bb).listen(c,"blur",a.ob).listen(a.cb||(a.cb=new Dc(a.j())),"key",a.pb)}l.vb=function(){return!0};l.wb=function(a){var b=yc(this,a.target);if(-1<b&&b!=this.H){var c=S(this,this.H);c&&c.R(!1);this.H=b;c=S(this,this.H);this.qa&&Yc(c,!0);this.B&&c!=this.B&&(c.F&64?ad(c,!0):ad(this.B,!1))}b=this.j();null!=a.target.j()&&Lc(b,"activedescendant",a.target.j().id)};l.Fb=function(a){a.target==S(this,this.H)&&(this.H=-1);this.j().removeAttribute("aria-activedescendant")};
l.Ab=function(a){(a=a.target)&&a!=this.B&&a.K==this&&(this.B&&ad(this.B,!1),this.B=a)};l.tb=function(a){a.target==this.B&&(this.B=null)};l.qb=function(a){this.ha&&(this.qa=!0);var b=this.j();b&&Eb(b)&&Fb(b)?b.focus():a.preventDefault()};l.ub=function(){this.qa=!1};
l.sb=function(a){var b;a:{b=a.target;if(this.ba)for(var c=this.j();b&&b!==c;){var d=b.id;if(d in this.ba){b=this.ba[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Qa(a);break;case "mouseup":b.Ua(a);break;case "mouseover":b.Ta(a);break;case "mouseout":b.Sa(a);break;case "contextmenu":b.oa(a)}};l.bb=function(){};l.ob=function(){qd(this,-1);this.qa=!1;this.B&&ad(this.B,!1)};
l.pb=function(a){return this.isEnabled()&&this.la&&0!=wc(this)&&rd(this,a)?(a.preventDefault(),a.m(),!0):!1};
function rd(a,b){var c=S(a,a.H);if(c&&"function"==typeof c.ma&&c.ma(b)||a.B&&a.B!=c&&"function"==typeof a.B.ma&&a.B.ma(b))return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!1;switch(b.g){case 27:a.j().blur();break;case 36:sd(a);break;case 35:td(a);break;case 38:if(a.W==md)ud(a);else return!1;break;case 37:if(a.W==kd)xc(a)?vd(a):ud(a);else return!1;break;case 40:if(a.W==md)vd(a);else return!1;break;case 39:if(a.W==kd)xc(a)?ud(a):vd(a);else return!1;break;default:return!1}return!0}
function nd(a,b){var c=b.j(),c=c.id||(c.id=b.D());a.ba||(a.ba={});a.ba[c]=b}l.U=function(a,b){ld.l.U.call(this,a,b)};l.Ia=function(a,b,c){a.aa|=2;a.aa|=64;bd(a,32,!1);a.A&&!1!=a.Ra&&Wc(a,!1);a.Ra=!1;ld.l.Ia.call(this,a,b,c);a.A&&this.A&&nd(this,a);b<=this.H&&this.H++};function od(a,b){a.la=b;var c=a.j();c&&(O(c,b),id(a.j(),a.ha&&a.la))}l.isEnabled=function(){return this.ha};
l.setEnabled=function(a){this.ha!=a&&N(this,a?"enable":"disable")&&(a?(this.ha=!0,vc(this,function(a){a.mb?delete a.mb:a.setEnabled(!0)})):(vc(this,function(a){a.isEnabled()?a.setEnabled(!1):a.mb=!0}),this.qa=this.ha=!1),id(this.j(),a&&this.la))};function qd(a,b){var c=S(a,b);c?c.R(!0):-1<a.H&&S(a,a.H).R(!1)}l.R=function(a){qd(this,yc(this,a))};function sd(a){wd(a,function(a,c){return(a+1)%c},wc(a)-1)}function td(a){wd(a,function(a,c){a--;return 0>a?c-1:a},0)}
function vd(a){wd(a,function(a,c){return(a+1)%c},a.H)}function ud(a){wd(a,function(a,c){a--;return 0>a?c-1:a},a.H)}function wd(a,b,c){c=0>c?yc(a,a.B):c;var d=wc(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=S(a,c),k;if(k=f)k=f.isEnabled()&&!!(f.F&2);if(k){a.Xa(c);break}e++;c=b.call(a,c,d)}}l.Xa=function(a){qd(this,a)};function xd(){}z(xd,hd);ca(xd);xd.prototype.C=function(){return"goog-tab-bar"};xd.prototype.i=function(){return"tablist"};xd.prototype.g=function(a){var b=xd.l.g.call(this,a);if(!this.h){var c=this.C();this.h=ub(yd,c+"-top",zd,c+"-bottom",Ad,c+"-start",Bd,c+"-end")}b.push(this.h[a.h]);return b};function Cd(a,b,c){a=a||yd;var d=a==Ad||a==Bd?md:kd;if(this.j())throw Error("Component already rendered");this.W=d;this.h=a;ld.call(this,this.W,b||xd.ea(),c);Dd(this)}z(Cd,ld);var yd="top",zd="bottom",Ad="start",Bd="end";l=Cd.prototype;l.Q=null;l.t=function(){Cd.l.t.call(this);Dd(this)};l.Xa=function(a){Cd.l.Xa.call(this,a);this.Ga(S(this,a))};l.Ga=function(a){a?$c(a,!0):this.Q&&$c(this.Q,!1)};
function Ed(a,b){if(b&&b==a.Q){for(var c=yc(a,b),d=c-1;b=S(a,d);d--)if(b.isEnabled()){a.Ga(b);return}for(c+=1;b=S(a,c);c++)if(b.isEnabled()){a.Ga(b);return}a.Ga(null)}}l.Db=function(a){this.Q&&this.Q!=a.target&&$c(this.Q,!1);this.Q=a.target};l.Eb=function(a){a.target==this.Q&&(this.Q=null)};l.Bb=function(a){Ed(this,a.target)};l.Cb=function(a){Ed(this,a.target)};l.bb=function(){S(this,this.H)||this.R(this.Q||S(this,0))};
function Dd(a){R(a).listen(a,"select",a.Db).listen(a,"unselect",a.Eb).listen(a,"disable",a.Bb).listen(a,"hide",a.Cb)}Uc("goog-tab-bar",function(){return new Cd});E&&H(8);/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Fd(a,b){this.k=[];this.kb=a;this.P=b||null}l=Fd.prototype;l.Y=!1;l.na=!1;l.Ka=!1;l.nb=!1;l.Za=!1;l.La=0;function Gd(a,b){if(a.Y)a.i instanceof Fd&&Gd(a.i);else{if(a.g){var c=a.g;delete a.g;b?Gd(c,b):(c.La--,0>=c.La&&Gd(c))}a.kb?a.kb.call(a.P,a):a.Za=!0;a.Y||a.O(new Hd)}}l.$a=function(a,b){this.Ka=!1;Id(this,a,b)};function Id(a,b,c){a.Y=!0;a.i=c;a.na=!b;Jd(a)}function Kd(a){if(a.Y){if(!a.Za)throw new Ld;a.Za=!1}}l.X=function(a){Kd(this);Id(this,!0,a)};l.O=function(a){Kd(this);Id(this,!1,a)};
function Md(a,b,c){return Nd(a,b,null,c)}function Nd(a,b,c,d){a.k.push([b,c,d]);a.Y&&Jd(a);return a}function Od(a){return Ha(a.k,function(a){return ga(a[1])})}
function Jd(a){a.q&&a.Y&&Od(a)&&(s.clearTimeout(a.q),delete a.q);a.g&&(a.g.La--,delete a.g);for(var b=a.i,c=!1,d=!1;a.k.length&&!a.Ka;){var e=a.k.shift(),f=e[0],k=e[1],e=e[2];if(f=a.na?k:f)try{var m=f.call(e||a.P,b);t(m)&&(a.na=a.na&&(m==b||m instanceof Error),a.i=b=m);b instanceof Fd&&(d=!0,a.Ka=!0)}catch(n){b=n,a.na=!0,Od(a)||(c=!0)}}a.i=b;d&&(Nd(b,x(a.$a,a,!0),x(a.$a,a,!1)),b.nb=!0);c&&(a.q=s.setTimeout(nb(b),0))}
function Pd(a){Error.captureStackTrace?Error.captureStackTrace(this,Pd):this.stack=Error().stack||"";a&&(this.message=String(a))}z(Pd,Error);function Ld(){Pd.call(this)}z(Ld,Pd);Ld.prototype.message="Deferred has already fired";Ld.prototype.name="AlreadyCalledError";function Hd(){Pd.call(this)}z(Hd,Pd);Hd.prototype.message="Deferred was canceled";Hd.prototype.name="CanceledError";function Qd(a,b){Fd.call(this,a,b);this.h=[]}z(Qd,Fd);Qd.prototype.X=function(a){this.h.length=0;Qd.l.X.call(this,a)};Qd.prototype.O=function(a){this.h.length=0;Qd.l.O.call(this,a)};function Rd(a){this.id="i"+this.count();this.req=a;this.i=!0;this.g=this.h=null;this.k=new Qd;this.m=NaN}Rd.prototype.D=function(){return this.id};var Sd=0;Rd.prototype.count=function(){Sd++;return Sd};
Rd.prototype.listen=function(a){if(a&&a.id==this.id){this.h=a.data;var b=a.error;b&&(b instanceof Error?this.g=b:w(b)?(this.g=Error(b.message),this.g.name=b.name,this.g.source=b,this.g.result=this.h):(this.g=Error(b),this.g.name="UnknownError"));if(a.done)this.i=!1,this.g?this.k.O(this.g):this.k.X(this.h),window.clearTimeout(this.m);else{b=this.k;a=a.data;for(var c=0;c<b.h.length;c++)b.h[c][0].call(b.h[c][1],a)}return!0}return!1};
Rd.prototype.toString=function(){return"Message:"+this.id+(this.i?"*":"")};Rd.prototype.toJSON=function(){var a=this;this.m=window.setTimeout(function(){if(a.i){var b=Error("message timeout");b.name="TimeOutError";a.listen({id:a.id,req:a.req,error:b})}},5E3);return{id:this.id,req:this.req,group:this.q,name:this.P,data:this.h}};function Td(a){M.call(this);this.name=a||"main-"+ma();this.g=[];this.h=this.m=null;this.i={}}z(Td,M);function Ud(a){J.call(this,"post");this.message=a}z(Ud,J);Ud.prototype.getMessage=function(){return this.message};
Td.prototype.k=function(a){if(a&&a.id)for(var b=this.g.length-1;0<=b;b--)if(this.g[b].D()==a.id){window.console.log(this+" receiving msg "+a.req+":"+a.id,a);if(!a.id){"info"==a.req?(a.data=this.m,this.h.postMessage(a)):N(this,new Ud(a));break}if(this.g[b].listen(a)){this.g[b].i?25<b&&(a=this.g.splice(b,1),this.g.unshift(a[0])):this.g.splice(b,1);break}}};Td.prototype.toString=function(){return"Pipe:"+this.name};
function Vd(a){if(!a.h){a.h=chrome.runtime.connect({name:a.name});var b=x(a.k,a);a.h.onMessage.addListener(b);a.h.onDisconnect.addListener(function(){s.console.log("disconnected port "+a.h.name+" "+a.h.url);a.h.onMessage.removeListener(b);a.h=null;a.g.length=0})}return a.h}var Wd=null;function Xd(){Wd||(Wd=new Td);return Wd}function V(a,b){var c=Xd(),d=a||"main",e=d+(b?"-"+b:"");c.i[e]||(c.i[e]=new Yd(c,d,b||""));return c.i[e]}function Yd(a,b,c){this.g=a;this.h=b;this.i=c}
function W(a,b,c){b=new Rd(b);var d=a.i;b.q=a.h;b.P=d;c&&(b.h=c);c=b.k;a=a.g;d=b.toJSON();window.console.log(a+" sending msg "+d.req+":"+d.id);Vd(a).postMessage(d);a.g.push(b);50<a.g.length&&(a.g.length-=1);return c};var Zd="chrome-extension://fmhdpfhfppingdiiefgnanjceieflpkj/"==chrome.extension.getURL("")?"crm-ex/":"",$d=Zd+"option-page.html",ae=Zd+"host-permission.html";function be(a,b){M.call(this);this.k=a||1;this.h=b||s;this.m=x(this.ia,this);this.q=ma()}z(be,M);be.prototype.i=!1;be.prototype.g=null;be.prototype.ia=function(){if(this.i){var a=ma()-this.q;0<a&&a<0.8*this.k?this.g=this.h.setTimeout(this.m,this.k-a):(this.g&&(this.h.clearTimeout(this.g),this.g=null),N(this,ce),this.i&&(this.g=this.h.setTimeout(this.m,this.k),this.q=ma()))}};be.prototype.stop=function(){this.i=!1;this.g&&(this.h.clearTimeout(this.g),this.g=null)};var ce="tick";function de(a,b,c,d,e,f){Fd.call(this,e,f);this.m=a;this.h=[];this.ia=!!b;this.Kb=!!c;this.Ib=!!d;for(b=this.jb=0;b<a.length;b++)Nd(a[b],x(this.Ea,this,b,!0),x(this.Ea,this,b,!1));0!=a.length||this.ia||this.X(this.h)}z(de,Fd);de.prototype.Ea=function(a,b,c){this.jb++;this.h[a]=[b,c];this.Y||(this.ia&&b?this.X([a,c]):this.Kb&&!b?this.O(c):this.jb==this.m.length&&this.X(this.h));this.Ib&&!b&&(c=null);return c};de.prototype.O=function(a){de.l.O.call(this,a);for(a=0;a<this.m.length;a++)Gd(this.m[a])};function ee(a){if("function"==typeof a.S)return a.S();if(v(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return pb(a)}function fe(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||v(a))Ea(a,b,c);else{var d;if("function"==typeof a.fa)d=a.fa();else if("function"!=typeof a.S)if(ea(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=qb(a);else d=void 0;for(var e=ee(a),f=e.length,k=0;k<f;k++)b.call(c,e[k],d&&d[k],a)}};function ge(a,b){this.h={};this.g=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ge?(c=a.fa(),d=a.S()):(c=qb(a),d=pb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=ge.prototype;l.S=function(){he(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};l.fa=function(){he(this);return this.g.concat()};
l.remove=function(a){return ie(this.h,a)?(delete this.h[a],this.i--,this.g.length>2*this.i&&he(this),!0):!1};function he(a){if(a.i!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];ie(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.i!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],ie(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}l.get=function(a,b){return ie(this.h,a)?this.h[a]:b};l.set=function(a,b){ie(this.h,a)||(this.i++,this.g.push(a));this.h[a]=b};l.ua=function(){return new ge(this)};
function ie(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function je(a){return ke(a||arguments.callee.caller,[])}
function ke(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(le(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=le(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(ke(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function le(a){if(me[a])return me[a];a=String(a);if(!me[a]){var b=/function ([^\(]+)/.exec(a);me[a]=b?b[1]:"[Anonymous]"}return me[a]}var me={};function ne(a,b,c,d,e){"number"==typeof e||oe++;this.m=d||ma();this.k=a;this.q=b;this.i=c;delete this.h;delete this.g}ne.prototype.h=null;ne.prototype.g=null;var oe=0;ne.prototype.getMessage=function(){return this.q};function X(a){this.q=a}X.prototype.i=null;X.prototype.h=null;X.prototype.k=null;X.prototype.g=null;function Y(a,b){this.name=a;this.value=b}Y.prototype.toString=function(){return this.name};var pe=new Y("SHOUT",1200),qe=new Y("SEVERE",1E3),re=new Y("WARNING",900),se=new Y("INFO",800),te=new Y("CONFIG",700),ue=new Y("FINE",500),ve=new Y("FINER",400),we=new Y("FINEST",300),xe=[new Y("OFF",Infinity),pe,qe,re,se,te,ue,ve,we,new Y("ALL",0)],ye=null;
X.prototype.getChildren=function(){this.k||(this.k={});return this.k};function ze(a){if(a.h)return a.h;if(a.i)return ze(a.i);Ca("Root logger has no level set.");return null}
X.prototype.log=function(a,b,c){if(a.value>=ze(this).value)for(ga(b)&&(b=b()),a=this.m(a,b,c),b="log:"+a.getMessage(),s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b)),s.msWriteProfilerMark&&s.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.g)for(var e=0,f=void 0;f=c.g[e];e++)f(d);b=b.i}};
X.prototype.m=function(a,b,c){var d=new ne(a,String(b),this.q);if(c){d.h=c;var e;var f=arguments.callee.caller;try{var k;var m=aa("window.location.href");if(v(c))k={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var n,p,q=!1;try{n=c.lineNumber||c.Ob||"Not available"}catch(r){n="Not available",q=!0}try{p=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||m}catch(B){p="Not available",q=!0}k=!q&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:n,fileName:p,stack:c.stack||"Not available"}}e="Message: "+ra(k.message)+'\nUrl: <a href="view-source:'+k.fileName+'" target="_new">'+k.fileName+"</a>\nLine: "+k.lineNumber+"\n\nBrowser stack:\n"+ra(k.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(je(f)+"-> ")}catch(C){e="Exception trying to expose exception! You win, we lose. "+C}d.g=e}return d};function Z(a,b){a.log(re,b,void 0)}
X.prototype.info=function(a,b){this.log(se,a,b)};function Ae(a,b){a.log(ve,b,void 0)}var Be={},Ce=null;function De(){Ce||(Ce=new X(""),Be[""]=Ce,Ce.h=te)}function Ee(){De();return Ce}function $(a){De();var b;if(!(b=Be[a])){b=new X(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=$(a.substr(0,c));c.getChildren()[d]=b;b.i=c;Be[a]=b}return b};function Fe(a,b,c){this.i=a;this.h=new Ge({id:{$t:"http://www.google.com/m8/feeds/contacts/kts%40gmail.com/base/0"},gd$email:[{address:a,primary:"true"}],gd$name:{gd$fullName:{$t:b}},gd$phoneNumber:[{$t:c,primary:"true"}]});this.g=null}function He(a){return rb(a.h.data,"gd$phoneNumber",0,"$t")||""}
function Ie(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=c,f=d,k=a.h,m=b[d],n=0,p=Je(k),q=Je(m),r=0;r<p.length;r++)for(var B=p[r],C=0;C<q.length;C++){var ya=q[C];B&&B==ya&&(n+=1)}p=0;B=k.data.gd$name;C=m.data.gd$name;if(B&&C)for(ya=["gd$familyName","gd$givenName","gd$additionalName","gd$fullName"],q=[0.06,0.06,0.06,0.12],r=0;4>r;r++){var y=B[ya[r]],Q=C[ya[r]];y&&Q==y&&(p+=q[r])}r=0;q=k.xa();B=m.xa();q&&q==B&&(r+=0.2);C=0;k=Ke(k);m=Ke(m);B=k.length;for(q=[];B--;){C=k[B];ya=m.length;for(q[B]=0;ya--;)Q=
m[ya],C.$t&&Q.$t&&((y=C)&&Q&&0!=y.length&&0!=Q.length?(y=y.trim(),Q=Q.trim(),y=Le(y),Q=Le(Q),y=y.Ma&&y.N&&y.Ma==Q.Ma&&y.N==Q.N?6<=y.N.length?1:4<=y.N.length?0.8:0.4:y.N&&4<=y.N.length&&y.N==Q.N?8<=y.N.length?0.8:4<=y.N.length?0.6:0.4:0):y=0,q[B]=Math.max(q[B],0.7*y));C=Me(q).value}e[f]=n+p+r+C}e=[];for(d=0;d<b.length;d++){f=e;n=c[d];p=Oa;q=0;m=f.length;for(k=void 0;q<m;)r=q+m>>1,B=p(n,f[r]),0<B?q=r+1:(m=r,k=!B);f=k?q:~q;0>f?(Ma(e,-(f+1),0,c[d]),n=b.splice(d,1),Ma(b,-(f+1),0,n[0])):Ma(e,f,0,c[d])}return e}
function Ne(a){var b=W(V(),"gdata-list-contact-by-email",a.i);Md(b,function(a){window.g=a;window.console.log(a);a=a.map(function(a){return new Ge(a)});var b=Ie(this,a);this.g=[];for(var e=0;e<b.length;e++)0.9<b[e]&&this.g.push(a[e]);window.console.log(a,b,this.g)},a);return b}Fe.prototype.toString=function(){this.g&&this.g[0]&&this.g[0].id.match(/\w+$/);return"ContactModel:"+this.i};var Oe=["Accounts","Leads","Contacts"];function Pe(a,b,c){this.domain=a;this.I=b;this.g=c||null}Pe.prototype.p=function(){return this.I};Pe.prototype.D=function(){return this.g.id};Pe.prototype.value=function(a){return this.g?this.g[a]:void 0};function Qe(a,b,c){function d(d,k){!a[c+k]||b[d]&&b[d].$t==a[c+k]||(e++,b[d]={$t:a[c+k]})}var e=0;if(!a)return 0;b||(b={});d("gd$city","_address_city");d("gd$country","_address_country");d("gd$postcode","_address_postalcode");d("gd$region","_address_state");d("gd$street","_address_street");d("gd$neighborhood","_address_street_2");d("gd$city","_address_street_3");return e}
function Re(a,b){function c(a,c){if(k[a]){b.gd$phoneNumber||(b.gd$phoneNumber=[]);var d;a:{for(d=0;b.gd$phoneNumber&&d<b.gd$phoneNumber.length;d++)if(b.gd$phoneNumber[d].rel==c){d=b.gd$phoneNumber[d];break a}d=null}d?d.$t!=k[a]&&(d.$t=k[a],m++):(b.gd$phoneNumber.push({rel:c,$t:k[a]}),m++)}}function d(a){b.gd$im||(b.gd$im=[]);for(var c=0;c<b.gd$im.length;c++)if(b.gd$im[c].label==a)return b.gd$im[c];return null}function e(){b.gd$name||(b.gd$name={},m++)}function f(a,c){if(k[a]){b.gd$email||(b.gd$email=
[]);var d;a:{for(d=0;b.gd$email&&d<b.gd$email.length;d++)if(!(0<=n.indexOf(d))&&b.gd$email[d].address==k[a])break a;d=-1}if(0<=d){var e=b.gd$email[d];e.rel!=c&&(m++,e.rel=c);n.push(d)}else b.gd$email.push({rel:c,address:k[a]}),n.push(b.gd$email.length-1),m++}}var k=a.g,m=0;!k.name||b.title&&b.title.$t==k.name||(b.title={$t:k.name},m++);var n=[];f("email1","http://schemas.google.com/g/2005#work");f("email2","http://schemas.google.com/g/2005#home");f("email","http://schemas.google.com/g/2005#other");
k.salutation&&(e(),b.gd$name.gd$namePrefix&&b.gd$name.gd$namePrefix.$t==k.salutation||(b.gd$name.gd$namePrefix={$t:k.salutation},m++));k.first_name&&(e(),b.gd$name.gd$givenName&&b.gd$name.gd$givenName.$t==k.first_name||(b.gd$name.gd$givenName={$t:k.first_name},m++));k.last_name&&(e(),b.gd$name.gd$familyName&&b.gd$name.gd$familyName.$t==k.last_name||(b.gd$name.gd$familyName={$t:k.last_name},m++));k.full_name&&(e(),b.gd$name.gd$fullName&&b.gd$name.gd$fullName.$t==k.full_name||(b.gd$name.gd$fullName=
{$t:k.full_name},m++));if(k.twitter){var p=d("Twitter");p?p.address!=k.twitter&&(p.address=k.twitter,m++):(b.gd$im.push({label:"Twitter",address:k.twitter}),m++)}k.facebook&&((p=d("Facebook"),p)?p.address!=k.facebook&&(p.address=k.facebook,m++):(b.gd$im.push({label:"Facebook",address:k.facebook}),m++));k.googleplus&&((p=d("Google Plus"),p)?p.address!=k.googleplus&&(p.address=k.googleplus,m++):(b.gd$im.push({label:"Google Plus",address:k.googleplus}),m++));k.linkedin&&((p=d("Linkedin"),p)?p.address!=
k.linkedin&&(p.address=k.linkedin,m++):(b.gd$im.push({label:"Linkedin",address:k.linkedin}),m++));!k.birthdate||b.gContact$birthday&&b.gContact$birthday.when==k.birthdate||(b.gContact$birthday={when:k.birthdate},m++);c("phone_mobile","http://schemas.google.com/g/2005#mobile");c("phone_work","http://schemas.google.com/g/2005#work");c("phone_home","http://schemas.google.com/g/2005#home");c("phone_fax","http://schemas.google.com/g/2005#work_fax");c("phone_other","http://schemas.google.com/g/2005#other");
for(var q=-1,p=-1,r=0;b.gd$structuredPostalAddress&&r<b.gd$structuredPostalAddress.length;r++)-1==q&&"true"==b.gd$structuredPostalAddress[r].primary||"http://schemas.google.com/g/2005#work"==b.gd$structuredPostalAddress[r].rel?q=r:-1==p&&(p=r);-1==q&&0<=p&&(q=p,b.gd$structuredPostalAddress[q].primary="true",p=-1);0<=q?m+=Qe(k,b.gd$structuredPostalAddress[q],"primary"):(q={primary:"true",rel:"http://schemas.google.com/g/2005#work"},r=Qe(k,q,"primary"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=
[]),b.gd$structuredPostalAddress.push(q),m+=r));0<=p?m+=Qe(k,b.gd$structuredPostalAddress[p],"alt"):(q={},r=Qe(k,q,"alt"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=[]),b.gd$structuredPostalAddress.push(q),m+=r))};function Se(a,b){this.g=a;this.I=b instanceof Pe?b.p():b;this.h=b instanceof Pe?b:null}Se.prototype.p=function(){return this.I};
function Te(a){var b=new Qd,c=a.g.g,d;if(c)d="import-gdata",c={module:a.p(),kind:c.Na(),"gdata-id":c.D()};else{d="new-record";var e=a.g.k,c={email1:a.g.i,full_name:e};e&&0<e.length&&(e=e.split(/\s/),e[0]&&(c.first_name=e[0]),e[1]&&(c.last_name=e[e.length-1]));(e=a.g.m)&&(c.phone_work=e);c={module:a.p(),record:c}}Nd(W(V("sugarcrm",a.g.domain),d,c),function(a){window.console.log(a);w(a)?(a.id||b.O("New record not created."),this.h=new Pe(this.g.domain,this.p(),a),b.X(this.h)):b.O("Something has done.")},
function(a){b.O(a)},a);return b}
function Ue(a){var b=a.h,c=b.D(),d=a.g.g;if(d)return c=a.p()+"#"+ +new Date(d.data.updated.$t)+"-NaN",b="sugarcrm://"+a.g.domain+"/"+a.p()+"/"+b.D(),d={kind:d.Na(),"gdata-id":d.D(),"external-id":{label:c,value:b}},Md(W(V("sugarcrm",a.g.domain),"link",d),function(a){window.console.log("link",a);a=new Ge(a);this.g.g=a},a);d={};Re(b,d);b=new Date(b.date_modified);d.gContact$externalId=[{label:a.p()+"#"+ma()+"-"+b.getTime(),value:"sugarcrm://"+a.g.domain+"/"+a.p()+"/"+c}];window.console.log("exporting new-entry",
d);b=W(V(),"new-entry",d);Nd(b,function(a){window.console.log("export",a);a=new Ge(a);return this.g.g=a},function(a){throw Error(a.name+": "+a.message);},a);return b}Se.prototype.toString=function(){return"RecordModel:"+this.I+":"+this.h};function Ve(a){P.call(this,a)}z(Ve,P);l=Ve.prototype;l.n=$("ydn.crm.inj.sugar.Footer");l.C=function(){return"sugar-header"};
l.v=function(){Ve.l.v.call(this);var a=this.g,b=this.j();I(b,this.C());var c=a.o("a"),c=a.o("div",{"class":"main-title",title:"SugarCRM"},[c]);b.appendChild(c);var c=[],d=chrome.extension.getURL($d)+"#credentials",d=a.o("a",{href:d,target:"option-page"},"Setup host permission");d.setAttribute("title","Your permission is required to connect your server from this extension. Without permission request to server will be slow.");c.push(d);c=a.o("div",{"class":"host-permission"},c);b.appendChild(c);var d=
a.o("input",{name:"username",type:"text"}),d=a.o("div",null,[d]),e=a.o("input",{name:"password",type:"password"}),e=a.o("div",null,[e]),a=a.o("div","login-form",[d,e]);O(c,!1);O(a,!1);b.appendChild(a)};l.t=function(){Ve.l.t.call(this);var a=this.j(),b=R(this);this.j().querySelector(".host-permission");a=a.querySelector(".login-form");a=new Dc(a);b.listen(a,"key",this.Lb)};
l.Lb=function(a){if(13==a.g){var b=this.j().querySelector(".login-form");a=this.pa;var c=b.querySelector("input[name=username]").value,b=b.querySelector("input[name=password]").value;We(a,c,b)}};
l.s=function(a){Ve.l.s.call(this,a);Ae(this.n,"showing for "+a);var b=a.g.domain,c=this.j(),d=c.querySelector(".main-title a"),e=c.querySelector(".login-form"),f=c.querySelector(".host-permission");d.textContent=b;d.href=a.g.baseUrl||null||"https://"+b;e.querySelector("input[name=username]").textContent=a.g.userName||null||"";O(e,!1);O(f,!1);O(c,!0);a.isLogin()||Md(W(V("sugarcrm",b),"about"),function(a){O(e,!a.isLogin)});a.isLogin()&&!a.g.hostPermission&&(a=chrome.extension.getURL(ae),f.querySelector("a").href=
a+"?"+b,O(f,!0))};function Xe(a,b){P.call(this,a);this.h=b}z(Xe,P);l=Xe.prototype;l.n=$("ydn.crm.inj.sugar.module.Body");l.p=function(){return this.h.I};
l.v=function(){Xe.l.v.call(this);var a=this.g,b=a.o("div",{"class":"toolbar"}),c=a.o("div",{"class":"fields"}),d=this.j();I(d,"record-body");for(var e=Object.keys(this.h.i.module_fields),f=0;f<e.length;f++){var k=this.h.i.module_fields[e[f]],m,n,p=v(k.label)?k.label.replace(/:$/,""):k.label;"bool"==k.type?(m=a.o("input","value"),m.setAttribute("type","checkbox"),m.setAttribute("disabled","disabled"),n=a.o("span","name")):(m=a.o("label","value"),n=a.o("sup","name"));n.textContent=p;m=a.o("div",{"class":"field"+
(k.normallyHide?" normally-hide":"")},[m,n]);m.setAttribute("name",k.name);c.appendChild(m)}d.appendChild(b);d.appendChild(c);O(d,!1)};l.t=function(){Xe.l.t.call(this);this.j()};
l.s=function(a){Xe.l.s.call(this,a);var b=this.j();a=a.h;var c=b.querySelector(".fields");if(a){O(b,!0);for(var b=c.childElementCount,d=0;d<b;d++){var e=c.children[d],f=e.getAttribute("name"),k=e.querySelector(".value"),f=a.value(f),f=v(f)?f.trim():f;if("LABEL"==k.tagName)k.textContent=f||"";else{var m=f,n=k.type;if(t(n))switch(n.toLowerCase()){case "checkbox":case "radio":k.checked=m?"checked":null;break;case "select-one":k.selectedIndex=-1;if(v(m))for(var n=void 0,p=0;n=k.options[p];p++)if(n.value==
m){n.selected=!0;break}break;case "select-multiple":v(m)&&(m=[m]);n=void 0;for(p=0;n=k.options[p];p++)if(n.selected=!1,m)for(var q,r=0;q=m[r];r++)n.value==q&&(n.selected=!0);break;default:k.value=null!=m?m:""}}f?lb(e,"empty"):I(e,"empty")}}else O(b,!1)};function Ye(a,b){P.call(this,a);this.h=b}z(Ye,P);l=Ye.prototype;l.n=$("ydn.crm.inj.sugar.module.Header");l.p=function(){return this.h.I};
l.v=function(){Ye.l.v.call(this);var a=this.g,b=this.p(),c=a.o("span",{"class":"icon"},b.substr(0,2)),d=a.o("a",{href:"#","class":"title"}),e=a.o("a",{href:"#link","class":"link"},"link"),f=a.o("span","synced");O(e,!1);O(f,!1);c=a.o("div","header",[c,d,e,f]);b=a.o("a",{href:"#import"},"Add to "+b);b.style.zIndex=1E3;a=a.o("div",{"class":"import"},b);b=this.j();b.className="record-header";O(b,!1);b.appendChild(a);b.appendChild(c)};
l.t=function(){Ye.l.t.call(this);var a=this.j(),b=a.querySelector(".import a");R(this).listen(b,"click",this.yb,!1);a=a.querySelector("a.link");R(this).listen(a,"click",this.zb,!1)};
l.s=function(a){Ye.l.s.call(this,a);Ae(this.n,"setModel "+a);var b=this.j(),c=a.h,d=a.g.g,e=b.querySelector(".import"),f=e.nextElementSibling,k=e.querySelector("a");lb(k,"null");lb(k,"error");k.removeAttribute("rel");k.textContent=(d?"Import":"Add")+" to "+this.p();var m=b.querySelector("a.link");lb(m,"null");lb(m,"error");m.removeAttribute("rel");d?(k.textContent="Import to "+this.p(),k.setAttribute("title","Import Gmail contact "+d.id.match(/\w+$/)[0]+" to SugarCRM "+this.p()),m.textContent="link",
m.setAttribute("title","Link Gmail contact "+d.id.match(/\w+$/)[0]+" with this SugarCRM "+this.p())):(k.textContent="Add to "+this.p(),k.setAttribute("title","Add current contact  to SugarCRM "+this.p()),m.textContent="export",m.setAttribute("title","Export this SugarCRM "+this.p()+" to Gmail My Contacts address book"));if(!(k=c)){var n;a:{a=a.g;for(n in a.h)if(a.h[n].h){n=!0;break a}n=!1}k=!n}O(b,k);O(e,!c);O(f,c);if(c)if(b=b.querySelector(".title"),n=c.g?(n=c.g.full_name||"")?n:(c.g.first_name||
"").trim()+" "+(c.g.last_name||"").trim():"",b.textContent=n,n=c.D(),b.href="https://"+c.domain+"/index.php?module="+c.I+"&action=DetailView&record="+n,f=f.querySelector(".synced"),d){O(m,!1);a:{b=c.domain;n=c.p();d=d.data;d=u(d.gContact$externalId)?d.gContact$externalId:d.gContact$externalId?[d.gContact$externalId]:[];for(a=0;a<d.length;a++)if(d[a].value){var p=d[a].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(p){var k=p[1],q=p[2],r=p[3],p=p[4];if(!("sugarcrm"!=k||b&&b!=q||n&&n!=r)){d={domain:q,
I:r,id:p,scheme:k};break a}}}d=null}d?d.id==c.D()?(O(f,!0),m.textContent=""):(Z(this.n,"expect link id to be "+c.D()+" but "+d.id+" found."),O(f,!1)):(O(m,!0),O(f,!1))}else O(m,!0),O(f,!1);"Accounts"==this.p()&&O(e,!1)};
l.zb=function(a){a.preventDefault();var b=this.j(),c=a.target,d=b.querySelector(".import"),e=d.nextElementSibling;a=D(kb(c),"error");D(kb(c),"null")||(a?(c.textContent="Error recorded. Thanks.",c.removeAttribute("href")):(I(c,"null"),a=this.pa,c.textContent="Linking...",Nd(Ue(a),function(){c.textContent="Done.";I(c,"null");O(d,!1);O(e,!0);N(this,new J("change"))},function(a){lb(c,"null");I(c,"error");a=a instanceof Error?a.name+" "+a.message:w(a)?Ze(a):a;c.setAttribute("title",a);var b=Gb(c);W(V(),
"log",{"class":"RecordHeader",method:"handleLinkClick",context:c.textContent,html:b?b.outerHTML:"",error:a});c.textContent="Error"},this)))};
l.yb=function(a){a.preventDefault();var b=a.target;a=b.getAttribute("rel");if("error-report"==a)b.textContent="Recorded. Thanks",b.setAttribute("rel","null"),b.removeAttribute("title"),b.removeAttribute("href"),lb(b,"error");else if("null"!=a){var c=this.pa;b.textContent="adding... to "+this.p();a=Te(c);c.g.g?a=Nd(a,function(){b.textContent="Added. Linking...";return Ue(c)},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?Ze(a):a;b.setAttribute("title",
"Error importing: "+a);I(b,"error");var c=Gb(b);W(V(),"log",{"class":"RecordHeader",method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this):b.textContent="Importing...";Nd(a,function(){O(b.parentElement,!1);N(this,new J("change",this))},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?Ze(a):a;b.setAttribute("title","Error linking: "+a);I(b,"error");var c=Gb(b);W(V(),"log",{"class":"RecordHeader",method:"handleImportClick",
context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this)}};function $e(a,b){P.call(this,a);this.i=b;this.I=b.module_name}z($e,P);$e.prototype.v=function(){$e.l.v.call(this);I(this.j(),"record-panel");I(this.j(),this.I);var a=new Ye(this.g,this);this.U(a,!0);a=new Xe(this.g,this);this.U(a,!0)};$e.prototype.t=function(){$e.l.t.call(this);for(var a=0;a<wc(this);a++){var b=S(this,a);R(this).listen(b,"change",this.h)}};$e.prototype.h=function(){for(var a=this.pa,b=0;b<wc(this);b++)S(this,b).s(a)};$e.prototype.s=function(a){$e.l.s.call(this,a);this.h()};function af(a,b,c,d,e,f){this.domain=a;this.i=b;this.k=e;this.m=f||"";this.g=c;this.h={};d=d||[];for(a=0;a<d.length;a++)this.h[d[a].p()]=new Se(this,d[a]);for(a=0;a<Oe.length;a++)d=Oe[a],this.h[d]||(this.h[d]=new Se(this,d))}af.prototype.toString=function(){return"Model:"+this.i};$("ydn.gdata.base");function Le(a){var b,c=a.match(/^\D*0*(\d{1,2}\D)?\D*0*(.+)/);c?(b=c[1].replace(/\D/g,""),a=c[2].replace(/\D/g,"")):a=a.replace(/\D/g,"");return{Ma:b,N:a}};function bf(a){Error.captureStackTrace?Error.captureStackTrace(this,bf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}z(bf,Error);z(bf,Error);z(bf,Error);function cf(a){this.data=a}cf.prototype.D=function(){return this.data.id.$t};cf.prototype.xa=function(){return this.data.title?this.data.title.$t:void 0};cf.prototype.wa=function(){return this.data.content||null};function df(a){this.data=a}z(df,cf);var ef=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function ff(a){if(gf){gf=!1;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=ff(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw gf=!0,Error();}}return a.match(ef)}var gf=G;function hf(a,b){var c;if(a instanceof hf)this.Z=t(b)?b:a.Z,jf(this,a.ja),this.Ha=a.Ha,this.ka=a.ka,kf(this,a.ya),this.ra=a.ra,lf(this,a.g.ua()),this.va=a.va;else if(a&&(c=ff(String(a)))){this.Z=!!b;jf(this,c[1]||"",!0);var d=c[2]||"";this.Ha=d?decodeURIComponent(d):"";this.ka=(d=c[3]||"")?decodeURIComponent(d):"";kf(this,c[4]);this.ra=(d=c[5]||"")?decodeURIComponent(d):"";lf(this,c[6]||"",!0);this.va=(c=c[7]||"")?decodeURIComponent(c):""}else this.Z=!!b,this.g=new mf(null,0,this.Z)}l=hf.prototype;
l.ja="";l.Ha="";l.ka="";l.ya=null;l.ra="";l.va="";l.Z=!1;l.toString=function(){var a=[],b=this.ja;b&&a.push(nf(b,of),":");if(b=this.ka){a.push("//");var c=this.Ha;c&&a.push(nf(c,of),"@");a.push(encodeURIComponent(String(b)));b=this.ya;null!=b&&a.push(":",String(b))}if(b=this.ra)this.ka&&"/"!=b.charAt(0)&&a.push("/"),a.push(nf(b,"/"==b.charAt(0)?pf:qf));(b=this.g.toString())&&a.push("?",b);(b=this.va)&&a.push("#",nf(b,rf));return a.join("")};l.ua=function(){return new hf(this)};
function jf(a,b,c){a.ja=c?b?decodeURIComponent(b):"":b;a.ja&&(a.ja=a.ja.replace(/:$/,""))}function kf(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ya=b}else a.ya=null}function lf(a,b,c){b instanceof mf?(a.g=b,sf(a.g,a.Z)):(c||(b=nf(b,tf)),a.g=new mf(b,0,a.Z))}function nf(a,b){return v(a)?encodeURI(a).replace(b,uf):null}function uf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}
var of=/[#\/\?@]/g,qf=/[\#\?:]/g,pf=/[\#\?]/g,tf=/[\#\?@]/g,rf=/#/g;function mf(a,b,c){this.g=a||null;this.h=!!c}function vf(a){if(!a.u&&(a.u=new ge,a.M=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=wf(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}l=mf.prototype;l.u=null;l.M=null;
l.add=function(a,b){vf(this);this.g=null;a=wf(this,a);var c=this.u.get(a);c||this.u.set(a,c=[]);c.push(b);this.M++;return this};l.remove=function(a){vf(this);a=wf(this,a);return ie(this.u.h,a)?(this.g=null,this.M-=this.u.get(a).length,this.u.remove(a)):!1};function xf(a,b){vf(a);b=wf(a,b);return ie(a.u.h,b)}l.fa=function(){vf(this);for(var a=this.u.S(),b=this.u.fa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.S=function(a){vf(this);var b=[];if(v(a))xf(this,a)&&(b=Ka(b,this.u.get(wf(this,a))));else{a=this.u.S();for(var c=0;c<a.length;c++)b=Ka(b,a[c])}return b};l.set=function(a,b){vf(this);this.g=null;a=wf(this,a);xf(this,a)&&(this.M-=this.u.get(a).length);this.u.set(a,[b]);this.M++;return this};l.get=function(a,b){var c=a?this.S(a):[];return 0<c.length?String(c[0]):b};
l.toString=function(){if(this.g)return this.g;if(!this.u)return"";for(var a=[],b=this.u.fa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.S(d),f=0;f<d.length;f++){var k=e;""!==d[f]&&(k+="="+encodeURIComponent(String(d[f])));a.push(k)}return this.g=a.join("&")};l.ua=function(){var a=new mf;a.g=this.g;this.u&&(a.u=this.u.ua(),a.M=this.M);return a};function wf(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c}
function sf(a,b){b&&!a.h&&(vf(a),a.g=null,fe(a.u,function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.g=null,this.u.set(wf(this,e),La(a)),this.M+=a.length))},a));a.h=b};$("ydn");function Ze(a){var b;try{b=JSON.stringify(a,void 0,void 0)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""};$("ydn.http");function yf(){this.g=ma()}var zf=new yf;yf.prototype.set=function(a){this.g=a};yf.prototype.get=function(){return this.g};function Af(a){this.k=a||"";this.m=zf}Af.prototype.g=!0;Af.prototype.h=!1;function Bf(a){a=new Date(a.m);return Cf(a.getFullYear()-2E3)+Cf(a.getMonth()+1)+Cf(a.getDate())+" "+Cf(a.getHours())+":"+Cf(a.getMinutes())+":"+Cf(a.getSeconds())+"."+Cf(Math.floor(a.getMilliseconds()/10))}function Cf(a){return 10>a?"0"+a:String(a)}function Df(a,b){var c=(a.m-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function Ef(a){Af.call(this,a)}z(Ef,Af);Ef.prototype.h=!0;
Ef.prototype.i=function(a){var b;switch(a.k.value){case pe.value:b="dbg-sh";break;case qe.value:b="dbg-sev";break;case re.value:b="dbg-w";break;case se.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.k," ");this.g&&c.push("[",Bf(a),"] ");c.push("[",za(Df(a,this.m.get())),"s] ");c.push("[",ra(a.i),"] ");c.push('<span class="',b,'">',qa(za(ra(a.getMessage()))));this.h&&a.h&&c.push("<br>",qa(za(a.g||"")));c.push("</span>");c.push("<br>");return c.join("")};
function Ff(a){Af.call(this,a)}z(Ff,Af);Ff.prototype.i=function(a){var b=[];b.push(this.k," ");this.g&&b.push("[",Bf(a),"] ");b.push("[",Df(a,this.m.get()),"s] ");b.push("[",a.i,"] ");b.push(a.getMessage());this.h&&a.h&&b.push("\n",a.g);b.push("\n");return b.join("")};function Gf(){this.m=x(this.q,this);this.g=new Ff;this.g.g=!1;this.h=this.g.h=!1;this.i="";this.k={}}Gf.prototype.q=function(a){if(!this.k[a.i]){var b=this.g.i(a),c=Hf;if(c)switch(a.k){case pe:If(c,"info",b);break;case qe:If(c,"error",b);break;case re:If(c,"warn",b);break;default:If(c,"debug",b)}else window.opera?window.opera.postError(b):this.i+=b}};var Hf=window.console;function If(a,b,c){if(a[b])a[b](c);else a.log(c)};function Jf(a){this.m=x(this.q,this);this.h=new Ef;this.i=this.h.g=!1;this.g=a;this.k=this.g.ownerDocument||this.g.document;a=vb(this.g);var b=null,c=a.g;if(E&&c.createStyleSheet)a=b=c.createStyleSheet(),E&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";else{c=yb(a.g,"head",void 0,void 0)[0];c||(b=yb(a.g,"body",void 0,void 0)[0],c=a.o("head"),b.parentNode.insertBefore(c,b));var d=b=a.o("style");E&&t(d.cssText)?d.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
d.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";a.appendChild(c,b)}this.g.className+=" logdiv"}
Jf.prototype.q=function(a){var b=100>=this.g.scrollHeight-this.g.scrollTop-this.g.clientHeight,c=this.k.createElement("div");c.className="logmsg";c.innerHTML=this.h.i(a);this.g.appendChild(c);b&&(this.g.scrollTop=this.g.scrollHeight)};var Kf=null,Lf=null;$("ydn.debug");function Mf(){var a=JSON.stringify(Nf,void 0,void 0);return!v(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)};$("ydn");function Me(a){if(!u(a))throw new bf("Array required.");if(t(void 0))return a=Ga(a,function(a){return a[void 0]}),Me(a);for(var b=Number.NaN,c=-1,d=0;d<a.length;d++)!isNaN(a[d])&&(isNaN(b)||a[d]>b)&&(b=a[d],c=d);return{value:b,index:c}};$("ydn.xml");function Of(a){var b;if(t(a.id))b=a.id.$t;else if(t(a.batch$id))b=a.batch$id.$t;else if(t(a.g))b=a.g.$t;else throw new bf("id or batch:id required.");this.id=b;this.data=a}z(Of,df);l=Of.prototype;l.n=$("ydn.gdata.Entry");l.Na=function(){return this.kind};l.xa=cf.prototype.xa;l.D=function(){return this.id};l.Gb=["id","batch$id","link","category"];l.wa=cf.prototype.wa;
l.update=function(a){var b=["batch$status","batch$operation","status"],c;for(c in a.data)a.data.hasOwnProperty(c)&&w(a.data[c])&&!D(b,c)&&!D(this.Gb,c)&&(this.data[c]=a.data[c])};function Pf(a){Of.call(this,a);a=(a=this.id.match(/https?:\/\/www.google.com\/m8\/feeds\/(group|contact|batch)s?\/([^\/]+)\/?(\w+)\/?(\w*)?/))?{Nb:"m8",kind:a[1],user_id:a[2]?a[2].replace("%40","@"):"",projection:a[3],id:a[4]}:null;window.console.assert(!!a,"Invalid m8 entry: "+this.id);this.user_id=a.user_id;window.console.assert(a.kind==this.kind,"Invalid kind: "+a.kind+" vs "+this.kind)}z(Pf,Of);Pf.prototype.n=$("ydn.gdata.m8.Entry");Pf.prototype.type="m8";function Ge(a){Pf.call(this,a)}z(Ge,Pf);Ge.prototype.kind="contact";Ge.prototype.n=$("ydn.gdata.m8.ContactEntry");Ge.prototype.Na=function(){return"contact"};function Qf(a){return rb(a.data,"gd$name","gd$fullName","$t")||""}function Je(a){var b=a.data.gd$email;a=[];for(var b=u(b)?b:b?[b]:[],c=0;c<b.length;c++)a.push(b[c].address);return a}function Ke(a){a=a.data.gd$phoneNumber;a=u(a)?a:w(a)?[a]:[];for(var b=[],c=0;c<a.length;c++)a[c].$t&&!/^[\s\xa0]*$/.test(a[c].$t)&&b.push(a[c].$t);return b}
function Rf(a,b){for(var c=a.data,c=u(c.gContact$externalId)?c.gContact$externalId:c.gContact$externalId?[c.gContact$externalId]:[],d=[],e=0;e<c.length;e++)if(c[e].value){var f=c[e].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(f){var k=f[1],m=f[2],n=f[3],f=f[4];"sugarcrm"!=k||b&&b!=m||d.push({domain:m,I:n,id:f,scheme:k})}}return d};function Sf(a,b,c){P.call(this,a);this.info=new Tf(b);this.h=c;a=new Ve(a);this.U(a,!0);R(this).listen(Xd(),"post",function(a){a=a.getMessage();"host-permission"==a.req&&a.data.domain==this.info.g.domain&&(a=a.data.grant,Ae(this.n,"set host permission to "+a),this.info.g.hostPermission=a,S(this,0).s(this.info))},!1)}z(Sf,P);l=Sf.prototype;l.C=function(){return"sugar-panel"};
l.v=function(){Sf.l.v.call(this);var a=this.g,b=this.j();I(b,this.C());for(b=0;b<Oe.length;b++){var c=Oe[b],d=this.h[c];d?d.module_name?this.U(new $e(a,d),!0):Z(this.n,"invalid module info for "+Ze(c)):Z(this.n,"missing module info for "+c)}};l.t=function(){Sf.l.t.call(this);S(this,0).s(this.info)};l.n=$("ydn.crm.inj.SugarPanel");function Uf(a,b){a.n.log(we,"setChildModel_ "+b,void 0);for(var c=1;c<wc(a);c++){var d=S(a,c);d.s(b.h[d.I])}}
function Vf(a,b,c,d,e,f){for(var k=[],m=0;m<f.length;m++)k.push({store:f[m].I,index:"id",key:f[m].id});Md(W(V("sugarcrm",a.info.g.domain),"list",k),function(a){window.console.log("contact",b,a);for(var f=[],k=0;k<a.length;k++)for(var m=a[k],B=m.result?m.result.length:0,C=0;C<B;C++)f.push(new Pe(this.info.g.domain,m.store,m.result[C]));a=new af(this.info.g.domain,b,e,f,c,d);Uf(this,a)},a)}
l.s=function(a){Sf.l.s.call(this,a);S(this,0).s(this.info);Ae(this.n,"showing for "+a);var b=this.j(),c=a.i;if(c){O(b,!0);var d=a.g?a.g[0]:null;if(d&&(b=Rf(d,this.info.g.domain),0<b.length)){Vf(this,c,Qf(a.h),He(a),d,b);return}b=[{store:"Accounts",index:"ydn$emails",key:c},{store:"Contacts",index:"ydn$emails",key:c},{store:"Leads",index:"ydn$emails",key:c}];Md(W(V("sugarcrm",this.info.g.domain),"list",b),function(b){window.h=b;window.console.log(c,b);for(var f=[],k=0;k<b.length;k++){var m=b[0];m.result&&
0<m.result.length&&f.push(new Pe(this.info.g.domain,m.store,m.result[0]))}b=new af(this.info.g.domain,c,d,f,Qf(a.h),He(a));Uf(this,b)},this)}else O(b,!1)};function Wf(){this.g=null}var Xf;function Yf(a,b,c,d){b=V("sugarcrm",b);for(var e=[],f=0;f<Oe.length;f++)e.push(W(b,"info-module",Oe[f]));return Md(new de(e),function(a){for(var b={},e=0;e<Oe.length;e++)b[Oe[e]]=a[e][1];if(this.g)Zf(this,b,c,d);else{var f=this;return chrome.storage.sync.get("sugar-setting",function(a){f.g=a["sugar-setting"]||$f;Zf(f,b,c,d)})}},a)}
var Nf={Display:{NormallyHide:{full_name:!0,date_entered:!0,date_modified:!0,modified_user_id:!0,modified_by_name:!0,created_by:!0,created_by_name:!0,deleted:!0,account_id:!0,email_and_name1:!0,invalid_email:!0,team_id:!0,team_set_id:!0,team_count:!0,assigned_user_id:!0,id:!0}}},$f={Modules:{Accounts:Mf(),Contacts:Mf(),Leads:Mf()}};
function Zf(a,b,c,d){for(var e in b){var f=rb(a.g,"Modules",e,"Display","NormallyHide");if(f){var k=b[e],m;for(m in k.module_fields)f[m]&&(k.module_fields[m].normallyHide=f[m])}}c.call(d,b)};function Tf(a){this.g=a;this.info={}}Tf.prototype.isLogin=function(){return!!this.g.isLogin};function We(a,b,c){var d={};d.domain=a.g.domain;d.baseUrl=a.g.baseUrl||null;d.Pb=b;d.password=c;Md(ag(a,d),function(a){this.g=a},a)}function ag(a,b){return W(V("sugarcrm",a.g.domain),"login",b)};function bg(a){P.call(this,a)}z(bg,P);bg.prototype.v=function(){bg.l.v.call(this);var a=this.j(),b=this.g;I(a,"sugarcrm-link-panel");b=b.createElement("a");b.textContent="Setup SugarCRM";b.href=chrome.extension.getURL($d)+"#credentials";b.className="sugarcrm-setup-link";a.appendChild(b);O(a,!1)};bg.prototype.s=function(a){bg.l.s.call(this,a);a=u(a)&&0<a.length;O(this.j(),!a)};function cg(a){P.call(this,a);this.k=new be(400);L(this.k,ce,this.Jb,!1,this);this.i=0;this.m="";Xf||(Xf=new Wf);this.Ea=Xf;this.h=document.createElement("div")}z(cg,P);l=cg.prototype;l.C=function(){return"sidebar"};l.v=function(){cg.l.v.call(this);var a=this.j();I(a,this.C())};l.t=function(){cg.l.t.call(this)};l.n=$("ydn.crm.inj.SidebarPanel");function dg(a,b){var c=b.domain;return Yf(a.Ea,c,function(a){a=new Sf(this.g,b,a);Ae(this.n,"sugar panel "+c+" created");this.U(a,!0)},a)}
l.init=function(){return Md(W(V(),"list-sugarcrm"),function(a){var b=new bg;this.U(b,!0);b.s(a);for(var b=[],c=0;c<a.length;c++)b.push(dg(this,a[c]));return new de(b)},this)};l.update=function(){this.n.log(we,"updating sidebar",void 0);this.i=0;this.m=location.href;var a=this.k;a.i=!0;a.g||(a.g=a.h.setTimeout(a.m,a.k),a.q=ma())};l.s=function(a){cg.l.s.call(this,a);var b=wc(this);0<b?Ae(this.n,"setting module to "+b+" children"):Z(this.n,"no sugar instance");for(var c=1;c<b;c++)S(this,c).s(a)};
function eg(a,b){var c=a.querySelector("img[jid]");if(!c){if(b){var d=a.querySelector("span[title]");if(d&&(c=d.getAttribute("title").trim(),0<c.length&&(d=document.querySelector('span[name="'+c+'"][email]'))))return d=d.getAttribute("email"),new Fe(d,c)}return null}for(d=c.getAttribute("jid");c&&"TD"!=c.tagName;)c=c.parentElement;c=c.nextElementSibling.querySelector("span[title]").getAttribute("title");return new Fe(d,c)}
l.Jb=function(){this.i++;window.console.log("sniff contact "+this.i);this.m!=location.href&&this.k.stop();if(40<this.i)this.k.stop();else{var a=document.querySelector('table[role="presentation"]');if(a){1!=a.childElementCount&&Z(this.n,"Probably our assumption about layout is wrong");var b=a.querySelector("tr");if(3!=b.childElementCount)Z(this.n,"Probably our assumption about layout is very wrong");else if(a=b.children[2],a.style.height||Z(this.n,"Probably our assumption about layout is wrong"),a=
a.querySelector("table")){var c=eg(a,5<this.i);if(c){this.k.stop();for(var d,b=a,e=0;4>e;e++)if(b.parentElement&&(b=b.parentElement,b.nextElementSibling&&"DIV"==b.nextElementSibling.tagName)){var b=b.parentElement,e=b.lastElementChild,f=!!e.querySelector("a[href]");d=document.createElement("div");f?b.parentElement.insertBefore(d,e):b.appendChild(d);break}d||(b=a.ownerDocument,d=b.createElement("td"),d.setAttribute("colspan","2"),b=b.createElement("tr"),b.className="widget-topraw",b.appendChild(d),
(a.querySelector("tbody")||a).appendChild(b));this.h.parentElement?(this.h.parentElement.removeChild(this.h),d.appendChild(this.h)):(d.appendChild(this.h),this.render(this.h));O(this.h,!0);window.console.log("rendering for "+c);Md(Ne(c),function(){this.s(c)},this)}else Z(this.n,"Could not sniff contact identifier."),O(this.h,!1)}else Z(this.n,"No Contact panel found."),O(this.h,!1)}else Z(this.n,"Could not find main view")}};function fg(){this.g=this.h=null}fg.prototype.init=function(a){this.h=a;a=document.getElementById("user-login");L(a,"click",function(a){a.preventDefault();window.open(a.target.href,void 0,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=400, top="+(screen.height/2-200)+", left="+(screen.width/2-300));return!0},!0,this)};
function gg(a,b){if(!b||b instanceof Error)a.g=null;else if(a.g=b,a.h){var c=document.getElementById("user-login"),d=document.getElementById("user-name"),e,f=(e=a.h)||document,k=null;f.querySelectorAll&&f.querySelector?k=f.querySelector(".login-message"):(f=e||document,k=(f.querySelectorAll&&f.querySelector?f.querySelectorAll(".login-message"):f.getElementsByClassName?f.getElementsByClassName("login-message"):yb(document,"*","login-message",e))[0]);e=k||null;b instanceof Error?(e.textContent=b.message,
O(e,!0),O(c,!1)):a.g.is_login?(c.href=a.g.logout_url,c.textContent="logout",d.textContent=a.g.email,O(e,!1),O(c,!1)):(c.href=a.g.login_url,c.textContent="login",c.style.display="",d.textContent="",O(e,!0),O(c,!0))}};function hg(){this.k=new cg;var a=this.history=new mc,b=new hf(document.location.href);a.Hb=b.ra+"/";L(this.history,"navigate",this.xb,!1,this);this.i=null;this.g=!1;new Cd;this.h=new fg}l=hg.prototype;l.n=$("ydn.crm.inj.Main");l.isLogin=function(){return this.g};l.xb=function(a){a.g!=this.i&&(this.i=a.g,/^contact/.test(a.g)||/\w+\/[\w\d]{10,18}$/.test(a.g)&&this.k.update())};
l.init=function(){Ae(this.n,"init "+this);var a=this,b=window.setInterval(function(){document.querySelector('a[href="http://mail.google.com/mail/help/terms.html"]')&&(window.clearTimeout(b),ig(a))},500);window.setTimeout(function(){window.clearTimeout(b);ig(a)},15E3)};l.toString=function(){return"inj.Main:0.4.1"};
function ig(a){Nd(W(V(),"login-info"),function(a){a:{if(a&&a.email){this.g=!0;var c=this.h.g;if(c&&c.email==a.email)break a;this.k.init();this.history.setEnabled(!0)}else this.g&&(this.g=!1,this.history.setEnabled(!1));gg(this.h,a)}},function(a){Z(this.n,a.name+" "+a.message);gg(this.h,a)},a)}
function jg(){var a;if(fa("finest"))a=new Y("log","finest");else if(v("finest")){if(!ye){ye={};a=0;for(var b;b=xe[a];a++)ye[b.value]=b,ye[b.name]=b}a=ye.FINEST||null}else a=ue;$("ydn.crm").h=a;if(t(void 0)){if(!Lf){a=Lf=new Jf(void 0);if(!0!=a.i){b=Ee();var c=a.m;b.g||(b.g=[]);b.g.push(c);a.i=!0}Ee().h=re}}else Kf||Lf||(a=Kf=new Gf,!0!=a.h&&(b=Ee(),c=a.m,b.g||(b.g=[]),b.g.push(c),a.h=!0),Ee().h=re);a=new hg;a.init();return a}var kg=["runApp"],lg=s;
kg[0]in lg||!lg.execScript||lg.execScript("var "+kg[0]);for(var mg;kg.length&&(mg=kg.shift());)kg.length||void 0===jg?lg[mg]?lg=lg[mg]:lg=lg[mg]={}:lg[mg]=jg;})();app=runApp();

            //# sourceMappingURL=inj.js.map
        