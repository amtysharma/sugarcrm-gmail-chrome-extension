(function(){var k,s=this;function aa(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ba(){}function ca(a){a.ja=function(){return a.vb?a.vb:a.vb=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==da(a)}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a){return a[ia]||(a[ia]=++ja)}
var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function x(a,b,c){x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return x.apply(null,arguments)}function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};
function z(a,b){function c(){}c.prototype=b.prototype;a.k=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ac=function(a,c,f){var l=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,l)}};function oa(a){Error.captureStackTrace?Error.captureStackTrace(this,oa):this.stack=Error().stack||"";a&&(this.message=String(a))}z(oa,Error);oa.prototype.name="CustomError";var pa;function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function sa(a){if(!ta.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ua,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(va,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(wa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(xa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(ya,"&#39;"));return a}var ua=/&/g,va=/</g,wa=/>/g,xa=/"/g,ya=/'/g,ta=/[&<>"']/;function za(a){return ra(a.replace(/  /g," &#160;"),void 0)};function Aa(a,b){b.unshift(a);oa.call(this,qa.apply(null,b));b.shift()}z(Aa,oa);Aa.prototype.name="AssertionError";function Ba(a,b){throw new Aa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var A=Array.prototype,Ca=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(v(a))return v(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Da=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ea=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,l=v(a)?
a.split(""):a,m=0;m<d;m++)if(m in l){var n=l[m];b.call(c,n,m,a)&&(e[f++]=n)}return e},Fa=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,l=0;l<d;l++)l in f&&(e[l]=b.call(c,f[l],l,a));return e},Ga=A.some?function(a,b,c){return A.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ha=A.every?function(a,b,c){return A.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function C(a,b){return 0<=Ca(a,b)}function Ia(a,b){var c=Ca(a,b),d;(d=0<=c)&&A.splice.call(a,c,1);return d}function Ja(a){return A.concat.apply(A,arguments)}function Ka(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function La(a,b,c,d){A.splice.apply(a,Ma(arguments,1))}function Ma(a,b,c){return 2>=arguments.length?A.slice.call(a,b):A.slice.call(a,b,c)}
function Na(a,b){return a>b?1:a<b?-1:0};var Oa,Pa,Qa,Ra;function Sa(){return s.navigator?s.navigator.userAgent:null}Ra=Qa=Pa=Oa=!1;var Ta;if(Ta=Sa()){var Ua=s.navigator;Oa=0==Ta.lastIndexOf("Opera",0);Pa=!Oa&&(-1!=Ta.indexOf("MSIE")||-1!=Ta.indexOf("Trident"));Qa=!Oa&&-1!=Ta.indexOf("WebKit");Ra=!Oa&&!Qa&&!Pa&&"Gecko"==Ua.product}var Va=Oa,D=Pa,E=Ra,F=Qa,Wa=s.navigator,G=-1!=(Wa&&Wa.platform||"").indexOf("Mac");function Xa(){var a=s.document;return a?a.documentMode:void 0}var Ya;
a:{var Za="",$a;if(Va&&s.opera)var ab=s.opera.version,Za="function"==typeof ab?ab():ab;else if(E?$a=/rv\:([^\);]+)(\)|;)/:D?$a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:F&&($a=/WebKit\/(\S+)/),$a)var bb=$a.exec(Sa()),Za=bb?bb[1]:"";if(D){var cb=Xa();if(cb>parseFloat(Za)){Ya=String(cb);break a}}Ya=Za}var db={};
function I(a){var b;if(!(b=db[a])){b=0;for(var c=String(Ya).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",m=d[f]||"",n=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=n.exec(l)||["","",""],r=p.exec(m)||["","",""];if(0==q[0].length&&0==r[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==q[1].length?0:parseInt(q[1],10))>(0==r[1].length?
0:parseInt(r[1],10))?1:0)||((0==q[2].length)<(0==r[2].length)?-1:(0==q[2].length)>(0==r[2].length)?1:0)||(q[2]<r[2]?-1:q[2]>r[2]?1:0)}while(0==b)}b=db[a]=0<=b}return b}var eb=s.document,fb=eb&&D?Xa()||("CSS1Compat"==eb.compatMode?parseInt(Ya,10):5):void 0;var gb=!D||D&&9<=fb,hb=!E&&!D||D&&D&&9<=fb||E&&I("1.9.1");D&&I("9");function ib(a){a=a.className;return v(a)&&a.match(/\S+/g)||[]}function J(a,b){for(var c=ib(a),d=Ma(arguments,1),e=c.length+d.length,f=c,l=0;l<d.length;l++)C(f,d[l])||f.push(d[l]);a.className=c.join(" ");return c.length==e}function jb(a,b){var c=ib(a),d=Ma(arguments,1),e=kb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function kb(a,b){return Ea(a,function(a){return!C(b,a)})};function lb(a){return function(){throw a;}};function mb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function pb(a,b){for(var c=ea(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function rb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<qb.length;f++)c=qb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function sb(a){var b=arguments.length;if(1==b&&u(arguments[0]))return sb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function tb(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,l;l=a[f];f++)b==l.nodeName&&(d[e++]=l);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;l=a[f];f++)b=l.className,"function"==typeof b.split&&C(b.split(/\s+/),c)&&(d[e++]=l);d.length=e;return d}return a}
function ub(a,b){mb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in vb?a.setAttribute(vb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var vb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function wb(a,b,c){function d(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ea(f)||w(f)&&0<f.nodeType?d(f):Da(xb(f)?Ka(f):f,d)}}function yb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function zb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function Ab(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Bb(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function Cb(a){a=a.tabIndex;return fa(a)&&0<=a&&32768>a}function xb(a){if(a&&"number"==typeof a.length){if(w(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1}function Db(a){return Eb(a,function(a){return C(ib(a),"sidebar")})}
function Eb(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Fb(a){this.g=a||s.document||document}k=Fb.prototype;k.l=function(a){return v(a)?this.g.getElementById(a):a};
k.t=function(a,b,c){var d=this.g,e=arguments,f=e[0],l=e[1];if(!gb&&l&&(l.name||l.type)){f=["<",f];l.name&&f.push(' name="',sa(l.name),'"');if(l.type){f.push(' type="',sa(l.type),'"');var m={};rb(m,l);delete m.type;l=m}f.push(">");f=f.join("")}f=d.createElement(f);l&&(v(l)?f.className=l:u(l)?J.apply(null,[f].concat(l)):ub(f,l));2<e.length&&wb(d,f,e);return f};k.createElement=function(a){return this.g.createElement(a)};k.appendChild=function(a,b){a.appendChild(b)};
k.getChildren=function(a){return hb&&void 0!=a.children?a.children:Ea(a.childNodes,function(a){return 1==a.nodeType})};k.contains=zb;var Gb=!D||D&&9<=fb,Hb=!D||D&&9<=fb,Ib=D&&!I("9");!F||I("528");E&&I("1.9b")||D&&I("8")||Va&&I("9.5")||F&&I("528");E&&!I("8")||D&&I("9");function Jb(){0!=Kb&&(Lb[ha(this)]=this)}var Kb=0,Lb={};Jb.prototype.u=!1;Jb.prototype.U=function(){if(!this.u&&(this.u=!0,this.w(),0!=Kb)){var a=ha(this);delete Lb[a]}};Jb.prototype.w=function(){if(this.R)for(;this.R.length;)this.R.shift()()};function K(a,b){this.type=a;this.i=this.target=b}k=K.prototype;k.U=function(){};k.aa=!1;k.wb=!0;k.Ga=function(){this.aa=!0};k.preventDefault=function(){this.wb=!1};function Mb(a){Mb[" "](a);return a}Mb[" "]=ba;function L(a,b){K.call(this,a?a.type:"");this.j=this.i=this.target=null;this.g=this.clientY=this.clientX=0;this.m=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.h=null;a&&this.init(a,b)}z(L,K);var Nb=[1,4,2];
L.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.i=b;var d=a.relatedTarget;if(d){if(E){var e;a:{try{Mb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.j=d;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.g=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.m=G?a.metaKey:
a.ctrlKey;this.h=a;a.defaultPrevented&&this.preventDefault();delete this.aa};function Ob(a){return Gb?0==a.h.button:"click"==a.type?!0:!!(a.h.button&Nb[0])}L.prototype.Ga=function(){L.k.Ga.call(this);this.h.stopPropagation?this.h.stopPropagation():this.h.cancelBubble=!0};L.prototype.preventDefault=function(){L.k.preventDefault.call(this);var a=this.h;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ib)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Pb="closure_listenable_"+(1E6*Math.random()|0);function Qb(a){try{return!(!a||!a[Pb])}catch(b){return!1}}var Rb=0;function Sb(a,b,c,d,e){this.fa=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Ja=e;this.rb=++Rb;this.removed=this.za=!1}function Tb(a){a.removed=!0;a.fa=null;a.proxy=null;a.src=null;a.Ja=null};function Ub(a){this.src=a;this.g={};this.h=0}Ub.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.h++);var l=Vb(f,b,d,e);-1<l?(a=f[l],c||(a.za=!1)):(a=new Sb(b,this.src,a,!!d,e),a.za=c,f.push(a));return a};Ub.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];b=Vb(e,b,c,d);return-1<b?(Tb(e[b]),A.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.h--),!0):!1};
function Wb(a,b){var c=b.type;if(!(c in a.g))return!1;var d=Ia(a.g[c],b);d&&(Tb(b),0==a.g[c].length&&(delete a.g[c],a.h--));return d}Ub.prototype.removeAll=function(a){var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],e=0;e<d.length;e++)++b,Tb(d[e]);delete this.g[c];this.h--}return b};function Xb(a,b,c,d,e){a=a.g[b];b=-1;a&&(b=Vb(a,c,d,e));return-1<b?a[b]:null}function Vb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.fa==b&&f.capture==!!c&&f.Ja==d)return e}return-1};var Yb="closure_lm_"+(1E6*Math.random()|0),Zb={},$b=0;function M(a,b,c,d,e){if(u(b)){for(var f=0;f<b.length;f++)M(a,b[f],c,d,e);return null}c=ac(c);if(Qb(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=bc(a);l||(a[Yb]=l=new Ub(a));c=l.add(b,c,!1,d,e);c.proxy||(d=cc(),c.proxy=d,d.src=a,d.fa=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in Zb?Zb[b]:Zb[b]="on"+b,d),$b++);a=c}return a}
function cc(){var a=dc,b=Hb?function(c){return a.call(b.src,b.fa,c)}:function(c){c=a.call(b.src,b.fa,c);if(!c)return c};return b}function ec(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)ec(a,b[f],c,d,e);else c=ac(c),Qb(a)?a.W(b,c,d,e):a&&(a=bc(a))&&(b=Xb(a,b,c,!!d,e))&&fc(b)}
function fc(a){if(fa(a)||!a||a.removed)return!1;var b=a.src;if(Qb(b))return Wb(b.Y,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in Zb?Zb[c]:Zb[c]="on"+c,d);$b--;(c=bc(b))?(Wb(c,a),0==c.h&&(c.src=null,b[Yb]=null)):Tb(a);return!0}function gc(a,b,c,d){var e=1;if(a=bc(a))if(b=a.g[b])for(b=Ka(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(e&=!1!==hc(f,d))}return Boolean(e)}
function hc(a,b){var c=a.fa,d=a.Ja||a.src;a.za&&fc(a);return c.call(d,b)}
function dc(a,b){if(a.removed)return!0;if(!Hb){var c=b||aa("window.event"),d=new L(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(l){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.i;f;f=f.parentNode)c.push(f);for(var f=a.type,m=c.length-1;!d.aa&&0<=m;m--)d.i=c[m],e&=gc(c[m],f,!0,d);for(m=0;!d.aa&&m<c.length;m++)d.i=c[m],e&=gc(c[m],f,!1,d)}return e}return hc(a,new L(b,this))}
function bc(a){a=a[Yb];return a instanceof Ub?a:null}var ic="__closure_events_fn_"+(1E9*Math.random()>>>0);function ac(a){return ga(a)?a:a[ic]||(a[ic]=function(b){return a.handleEvent(b)})};function N(){Jb.call(this);this.Y=new Ub(this);this.oa=this}z(N,Jb);N.prototype[Pb]=!0;k=N.prototype;k.Oa=null;k.ib=function(a){this.Oa=a};k.removeEventListener=function(a,b,c,d){ec(this,a,b,c,d)};
function O(a,b){var c,d=a.Oa;if(d)for(c=[];d;d=d.Oa)c.push(d);var d=a.oa,e=b,f=e.type||e;if(v(e))e=new K(e,d);else if(e instanceof K)e.target=e.target||d;else{var l=e,e=new K(f,d);rb(e,l)}var l=!0,m;if(c)for(var n=c.length-1;!e.aa&&0<=n;n--)m=e.i=c[n],l=jc(m,f,!0,e)&&l;e.aa||(m=e.i=d,l=jc(m,f,!0,e)&&l,e.aa||(l=jc(m,f,!1,e)&&l));if(c)for(n=0;!e.aa&&n<c.length;n++)m=e.i=c[n],l=jc(m,f,!1,e)&&l;return l}k.w=function(){N.k.w.call(this);this.Y&&this.Y.removeAll(void 0);this.Oa=null};
k.listen=function(a,b,c,d){return this.Y.add(String(a),b,!1,c,d)};k.W=function(a,b,c,d){return this.Y.remove(String(a),b,c,d)};function jc(a,b,c,d){b=a.Y.g[String(b)];if(!b)return!0;b=Ka(b);for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.removed&&l.capture==c){var m=l.fa,n=l.Ja||l.src;l.za&&Wb(a.Y,l);e=!1!==m.call(n,d)&&e}}return e&&!1!=d.wb};function kc(a){K.call(this,"navigate");this.g=a}z(kc,K);function lc(a){N.call(this);this.g=a||window;M(this.g,"popstate",this.Na,!1,this);M(this.g,"hashchange",this.Na,!1,this)}z(lc,N);k=lc.prototype;k.Wa=!1;k.Xb="/";k.setEnabled=function(a){a!=this.Wa&&(this.Wa=a)&&O(this,new kc(this.getToken()))};k.getToken=function(){var a=this.g.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)};k.w=function(){ec(this.g,"popstate",this.Na,!1,this);ec(this.g,"hashchange",this.Na,!1,this)};k.Na=function(){this.Wa&&O(this,new kc(this.getToken()))};function Q(a,b){a.style.display=b?"":"none"}var mc=E?"MozUserSelect":F?"WebkitUserSelect":null;function nc(a,b){var c=b?null:a.getElementsByTagName("*");if(mc){var d="none";a.style[mc]=d;if(c)for(var e=0,f;f=c[e];e++)f.style[mc]=d}else if(D||Va)if(d="on",a.setAttribute("unselectable",d),c)for(e=0;f=c[e];e++)f.setAttribute("unselectable",d)};function oc(a){Jb.call(this);this.h=a;this.g={}}z(oc,Jb);var pc=[];k=oc.prototype;k.listen=function(a,b,c,d){u(b)||(pc[0]=b,b=pc);for(var e=0;e<b.length;e++){var f=M(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!f)break;this.g[f.rb]=f}return this};k.W=function(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)this.W(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=ac(c),d=!!d,b=Qb(a)?Xb(a.Y,String(b),c,d,e):a?(a=bc(a))?Xb(a,b,c,d,e):null:null,b&&(fc(b),delete this.g[b.rb]);return this};
k.removeAll=function(){mb(this.g,fc);this.g={}};k.w=function(){oc.k.w.call(this);this.removeAll()};k.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function qc(){}ca(qc);qc.prototype.g=0;function R(a){N.call(this);this.g=a||pa||(pa=new Fb);this.Pa=rc}z(R,N);R.prototype.wa=qc.ja();var rc=null;function sc(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}k=R.prototype;k.Ka=null;k.o=!1;k.q=null;k.Pa=null;k.va=null;k.L=null;k.K=null;
k.da=null;k.F=function(){return this.Ka||(this.Ka="ydn:"+(this.wa.g++).toString(36))};k.l=function(){return this.q};function tc(a){return a.i||(a.i=new oc(a))}k.ib=function(a){if(this.L&&this.L!=a)throw Error("Method not supported");R.k.ib.call(this,a)};k.D=function(){this.q=this.g.createElement("div")};k.render=function(a){uc(this,a)};function uc(a,b,c){if(a.o)throw Error("Component already rendered");a.q||a.D();b?b.insertBefore(a.q,c||null):a.g.g.body.appendChild(a.q);a.L&&!a.L.o||a.v()}
k.v=function(){this.o=!0;vc(this,function(a){!a.o&&a.l()&&a.v()})};k.ha=function(){vc(this,function(a){a.o&&a.ha()});this.i&&this.i.removeAll();this.o=!1};k.w=function(){this.o&&this.ha();this.i&&(this.i.U(),delete this.i);vc(this,function(a){a.U()});this.q&&yb(this.q);this.L=this.va=this.q=this.da=this.K=null;R.k.w.call(this)};k.B=function(a){this.va=a};k.ba=function(a,b){this.Sa(a,wc(this),b)};
k.Sa=function(a,b,c){if(a.o&&(c||!this.o))throw Error("Component already rendered");if(0>b||b>wc(this))throw Error("Child component index out of bounds");this.da&&this.K||(this.da={},this.K=[]);if(a.L==this){var d=a.F();this.da[d]=a;Ia(this.K,a)}else{var d=this.da,e=a.F();if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}if(a==this)throw Error("Unable to set parent component");if(d=this)if(d=a.L)if(d=a.Ka)e=a.L,d=a.Ka,e.da&&d?(e=e.da,d=(d in e?e[d]:void 0)||null):d=null,
d=d&&a.L!=this;if(d)throw Error("Unable to set parent component");a.L=this;R.k.ib.call(a,this);La(this.K,b,0,a);a.o&&this.o&&a.L==this?(c=this.Ha(),c.insertBefore(a.l(),c.childNodes[b]||null)):c?(this.q||this.D(),b=S(this,b+1),uc(a,this.Ha(),b?b.q:null)):this.o&&!a.o&&a.q&&a.q.parentNode&&1==a.q.parentNode.nodeType&&a.v()};k.Ha=function(){return this.q};
function xc(a){if(null==a.Pa){var b;a:{b=a.o?a.q:a.g.g.body;var c=Ab(b);if(c.defaultView&&c.defaultView.getComputedStyle&&(b=c.defaultView.getComputedStyle(b,null))){b=b.direction||b.getPropertyValue("direction")||"";break a}b=""}a.Pa="rtl"==(b||((a.o?a.q:a.g.g.body).currentStyle?(a.o?a.q:a.g.g.body).currentStyle.direction:null)||(a.o?a.q:a.g.g.body).style&&(a.o?a.q:a.g.g.body).style.direction)}return a.Pa}function wc(a){return a.K?a.K.length:0}function S(a,b){return a.K?a.K[b]||null:null}
function vc(a,b,c){a.K&&Da(a.K,b,c)}function yc(a,b){return a.K&&b?Ca(a.K,b):-1};function zc(a,b,c,d,e){if(!(D||F&&I("525")))return!0;if(G&&e)return Ac(a);if(e&&!d)return!1;fa(b)&&(b=Bc(b));if(!c&&(17==b||18==b||G&&91==b))return!1;if(F&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(D&&d&&b==a)return!1;switch(a){case 13:return!(D&&D&&9<=fb);case 27:return!F}return Ac(a)}
function Ac(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||F&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Bc(a){if(E)a=Cc(a);else if(G&&F)a:switch(a){case 93:a=91;break a}return a}
function Cc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Dc(a,b){N.call(this);a&&Ec(this,a,b)}z(Dc,N);k=Dc.prototype;k.la=null;k.La=null;k.eb=null;k.Ma=null;k.M=-1;k.Z=-1;k.Ta=!1;
var Fc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Gc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Hc=D||F&&I("525"),Ic=G&&E;k=Dc.prototype;
k.Ob=function(a){F&&(17==this.M&&!a.ctrlKey||18==this.M&&!a.altKey||G&&91==this.M&&!a.metaKey)&&(this.Z=this.M=-1);-1==this.M&&(a.ctrlKey&&17!=a.g?this.M=17:a.altKey&&18!=a.g?this.M=18:a.metaKey&&91!=a.g&&(this.M=91));Hc&&!zc(a.g,this.M,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Z=Bc(a.g),Ic&&(this.Ta=a.altKey))};k.Pb=function(a){this.Z=this.M=-1;this.Ta=a.altKey};
k.handleEvent=function(a){var b=a.h,c,d,e=b.altKey;D&&"keypress"==a.type?c=this.Z:F&&"keypress"==a.type?c=this.Z:Va?c=this.Z:(c=b.keyCode||this.Z,d=b.charCode||0,Ic&&(e=this.Ta),G&&63==d&&224==c&&(c=191));d=c=Bc(c);var f=b.keyIdentifier;c?63232<=c&&c in Fc?d=Fc[c]:25==c&&a.shiftKey&&(d=9):f&&f in Gc&&(d=Gc[f]);this.M=d;a=new Jc(d,0,0,b);a.altKey=e;O(this,a)};k.l=function(){return this.la};
function Ec(a,b,c){a.Ma&&Kc(a);a.la=b;a.La=M(a.la,"keypress",a,c);a.eb=M(a.la,"keydown",a.Ob,c,a);a.Ma=M(a.la,"keyup",a.Pb,c,a)}function Kc(a){a.La&&(fc(a.La),fc(a.eb),fc(a.Ma),a.La=null,a.eb=null,a.Ma=null);a.la=null;a.M=-1;a.Z=-1}k.w=function(){Dc.k.w.call(this);Kc(this)};function Jc(a,b,c,d){L.call(this,d);this.type="key";this.g=a}z(Jc,L);var Lc;function Mc(a,b,c){ea(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Lc||(Lc={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Lc,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Nc(){}var Oc;ca(Nc);Nc.prototype.i=function(){};Nc.prototype.g=function(a){var b=a.g.t("div",Pc(this,a).join(" "),a.Ca());a.isEnabled()||Qc(b,1,!a.isEnabled());a.H&8&&Qc(b,8,!!(a.C&8));a.H&16&&Qc(b,16,!!(a.C&16));a.H&64&&Qc(b,64,!!(a.C&64));return b};function Rc(a,b,c){if(a=a.l?a.l():a)if(D&&!I("7")){var d=Sc(ib(a),b);d.push(b);ma(c?J:jb,a).apply(null,d)}else c?J(a,b):jb(a,b)}
function Tc(a,b){var c;if(a.H&32&&(c=a.l())){if(!b&&a.C&32){try{c.blur()}catch(d){}a.C&32&&a.tb()}(Bb(c)&&Cb(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}}function Qc(a,b,c){Oc||(Oc={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Oc[b])&&Mc(a,b,c)}Nc.prototype.J=function(){return"goog-control"};
function Pc(a,b){var c=a.J(),d=[c],e=a.J();e!=c&&d.push(e);c=b.C;for(e=[];c;){var f=c&-c;e.push(Uc(a,f));c&=~f}d.push.apply(d,e);(c=b.qb)&&d.push.apply(d,c);D&&!I("7")&&d.push.apply(d,Sc(d));return d}function Sc(a,b){var c=[];b&&(a=a.concat([b]));Da([],function(d){!Ha(d,ma(C,a))||b&&!C(d,b)||c.push(d.join("_"))});return c}function Uc(a,b){if(!a.h){var c=a.J();a.h={1:c+"-disabled",2:c+"-hover",4:c+"-active",8:c+"-selected",16:c+"-checked",32:c+"-focused",64:c+"-open"}}return a.h[b]};function Vc(a,b){if(!a)throw Error("Invalid class name "+a);if(!ga(b))throw Error("Invalid decorator function "+b);}var Wc={};function T(a,b,c){R.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ha(b);if(d=Wc[d])break;b=b.k?b.k.constructor:null}b=d?ga(d.ja)?d.ja():new d:null}this.j=b;this.Xa=t(a)?a:null}z(T,R);k=T.prototype;k.Xa=null;k.C=0;k.H=39;k.ga=0;k.qb=null;k.Za=!0;k.D=function(){var a=this.j.g(this);this.q=a;var b=this.j.i();b&&(b?a.setAttribute("role",b):a.removeAttribute("role"));nc(a,!D&&!Va)};k.Ha=function(){return this.l()};
k.v=function(){T.k.v.call(this);var a=this.j;if(xc(this)){var b=this.l();Rc(b,a.J()+"-rtl",!0)}this.isEnabled()&&Tc(this,!0);this.H&-2&&(this.Za&&Xc(this,!0),this.H&32&&(a=this.l()))&&(b=this.h||(this.h=new Dc),Ec(b,a),tc(this).listen(b,"key",this.ta).listen(a,"focus",this.Hb).listen(a,"blur",this.tb))};
function Xc(a,b){var c=tc(a),d=a.l();b?(c.listen(d,"mouseover",a.ab).listen(d,"mousedown",a.Ya).listen(d,"mouseup",a.bb).listen(d,"mouseout",a.$a),a.ua!=ba&&c.listen(d,"contextmenu",a.ua),D&&c.listen(d,"dblclick",a.ub)):(c.W(d,"mouseover",a.ab).W(d,"mousedown",a.Ya).W(d,"mouseup",a.bb).W(d,"mouseout",a.$a),a.ua!=ba&&c.W(d,"contextmenu",a.ua),D&&c.W(d,"dblclick",a.ub))}k.ha=function(){T.k.ha.call(this);this.h&&Kc(this.h);this.isEnabled()&&Tc(this,!1)};
k.w=function(){T.k.w.call(this);this.h&&(this.h.U(),delete this.h);delete this.j;this.qb=this.Xa=null};k.Ca=function(){return this.Xa};k.isEnabled=function(){return!(this.C&1)};k.setEnabled=function(a){var b=this.L;b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Yc(this,1,!a)||(a||(Zc(this,!1),this.S(!1)),Tc(this,a),$c(this,1,!a))};k.S=function(a){Yc(this,2,a)&&$c(this,2,a)};function Zc(a,b){Yc(a,4,b)&&$c(a,4,b)}function ad(a,b){Yc(a,8,b)&&$c(a,8,b)}function bd(a,b){Yc(a,64,b)&&$c(a,64,b)}
function $c(a,b,c){if(a.H&b&&c!=!!(a.C&b)){var d=a.j,e=a.l();e&&((d=Uc(d,b))&&Rc(a,d,c),Qc(e,b,c));a.C=c?a.C|b:a.C&~b}}function cd(a,b,c){if(a.o&&a.C&b&&!c)throw Error("Component already rendered");!c&&a.C&b&&$c(a,b,!1);a.H=c?a.H|b:a.H&~b}function V(a,b){return!!(255&b)&&!!(a.H&b)}function Yc(a,b,c){return!!(a.H&b)&&!!(a.C&b)!=c&&(!(a.ga&b)||O(a,sc(b,c)))&&!a.u}k.ab=function(a){!dd(a,this.l())&&O(this,"enter")&&this.isEnabled()&&V(this,2)&&this.S(!0)};
k.$a=function(a){!dd(a,this.l())&&O(this,"leave")&&(V(this,4)&&Zc(this,!1),V(this,2)&&this.S(!1))};k.ua=ba;function dd(a,b){return!!a.j&&zb(b,a.j)}k.Ya=function(a){if(this.isEnabled()&&(V(this,2)&&this.S(!0),Ob(a)&&!(F&&G&&a.ctrlKey))){V(this,4)&&Zc(this,!0);var b;this.H&32&&(b=this.l())&&Bb(b)&&Cb(b)&&this.l().focus()}!Ob(a)||F&&G&&a.ctrlKey||a.preventDefault()};k.bb=function(a){this.isEnabled()&&(V(this,2)&&this.S(!0),this.C&4&&ed(this,a)&&V(this,4)&&Zc(this,!1))};
k.ub=function(a){this.isEnabled()&&ed(this,a)};function ed(a,b){if(V(a,16)){var c=!(a.C&16);Yc(a,16,c)&&$c(a,16,c)}V(a,8)&&ad(a,!0);V(a,64)&&bd(a,!(a.C&64));c=new K("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.m=b.m);return O(a,c)}k.Hb=function(){V(this,32)&&Yc(this,32,!0)&&$c(this,32,!0)};k.tb=function(){V(this,4)&&Zc(this,!1);V(this,32)&&Yc(this,32,!1)&&$c(this,32,!1)};
k.ta=function(a){return this.isEnabled()&&13==a.g&&ed(this,a)?(a.preventDefault(),a.Ga(),!0):!1};if(!ga(T))throw Error("Invalid component class "+T);if(!ga(Nc))throw Error("Invalid renderer class "+Nc);var fd=ha(T);Wc[fd]=Nc;Vc("goog-control",function(){return new T(null)});function gd(){}z(gd,Nc);ca(gd);gd.prototype.J=function(){return"goog-tab"};gd.prototype.i=function(){return"tab"};gd.prototype.g=function(a){var b=gd.k.g.call(this,a);(a=a.m)&&b&&(b.title=a||"");return b};function hd(a,b,c){T.call(this,a,b||gd.ja(),c);cd(this,8,!0);this.ga|=9}z(hd,T);Vc("goog-tab",function(){return new hd(null)});function id(){}ca(id);id.prototype.i=function(){};function jd(a,b){a&&(a.tabIndex=b?0:-1)}function kd(a,b){var c=b.l();nc(c,E);D&&(c.hideFocus=!0);var d=a.i();d&&(d?c.setAttribute("role",d):c.removeAttribute("role"))}id.prototype.J=function(){return"goog-container"};id.prototype.g=function(a){var b=this.J(),c=[b,a.$==ld?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function md(a,b,c){R.call(this,c);this.Ia=b||id.ja();this.$=a||nd}z(md,R);var ld="horizontal",nd="vertical";k=md.prototype;k.fb=null;k.ra=null;k.Ia=null;k.$=null;k.sa=!0;k.ma=!0;k.I=-1;k.A=null;k.na=!1;k.ca=null;function od(a){return a.fb||a.l()}k.D=function(){this.q=this.g.t("div",this.Ia.g(this).join(" "))};k.Ha=function(){return this.l()};
k.v=function(){md.k.v.call(this);vc(this,function(a){a.o&&pd(this,a)},this);var a=this.l();kd(this.Ia,this);qd(this,this.sa);tc(this).listen(this,"enter",this.Lb).listen(this,"highlight",this.Mb).listen(this,"unhighlight",this.Vb).listen(this,"open",this.Qb).listen(this,"close",this.Jb).listen(a,"mousedown",this.Gb).listen(Ab(a),"mouseup",this.Kb).listen(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Ib);rd(this)};
function rd(a){var b=tc(a),c=od(a);b.listen(c,"focus",a.sb).listen(c,"blur",a.Eb).listen(a.ra||(a.ra=new Dc(od(a))),"key",a.Fb)}k.ha=function(){sd(this,-1);this.A&&bd(this.A,!1);this.na=!1;md.k.ha.call(this)};k.w=function(){md.k.w.call(this);this.ra&&(this.ra.U(),this.ra=null);this.Ia=this.A=this.ca=this.fb=null};k.Lb=function(){return!0};
k.Mb=function(a){var b=yc(this,a.target);if(-1<b&&b!=this.I){var c=S(this,this.I);c&&c.S(!1);this.I=b;c=S(this,this.I);this.na&&Zc(c,!0);this.A&&c!=this.A&&(c.H&64?bd(c,!0):bd(this.A,!1))}b=this.l();null!=a.target.l()&&Mc(b,"activedescendant",a.target.l().id)};k.Vb=function(a){a.target==S(this,this.I)&&(this.I=-1);this.l().removeAttribute("aria-activedescendant")};k.Qb=function(a){(a=a.target)&&a!=this.A&&a.L==this&&(this.A&&bd(this.A,!1),this.A=a)};k.Jb=function(a){a.target==this.A&&(this.A=null)};
k.Gb=function(a){this.ma&&(this.na=!0);var b=od(this);b&&Bb(b)&&Cb(b)?b.focus():a.preventDefault()};k.Kb=function(){this.na=!1};k.Ib=function(a){var b;a:{b=a.target;if(this.ca)for(var c=this.l();b&&b!==c;){var d=b.id;if(d in this.ca){b=this.ca[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Ya(a);break;case "mouseup":b.bb(a);break;case "mouseover":b.ab(a);break;case "mouseout":b.$a(a);break;case "contextmenu":b.ua(a)}};k.sb=function(){};
k.Eb=function(){sd(this,-1);this.na=!1;this.A&&bd(this.A,!1)};k.Fb=function(a){return this.isEnabled()&&this.sa&&(0!=wc(this)||this.fb)&&td(this,a)?(a.preventDefault(),a.Ga(),!0):!1};
function td(a,b){var c=S(a,a.I);if(c&&"function"==typeof c.ta&&c.ta(b)||a.A&&a.A!=c&&"function"==typeof a.A.ta&&a.A.ta(b))return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!1;switch(b.g){case 27:od(a).blur();break;case 36:ud(a);break;case 35:vd(a);break;case 38:if(a.$==nd)wd(a);else return!1;break;case 37:if(a.$==ld)xc(a)?xd(a):wd(a);else return!1;break;case 40:if(a.$==nd)xd(a);else return!1;break;case 39:if(a.$==ld)xc(a)?wd(a):xd(a);else return!1;break;default:return!1}return!0}
function pd(a,b){var c=b.l(),c=c.id||(c.id=b.F());a.ca||(a.ca={});a.ca[c]=b}k.ba=function(a,b){md.k.ba.call(this,a,b)};k.Sa=function(a,b,c){a.ga|=2;a.ga|=64;cd(a,32,!1);a.o&&!1!=a.Za&&Xc(a,!1);a.Za=!1;md.k.Sa.call(this,a,b,c);a.o&&this.o&&pd(this,a);b<=this.I&&this.I++};function qd(a,b){a.sa=b;var c=a.l();c&&(Q(c,b),jd(od(a),a.ma&&a.sa))}k.isEnabled=function(){return this.ma};
k.setEnabled=function(a){this.ma!=a&&O(this,a?"enable":"disable")&&(a?(this.ma=!0,vc(this,function(a){a.zb?delete a.zb:a.setEnabled(!0)})):(vc(this,function(a){a.isEnabled()?a.setEnabled(!1):a.zb=!0}),this.na=this.ma=!1),jd(od(this),a&&this.sa))};function sd(a,b){var c=S(a,b);c?c.S(!0):-1<a.I&&S(a,a.I).S(!1)}k.S=function(a){sd(this,yc(this,a))};function ud(a){yd(a,function(a,c){return(a+1)%c},wc(a)-1)}function vd(a){yd(a,function(a,c){a--;return 0>a?c-1:a},0)}
function xd(a){yd(a,function(a,c){return(a+1)%c},a.I)}function wd(a){yd(a,function(a,c){a--;return 0>a?c-1:a},a.I)}function yd(a,b,c){c=0>c?yc(a,a.A):c;var d=wc(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=S(a,c);if(f&&f.isEnabled()&&f.H&2){a.hb(c);break}e++;c=b.call(a,c,d)}}k.hb=function(a){sd(this,a)};function zd(){}z(zd,id);ca(zd);zd.prototype.J=function(){return"goog-tab-bar"};zd.prototype.i=function(){return"tablist"};zd.prototype.g=function(a){var b=zd.k.g.call(this,a);if(!this.h){var c=this.J();this.h=sb(Ad,c+"-top",Bd,c+"-bottom",Cd,c+"-start",Dd,c+"-end")}b.push(this.h[a.h]);return b};function Ed(a,b,c){a=a||Ad;var d=a==Cd||a==Dd?nd:ld;if(this.l())throw Error("Component already rendered");this.$=d;this.h=a;md.call(this,this.$,b||zd.ja(),c);Fd(this)}z(Ed,md);var Ad="top",Bd="bottom",Cd="start",Dd="end";k=Ed.prototype;k.Q=null;k.v=function(){Ed.k.v.call(this);Fd(this)};k.w=function(){Ed.k.w.call(this);this.Q=null};k.hb=function(a){Ed.k.hb.call(this,a);this.Qa(S(this,a))};k.Qa=function(a){a?ad(a,!0):this.Q&&ad(this.Q,!1)};
function Gd(a,b){if(b&&b==a.Q){for(var c=yc(a,b),d=c-1;b=S(a,d);d--)if(b.isEnabled()){a.Qa(b);return}for(c+=1;b=S(a,c);c++)if(b.isEnabled()){a.Qa(b);return}a.Qa(null)}}k.Tb=function(a){this.Q&&this.Q!=a.target&&ad(this.Q,!1);this.Q=a.target};k.Ub=function(a){a.target==this.Q&&(this.Q=null)};k.Rb=function(a){Gd(this,a.target)};k.Sb=function(a){Gd(this,a.target)};k.sb=function(){S(this,this.I)||this.S(this.Q||S(this,0))};
function Fd(a){tc(a).listen(a,"select",a.Tb).listen(a,"unselect",a.Ub).listen(a,"disable",a.Rb).listen(a,"hide",a.Sb)}Vc("goog-tab-bar",function(){return new Ed});D&&I(8);function W(a,b,c){this.id="i"+this.count();this.m=b||null;this.R=c;this.G=a;this.j=!0;this.i=this.h=this.g=null;this.u=NaN}W.prototype.F=function(){return this.id};var Hd=0;function Id(a){if(!a.j){var b=new Jd;a.h?b.g(Kd(a)):b.h(a.g);return b}a.i||(a.i=new Jd);return a.i}k=W.prototype;k.count=function(){Hd++;return Hd};function Kd(a){return(a=a.h)?a instanceof Error?a.name+":"+a.message:a+"":""}
k.listen=function(a){if(a&&a.id==this.id){this.g=a.data;this.h=this.h||a.error;a.done&&(this.j=!1);this.m&&this.m.call(this.R,a.data);if(this.i)if(a.done)this.h?this.i.g(Kd(this)):this.i.h(a.data);else for(var b=this.i,c=a.data,d=0;d<b.G.length;d++)b.G[d][0].call(b.G[d][1],c);a.done&&this.U();window.console.log(this+" receiving msg",a);return!0}return!1};k.toString=function(){return"Message:"+this.id+(this.j?"*":"")};function Ld(a,b){a.g=b}
k.toJSON=function(){var a=this;this.u=window.setTimeout(function(){a.j&&a.listen({id:a.id,req:a.G,error:"message timeout"})},5E3);return{id:this.id,req:this.G,data:this.g}};k.U=function(){this.j=!1;this.i=this.R=this.m=null;window.clearTimeout(this.u)};function Md(a){Jb.call(this);this.name=a;this.g=[];this.h=null}z(Md,Jb);Md.prototype.w=function(){if(this.h){var a=this;this.h.disconnect(function(){a.h=null;a.g.length=0})}else this.g.length=0};Md.prototype.i=function(a){if(a&&a.id)for(var b=this.g.length-1;0<=b;b--)if(this.g[b].F()==a.id&&this.g[b].listen(a)){this.g[b].j?25<b&&(a=this.g.splice(b,1),this.g.unshift(a[0])):this.g.splice(b,1);break}};
Md.prototype.send=function(a){Nd(this).postMessage(a.toJSON());if(a.m||a.i)this.g.push(a),50<this.g.length&&(this.g[this.g.length-1].U(),this.g.length-=1)};Md.prototype.sendMessage=function(a,b){var c=new W(a);b&&(c.g=b);var d=Id(c);this.send(c);return d};function Nd(a){if(!a.h){a.h=chrome.runtime.connect({name:a.name});var b=x(a.i,a);a.h.onMessage.addListener(b);a.h.onDisconnect.addListener(function(){a.h.onMessage.removeListener(b);a.h=null;a.g.length=0})}return a.h};var Od=("chrome-extension://fmhdpfhfppingdiiefgnanjceieflpkj/"==chrome.extension.getURL("")?"crm-ex/":"")+"option-page.html";function Pd(a,b){N.call(this);this.h=a||1;this.g=b||s;this.i=x(this.Zb,this);this.j=na()}z(Pd,N);k=Pd.prototype;k.Ea=!1;k.T=null;k.Zb=function(){if(this.Ea){var a=na()-this.j;0<a&&a<0.8*this.h?this.T=this.g.setTimeout(this.i,this.h-a):(this.T&&(this.g.clearTimeout(this.T),this.T=null),O(this,Qd),this.Ea&&(this.T=this.g.setTimeout(this.i,this.h),this.j=na()))}};k.stop=function(){this.Ea=!1;this.T&&(this.g.clearTimeout(this.T),this.T=null)};k.w=function(){Pd.k.w.call(this);this.stop();delete this.g};
var Qd="tick";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function X(a,b){this.R=[];this.pb=a;this.yb=b||null;this.u=this.i=!1;this.m=void 0;this.lb=this.Db=this.wa=!1;this.oa=0;this.j=null;this.ya=0;this.gb=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,X);"string"==typeof c.stack&&(this.gb=c.stack.replace(/^[^\n]*\n/,""))}}function Rd(a,b){if(a.i)a.m instanceof X&&Rd(a.m);else{if(a.j){var c=a.j;delete a.j;b?Rd(c,b):(c.ya--,0>=c.ya&&Rd(c))}a.pb?a.pb.call(a.yb,a):a.lb=!0;a.i||a.g(new Sd)}}
X.prototype.xb=function(a,b){this.wa=!1;Td(this,a,b)};function Td(a,b,c){a.i=!0;a.m=c;a.u=!b;Ud(a)}function Vd(a){if(a.i){if(!a.lb)throw new Wd;a.lb=!1}}X.prototype.h=function(a){Vd(this);Td(this,!0,a)};X.prototype.g=function(a){Vd(this);Xd(this,a);Td(this,!1,a)};function Xd(a,b){a.gb&&w(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.gb)}function Yd(a,b,c){return Zd(a,b,null,c)}function Zd(a,b,c,d){a.R.push([b,c,d]);a.i&&Ud(a);return a}
function $d(a){return Ga(a.R,function(a){return ga(a[1])})}function Ud(a){a.oa&&a.i&&$d(a)&&(s.clearTimeout(a.oa),delete a.oa);a.j&&(a.j.ya--,delete a.j);for(var b=a.m,c=!1,d=!1;a.R.length&&!a.wa;){var e=a.R.shift(),f=e[0],l=e[1],e=e[2];if(f=a.u?l:f)try{var m=f.call(e||a.yb,b);t(m)&&(a.u=a.u&&(m==b||m instanceof Error),a.m=b=m);b instanceof X&&(d=!0,a.wa=!0)}catch(n){b=n,a.u=!0,Xd(a,b),$d(a)||(c=!0)}}a.m=b;d&&(Zd(b,x(a.xb,a,!0),x(a.xb,a,!1)),b.Db=!0);c&&(a.oa=s.setTimeout(lb(b),0))}
function ae(a){Error.captureStackTrace?Error.captureStackTrace(this,ae):this.stack=Error().stack||"";a&&(this.message=String(a))}z(ae,Error);function Wd(){ae.call(this)}z(Wd,ae);Wd.prototype.message="Deferred has already fired";Wd.prototype.name="AlreadyCalledError";function Sd(){ae.call(this)}z(Sd,ae);Sd.prototype.message="Deferred was canceled";Sd.prototype.name="CanceledError";function be(a,b,c,d,e,f){X.call(this,e,f);this.kb=a;this.G=[];this.mb=!!b;this.Cb=!!c;this.Bb=!!d;for(b=this.ob=0;b<a.length;b++)Zd(a[b],x(this.nb,this,b,!0),x(this.nb,this,b,!1));0!=a.length||this.mb||this.h(this.G)}z(be,X);be.prototype.nb=function(a,b,c){this.ob++;this.G[a]=[b,c];this.i||(this.mb&&b?this.h([a,c]):this.Cb&&!b?this.g(c):this.ob==this.kb.length&&this.h(this.G));this.Bb&&!b&&(c=null);return c};be.prototype.g=function(a){be.k.g.call(this,a);for(a=0;a<this.kb.length;a++)Rd(this.kb[a])};function ce(a){if("function"==typeof a.V)return a.V();if(v(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return nb(a)}function de(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||v(a))Da(a,b,c);else{var d;if("function"==typeof a.ka)d=a.ka();else if("function"!=typeof a.V)if(ea(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=ob(a);else d=void 0;for(var e=ce(a),f=e.length,l=0;l<f;l++)b.call(c,e[l],d&&d[l],a)}};function ee(a,b){this.h={};this.g=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ee?(c=a.ka(),d=a.V()):(c=ob(a),d=nb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=ee.prototype;k.V=function(){fe(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};k.ka=function(){fe(this);return this.g.concat()};
k.remove=function(a){return ge(this.h,a)?(delete this.h[a],this.i--,this.g.length>2*this.i&&fe(this),!0):!1};function fe(a){if(a.i!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];ge(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.i!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],ge(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}k.get=function(a,b){return ge(this.h,a)?this.h[a]:b};k.set=function(a,b){ge(this.h,a)||(this.i++,this.g.push(a));this.h[a]=b};k.Aa=function(){return new ee(this)};
function ge(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function he(a){return ie(a||arguments.callee.caller,[])}
function ie(a,b){var c=[];if(C(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(je(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=je(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(ie(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function je(a){if(ke[a])return ke[a];a=String(a);if(!ke[a]){var b=/function ([^\(]+)/.exec(a);ke[a]=b?b[1]:"[Anonymous]"}return ke[a]}var ke={};function le(a,b,c,d,e){"number"==typeof e||me++;this.m=d||na();this.j=a;this.u=b;this.i=c;delete this.h;delete this.g}le.prototype.h=null;le.prototype.g=null;var me=0;le.prototype.getMessage=function(){return this.u};function ne(a){this.u=a}ne.prototype.i=null;ne.prototype.h=null;ne.prototype.j=null;ne.prototype.g=null;function Y(a,b){this.name=a;this.value=b}Y.prototype.toString=function(){return this.name};var oe=new Y("SHOUT",1200),pe=new Y("SEVERE",1E3),Z=new Y("WARNING",900),qe=new Y("INFO",800),re=new Y("CONFIG",700),se=new Y("FINE",500),te=new Y("FINER",400),ue=new Y("FINEST",300),ve=[new Y("OFF",Infinity),oe,pe,Z,qe,re,se,te,ue,new Y("ALL",0)],we=null;
ne.prototype.getChildren=function(){this.j||(this.j={});return this.j};function xe(a){if(a.h)return a.h;if(a.i)return xe(a.i);Ba("Root logger has no level set.");return null}
ne.prototype.log=function(a,b,c){if(a.value>=xe(this).value)for(ga(b)&&(b=b()),a=this.m(a,b,c),b="log:"+a.getMessage(),s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b)),s.msWriteProfilerMark&&s.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.g)for(var e=0,f=void 0;f=c.g[e];e++)f(d);b=b.i}};
ne.prototype.m=function(a,b,c){var d=new le(a,String(b),this.u);if(c){d.h=c;var e;var f=arguments.callee.caller;try{var l;var m=aa("window.location.href");if(v(c))l={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var n,p,q=!1;try{n=c.lineNumber||c.cc||"Not available"}catch(r){n="Not available",q=!0}try{p=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||m}catch(B){p="Not available",q=!0}l=!q&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:n,fileName:p,stack:c.stack||"Not available"}}e="Message: "+sa(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+sa(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+sa(he(f)+"-> ")}catch(H){e="Exception trying to expose exception! You win, we lose. "+H}d.g=e}return d};function ye(a,b){a.log(te,b,void 0)}var ze={},Ae=null;
function Be(){Ae||(Ae=new ne(""),ze[""]=Ae,Ae.h=re)}function Ce(){Be();return Ae}function $(a){Be();var b;if(!(b=ze[a])){b=new ne(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=$(a.substr(0,c));c.getChildren()[d]=b;b.i=c;ze[a]=b}return b};var De={},Ee=null;function Fe(){Ee||(Ee=new Md(location.pathname));return Ee}function Ge(a){return De["sugar-"+a]}function He(){var a=new X,b=new W(Ie,function(b){for(var d=0;d<b.length;d++){var e=b[d];De[e]||(De[e]=new Md(e))}for(e in De)-1==b.indexOf(e)&&(De[e].U(),delete De[e]);a.h(b)});Fe().send(b);return a}var Ie="channel-names";function Jd(a,b){X.call(this,a,b);this.G=[]}z(Jd,X);Jd.prototype.h=function(a){this.G.length=0;Jd.k.h.call(this,a)};Jd.prototype.g=function(a){this.G.length=0;Jd.k.g.call(this,a)};function Je(a,b,c){this.h=a;this.g=new Ke({id:{$t:"http://www.google.com/m8/feeds/contacts/kts%40gmail.com/base/0"},gd$email:[{address:a,primary:"true"}],gd$name:{gd$fullName:{$t:b}},gd$phoneNumber:[{$t:c,primary:"true"}]});this.X=null}function Le(a){return pb(a.g.data,"gd$phoneNumber",0,"$t")||""}
function Me(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=c,f=d,l=a.g,m=b[d],n=0,p=Ne(l),q=Ne(m),r=0;r<p.length;r++)for(var B=p[r],H=0;H<q.length;H++){var U=q[H];B&&B==U&&(n+=1)}p=0;B=l.data.gd$name;H=m.data.gd$name;if(B&&H)for(U=["gd$familyName","gd$givenName","gd$additionalName","gd$fullName"],q=[0.06,0.06,0.06,0.12],r=0;4>r;r++){var y=B[U[r]],P=H[U[r]];y&&P==y&&(p+=q[r])}r=0;q=l.Da();B=m.Da();q&&q==B&&(r+=0.2);H=0;l=Oe(l);m=Oe(m);B=l.length;for(q=[];B--;){H=l[B];U=m.length;for(q[B]=0;U--;)P=
m[U],H.$t&&P.$t&&((y=H)&&P&&0!=y.length&&0!=P.length?(y=y.trim(),P=P.trim(),y=Pe(y),P=Pe(P),y=y.Ua&&y.P&&y.Ua==P.Ua&&y.P==P.P?6<=y.P.length?1:4<=y.P.length?0.8:0.4:y.P&&4<=y.P.length&&y.P==P.P?8<=y.P.length?0.8:4<=y.P.length?0.6:0.4:0):y=0,q[B]=Math.max(q[B],0.7*y));H=Qe(q).value}e[f]=n+p+r+H}e=[];for(d=0;d<b.length;d++){f=e;n=c[d];p=Na;q=0;m=f.length;for(l=void 0;q<m;)r=q+m>>1,B=p(n,f[r]),0<B?q=r+1:(m=r,l=!B);f=l?q:~q;0>f?(La(e,-(f+1),0,c[d]),n=b.splice(d,1),La(b,-(f+1),0,n[0])):La(e,f,0,c[d])}return e}
function Re(a){var b=new W("gdata-list-contact-by-email",function(a){window.g=a;window.console.log(a);a=a.map(function(a){return new Ke(a)});var b=Me(this,a);this.X=[];for(var e=0;e<b.length;e++)0.9<b[e]&&this.X.push(a[e]);window.console.log(a,b,this.X)},a);b.g=a.h;Fe().send(b);return Id(b)}Je.prototype.toString=function(){this.X&&this.X[0]&&this.X[0].id.match(/\w+$/);return"ContactModel:"+this.h};var Se=["Accounts","Leads","Contacts"];function Te(a,b,c){this.domain=a;this.N=b;this.g=c||null}Te.prototype.n=function(){return this.N};Te.prototype.F=function(){return this.g.id};Te.prototype.value=function(a){return this.g?this.g[a]:void 0};function Ue(a,b,c){function d(d,l){!a[c+l]||b[d]&&b[d].$t==a[c+l]||(e++,b[d]={$t:a[c+l]})}var e=0;if(!a)return 0;b||(b={});d("gd$city","_address_city");d("gd$country","_address_country");d("gd$postcode","_address_postalcode");d("gd$region","_address_state");d("gd$street","_address_street");d("gd$neighborhood","_address_street_2");d("gd$city","_address_street_3");return e}
function Ve(a,b){function c(a,c){if(l[a]){b.gd$phoneNumber||(b.gd$phoneNumber=[]);var d;a:{for(d=0;b.gd$phoneNumber&&d<b.gd$phoneNumber.length;d++)if(b.gd$phoneNumber[d].rel==c){d=b.gd$phoneNumber[d];break a}d=null}d?d.$t!=l[a]&&(d.$t=l[a],m++):(b.gd$phoneNumber.push({rel:c,$t:l[a]}),m++)}}function d(a){b.gd$im||(b.gd$im=[]);for(var c=0;c<b.gd$im.length;c++)if(b.gd$im[c].label==a)return b.gd$im[c];return null}function e(){b.gd$name||(b.gd$name={},m++)}function f(a,c){if(l[a]){b.gd$email||(b.gd$email=
[]);var d;a:{for(d=0;b.gd$email&&d<b.gd$email.length;d++)if(!(0<=n.indexOf(d))&&b.gd$email[d].address==l[a])break a;d=-1}if(0<=d){var e=b.gd$email[d];e.rel!=c&&(m++,e.rel=c);n.push(d)}else b.gd$email.push({rel:c,address:l[a]}),n.push(b.gd$email.length-1),m++}}var l=a.g,m=0;!l.name||b.title&&b.title.$t==l.name||(b.title={$t:l.name},m++);var n=[];f("email1","http://schemas.google.com/g/2005#work");f("email2","http://schemas.google.com/g/2005#home");f("email","http://schemas.google.com/g/2005#other");
l.salutation&&(e(),b.gd$name.gd$namePrefix&&b.gd$name.gd$namePrefix.$t==l.salutation||(b.gd$name.gd$namePrefix={$t:l.salutation},m++));l.first_name&&(e(),b.gd$name.gd$givenName&&b.gd$name.gd$givenName.$t==l.first_name||(b.gd$name.gd$givenName={$t:l.first_name},m++));l.last_name&&(e(),b.gd$name.gd$familyName&&b.gd$name.gd$familyName.$t==l.last_name||(b.gd$name.gd$familyName={$t:l.last_name},m++));l.full_name&&(e(),b.gd$name.gd$fullName&&b.gd$name.gd$fullName.$t==l.full_name||(b.gd$name.gd$fullName=
{$t:l.full_name},m++));if(l.twitter){var p=d("Twitter");p?p.address!=l.twitter&&(p.address=l.twitter,m++):(b.gd$im.push({label:"Twitter",address:l.twitter}),m++)}l.facebook&&((p=d("Facebook"),p)?p.address!=l.facebook&&(p.address=l.facebook,m++):(b.gd$im.push({label:"Facebook",address:l.facebook}),m++));l.googleplus&&((p=d("Google Plus"),p)?p.address!=l.googleplus&&(p.address=l.googleplus,m++):(b.gd$im.push({label:"Google Plus",address:l.googleplus}),m++));l.linkedin&&((p=d("Linkedin"),p)?p.address!=
l.linkedin&&(p.address=l.linkedin,m++):(b.gd$im.push({label:"Linkedin",address:l.linkedin}),m++));!l.birthdate||b.gContact$birthday&&b.gContact$birthday.when==l.birthdate||(b.gContact$birthday={when:l.birthdate},m++);c("phone_mobile","http://schemas.google.com/g/2005#mobile");c("phone_work","http://schemas.google.com/g/2005#work");c("phone_home","http://schemas.google.com/g/2005#home");c("phone_fax","http://schemas.google.com/g/2005#work_fax");c("phone_other","http://schemas.google.com/g/2005#other");
for(var q=-1,p=-1,r=0;b.gd$structuredPostalAddress&&r<b.gd$structuredPostalAddress.length;r++)-1==q&&"true"==b.gd$structuredPostalAddress[r].primary||"http://schemas.google.com/g/2005#work"==b.gd$structuredPostalAddress[r].rel?q=r:-1==p&&(p=r);-1==q&&0<=p&&(q=p,b.gd$structuredPostalAddress[q].primary="true",p=-1);0<=q?m+=Ue(l,b.gd$structuredPostalAddress[q],"primary"):(q={primary:"true",rel:"http://schemas.google.com/g/2005#work"},r=Ue(l,q,"primary"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=
[]),b.gd$structuredPostalAddress.push(q),m+=r));0<=p?m+=Ue(l,b.gd$structuredPostalAddress[p],"alt"):(q={},r=Ue(l,q,"alt"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=[]),b.gd$structuredPostalAddress.push(q),m+=r))};function We(a,b){this.parent=a;this.N=b instanceof Te?b.n():b;this.g=b instanceof Te?b:null}We.prototype.n=function(){return this.N};
function Xe(a){var b=new Jd,c=a.parent.ia,d;if(c)d="import-gdata",c={module:a.n(),kind:c.Va(),"gdata-id":c.F()};else{d="new-record";var e=a.parent.i,c={email1:a.parent.h,full_name:e};e&&0<e.length&&(e=e.split(/\s/),e[0]&&(c.first_name=e[0]),e[1]&&(c.last_name=e[e.length-1]));(e=a.parent.j)&&(c.phone_work=e);c={module:a.n(),record:c}}d=new W(d);d.g=c;Zd(Id(d),function(a){window.console.log(a);w(a)?(a.id||b.g("New record not created."),this.g=new Te(this.parent.domain,this.n(),a),b.h(this.g)):b.g("Something has done.")},
function(a){b.g(a)},a);Ge(a.parent.domain).send(d);return b}
function Ye(a){var b=a.g,c=b.F(),d=a.parent.ia;if(d){var c=new W("link"),e=a.n()+"#"+ +new Date(d.data.updated.$t)+"-NaN",b="sugarcrm://"+a.parent.domain+"/"+a.n()+"/"+b.F();Ld(c,{kind:d.Va(),"gdata-id":d.F(),"external-id":{label:e,value:b}});var f=Id(c);Ge(a.parent.domain).send(c);return Yd(f,function(a){window.console.log("link",a);a=new Ke(a);this.parent.ia=a},a)}var f=new X,l=new W("new-entry",function(a){l.h?f.g(Kd(l)+": "+l.g):(window.console.log("export",a),a=new Ke(a),this.parent.ia=a,f.h(a))},
a),d={};Ve(b,d);b=new Date(b.date_modified);d.gContact$externalId=[{label:a.n()+"#"+na()+"-"+b.getTime(),value:"sugarcrm://"+a.parent.domain+"/"+a.n()+"/"+c}];window.console.log("exporting new-entry",d);l.g=d;Fe().send(l);return f};function Ze(a,b){R.call(this,a);this.parent=b}z(Ze,R);k=Ze.prototype;k.p=$("ydn.crm.inj.sugar.RecordBody");k.n=function(){return this.parent.N};
k.D=function(){Ze.k.D.call(this);var a=this.g,b=a.t("div",{"class":"toolbar"}),c=a.t("div",{"class":"fields"}),d=this.l();J(d,"record-body");for(var e=Object.keys(this.parent.j.module_fields),f=0;f<e.length;f++){var l=this.parent.j.module_fields[e[f]],m,n,p=v(l.label)?l.label.replace(/:$/,""):l.label;"bool"==l.type?(m=a.t("input","value"),m.setAttribute("type","checkbox"),m.setAttribute("disabled","disabled"),n=a.t("span","name")):(m=a.t("label","value"),n=a.t("sup","name"));n.textContent=p;m=a.t("div",
{"class":"field"+(l.normallyHide?" normally-hide":"")},[m,n]);m.setAttribute("name",l.name);c.appendChild(m)}d.appendChild(b);d.appendChild(c);Q(d,!1)};k.v=function(){Ze.k.v.call(this);this.l()};
k.B=function(a){Ze.k.B.call(this,a);var b=this.l();a=a.g;var c=b.querySelector(".fields");if(a){Q(b,!0);for(var b=c.childElementCount,d=0;d<b;d++){var e=c.children[d],f=e.getAttribute("name"),l=e.querySelector(".value"),f=a.value(f),f=v(f)?f.trim():f;if("LABEL"==l.tagName)l.textContent=f||"";else{var m=f,n=l.type;if(t(n))switch(n.toLowerCase()){case "checkbox":case "radio":l.checked=m?"checked":null;break;case "select-one":l.selectedIndex=-1;if(v(m))for(var n=void 0,p=0;n=l.options[p];p++)if(n.value==
m){n.selected=!0;break}break;case "select-multiple":v(m)&&(m=[m]);n=void 0;for(p=0;n=l.options[p];p++)if(n.selected=!1,m)for(var q,r=0;q=m[r];r++)n.value==q&&(n.selected=!0);break;default:l.value=null!=m?m:""}}f?jb(e,"empty"):J(e,"empty")}}else Q(b,!1)};function $e(a,b){R.call(this,a);this.parent=b}z($e,R);k=$e.prototype;k.p=$("ydn.crm.inj.sugar.RecordHeader");k.n=function(){return this.parent.N};
k.D=function(){$e.k.D.call(this);var a=this.g,b=this.n(),c=a.t("span",{"class":"icon"},b.substr(0,2)),d=a.t("a",{href:"#","class":"title"}),e=a.t("a",{href:"#link","class":"link"},"link"),f=a.t("span","synced");Q(e,!1);Q(f,!1);c=a.t("div","header",[c,d,e,f]);b=a.t("a",{href:"#import"},"Add to "+b);b.style.zIndex=1E3;a=a.t("div",{"class":"import"},b);b=this.l();b.className="record-header";Q(b,!1);b.appendChild(a);b.appendChild(c)};
k.v=function(){$e.k.v.call(this);var a=this.l(),b=a.querySelector(".import a");tc(this).listen(b,"click",this.Nb,!1);a=a.querySelector("a.link");tc(this).listen(a,"click",this.$b,!1)};
k.B=function(a){$e.k.B.call(this,a);ye(this.p,"setModel "+a);window.console.log("RecordHeader.setModel",a);var b=this.l(),c=a.g,d=a.parent.ia,e=b.querySelector(".import"),f=e.nextElementSibling,l=e.querySelector("a");jb(l,"null");jb(l,"error");l.removeAttribute("rel");l.textContent=(d?"Import":"Add")+" to "+this.n();var m=b.querySelector("a.link");jb(m,"null");jb(m,"error");m.removeAttribute("rel");d?(l.textContent="Import to "+this.n(),l.setAttribute("title","Import Gmail contact "+d.id.match(/\w+$/)[0]+
" to SugarCRM "+this.n()),m.textContent="link",m.setAttribute("title","Link Gmail contact "+d.id.match(/\w+$/)[0]+" with this SugarCRM "+this.n())):(l.textContent="Add to "+this.n(),l.setAttribute("title","Add current contact  to SugarCRM "+this.n()),m.textContent="export",m.setAttribute("title","Export this SugarCRM "+this.n()+" to Gmail My Contacts address book"));if(!(l=c)){var n;a:{a=a.parent;for(n in a.g)if(a.g[n].g){n=!0;break a}n=!1}l=!n}Q(b,l);Q(e,!c);Q(f,c);if(c)if(b=b.querySelector(".title"),
n=c.g?(n=c.g.full_name||"")?n:(c.g.first_name||"").trim()+" "+(c.g.last_name||"").trim():"",b.textContent=n,n=c.F(),b.href="https://"+c.domain+"/index.php?module="+c.N+"&action=DetailView&record="+n,f=f.querySelector(".synced"),d){Q(m,!1);a:{b=c.domain;n=c.n();d=d.data;d=u(d.gContact$externalId)?d.gContact$externalId:d.gContact$externalId?[d.gContact$externalId]:[];for(a=0;a<d.length;a++)if(d[a].value){var p=d[a].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(p){var l=p[1],q=p[2],r=p[3],p=p[4];
if(!("sugarcrm"!=l||b&&b!=q||n&&n!=r)){d={domain:q,N:r,id:p,scheme:l};break a}}}d=null}d?d.id==c.F()?(Q(f,!0),m.textContent=""):(c="expect link id to be "+c.F()+" but "+d.id+" found.",this.p.log(Z,c,void 0),Q(f,!1)):(Q(m,!0),Q(f,!1))}else Q(m,!0),Q(f,!1);"Accounts"==this.n()&&Q(e,!1)};
k.$b=function(a){a.preventDefault();var b=this.l(),c=a.target,d=b.querySelector(".import"),e=d.nextElementSibling;a=C(ib(c),"error");C(ib(c),"null")||(a?(c.textContent="Error recorded. Thanks.",c.removeAttribute("href")):(J(c,"null"),a=this.va,c.textContent="Linking...",Zd(Ye(a),function(){c.textContent="Done.";J(c,"null");Q(d,!1);Q(e,!0);O(this,new K("change"))},function(a){jb(c,"null");J(c,"error");a=a instanceof Error?a.name+" "+a.message:w(a)?af(a):a;c.setAttribute("title",a);var b=Db(c);Fe().sendMessage("log",
{"class":"RecordHeader",method:"handleLinkClick",context:c.textContent,html:b?b.outerHTML:"",error:a});c.textContent="Error"},this)))};
k.Nb=function(a){a.preventDefault();var b=a.target;a=b.getAttribute("rel");if("error-report"==a)b.textContent="Recorded. Thanks",b.setAttribute("rel","null"),b.removeAttribute("title"),b.removeAttribute("href"),jb(b,"error");else if("null"!=a){var c=this.va;b.textContent="adding... to "+this.n();a=Xe(c);c.parent.ia?a=Zd(a,function(){b.textContent="Added. Linking...";return Ye(c)},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?af(a):a;b.setAttribute("title",
"Error importing: "+a);J(b,"error");var c=Db(b);Fe().sendMessage("log",{"class":"RecordHeader",method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this):b.textContent="Importing...";Zd(a,function(){Q(b.parentElement,!1);O(this,new K("change",this))},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?af(a):a;b.setAttribute("title","Error linking: "+a);J(b,"error");var c=Db(b);Fe().sendMessage("log",{"class":"RecordHeader",
method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this)}};function bf(a,b){R.call(this,a);this.j=b;this.N=b.module_name}z(bf,R);bf.prototype.D=function(){bf.k.D.call(this);J(this.l(),"record-panel "+this.N);var a=new $e(this.g,this);this.ba(a,!0);a=new Ze(this.g,this);this.ba(a,!0)};bf.prototype.v=function(){bf.k.v.call(this);for(var a=0;a<wc(this);a++){var b=S(this,a);tc(this).listen(b,"change",this.h)}};bf.prototype.h=function(){for(var a=this.va,b=0;b<wc(this);b++)S(this,b).B(a)};bf.prototype.B=function(a){bf.k.B.call(this,a);this.h()};function cf(a,b,c,d,e,f){this.domain=a;this.h=b;this.i=e;this.j=f||"";this.ia=c;this.g={};d=d||[];for(a=0;a<d.length;a++)this.g[d[a].n()]=new We(this,d[a]);for(a=0;a<Se.length;a++)d=Se[a],this.g[d]||(this.g[d]=new We(this,d))}cf.prototype.toString=function(){return"Model:"+this.h};$("ydn.gdata.base");function Pe(a){var b,c=a.match(/^\D*0*(\d{1,2}\D)?\D*0*(.+)/);c?(b=c[1].replace(/\D/g,""),a=c[2].replace(/\D/g,"")):a=a.replace(/\D/g,"");return{Ua:b,P:a}};function df(a){Error.captureStackTrace?Error.captureStackTrace(this,df):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}z(df,Error);z(df,Error);z(df,Error);function ef(a){this.data=a}ef.prototype.F=function(){return this.data.id.$t};ef.prototype.Da=function(){return this.data.title?this.data.title.$t:void 0};ef.prototype.Ca=function(){return this.data.content||null};function ff(a){this.data=a}z(ff,ef);var gf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function hf(a){if(jf){jf=!1;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=hf(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw jf=!0,Error();}}return a.match(gf)}var jf=F;$("goog.net.XhrIo");function kf(a,b){var c;if(a instanceof kf)this.ea=t(b)?b:a.ea,lf(this,a.pa),this.Ra=a.Ra,this.qa=a.qa,mf(this,a.Fa),this.xa=a.xa,nf(this,a.g.Aa()),this.Ba=a.Ba;else if(a&&(c=hf(String(a)))){this.ea=!!b;lf(this,c[1]||"",!0);var d=c[2]||"";this.Ra=d?decodeURIComponent(d):"";this.qa=(d=c[3]||"")?decodeURIComponent(d):"";mf(this,c[4]);this.xa=(d=c[5]||"")?decodeURIComponent(d):"";nf(this,c[6]||"",!0);this.Ba=(c=c[7]||"")?decodeURIComponent(c):""}else this.ea=!!b,this.g=new of(null,0,this.ea)}k=kf.prototype;
k.pa="";k.Ra="";k.qa="";k.Fa=null;k.xa="";k.Ba="";k.ea=!1;k.toString=function(){var a=[],b=this.pa;b&&a.push(pf(b,qf),":");if(b=this.qa){a.push("//");var c=this.Ra;c&&a.push(pf(c,qf),"@");a.push(encodeURIComponent(String(b)));b=this.Fa;null!=b&&a.push(":",String(b))}if(b=this.xa)this.qa&&"/"!=b.charAt(0)&&a.push("/"),a.push(pf(b,"/"==b.charAt(0)?rf:sf));(b=this.g.toString())&&a.push("?",b);(b=this.Ba)&&a.push("#",pf(b,tf));return a.join("")};k.Aa=function(){return new kf(this)};
function lf(a,b,c){a.pa=c?b?decodeURIComponent(b):"":b;a.pa&&(a.pa=a.pa.replace(/:$/,""))}function mf(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Fa=b}else a.Fa=null}function nf(a,b,c){b instanceof of?(a.g=b,uf(a.g,a.ea)):(c||(b=pf(b,vf)),a.g=new of(b,0,a.ea))}function pf(a,b){return v(a)?encodeURI(a).replace(b,wf):null}function wf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}
var qf=/[#\/\?@]/g,sf=/[\#\?:]/g,rf=/[\#\?]/g,vf=/[\#\?@]/g,tf=/#/g;function of(a,b,c){this.g=a||null;this.h=!!c}function xf(a){if(!a.s&&(a.s=new ee,a.O=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=yf(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}k=of.prototype;k.s=null;k.O=null;
k.add=function(a,b){xf(this);this.g=null;a=yf(this,a);var c=this.s.get(a);c||this.s.set(a,c=[]);c.push(b);this.O++;return this};k.remove=function(a){xf(this);a=yf(this,a);return ge(this.s.h,a)?(this.g=null,this.O-=this.s.get(a).length,this.s.remove(a)):!1};function zf(a,b){xf(a);b=yf(a,b);return ge(a.s.h,b)}k.ka=function(){xf(this);for(var a=this.s.V(),b=this.s.ka(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.V=function(a){xf(this);var b=[];if(v(a))zf(this,a)&&(b=Ja(b,this.s.get(yf(this,a))));else{a=this.s.V();for(var c=0;c<a.length;c++)b=Ja(b,a[c])}return b};k.set=function(a,b){xf(this);this.g=null;a=yf(this,a);zf(this,a)&&(this.O-=this.s.get(a).length);this.s.set(a,[b]);this.O++;return this};k.get=function(a,b){var c=a?this.V(a):[];return 0<c.length?String(c[0]):b};
k.toString=function(){if(this.g)return this.g;if(!this.s)return"";for(var a=[],b=this.s.ka(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.V(d),f=0;f<d.length;f++){var l=e;""!==d[f]&&(l+="="+encodeURIComponent(String(d[f])));a.push(l)}return this.g=a.join("&")};k.Aa=function(){var a=new of;a.g=this.g;this.s&&(a.s=this.s.Aa(),a.O=this.O);return a};function yf(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c}
function uf(a,b){b&&!a.h&&(xf(a),a.g=null,de(a.s,function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.g=null,this.s.set(yf(this,e),Ka(a)),this.O+=a.length))},a));a.h=b};$("ydn");function af(a){var b;try{b=JSON.stringify(a,void 0,void 0)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""};$("ydn.http");function Af(){this.g=na()}var Bf=new Af;Af.prototype.set=function(a){this.g=a};Af.prototype.get=function(){return this.g};function Cf(a){this.j=a||"";this.m=Bf}Cf.prototype.g=!0;Cf.prototype.h=!1;function Df(a){a=new Date(a.m);return Ef(a.getFullYear()-2E3)+Ef(a.getMonth()+1)+Ef(a.getDate())+" "+Ef(a.getHours())+":"+Ef(a.getMinutes())+":"+Ef(a.getSeconds())+"."+Ef(Math.floor(a.getMilliseconds()/10))}function Ef(a){return 10>a?"0"+a:String(a)}function Ff(a,b){var c=(a.m-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function Gf(a){Cf.call(this,a)}z(Gf,Cf);Gf.prototype.h=!0;
Gf.prototype.i=function(a){var b;switch(a.j.value){case oe.value:b="dbg-sh";break;case pe.value:b="dbg-sev";break;case Z.value:b="dbg-w";break;case qe.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.j," ");this.g&&c.push("[",Df(a),"] ");c.push("[",za(Ff(a,this.m.get())),"s] ");c.push("[",sa(a.i),"] ");c.push('<span class="',b,'">',ra(za(sa(a.getMessage()))));this.h&&a.h&&c.push("<br>",ra(za(a.g||"")));c.push("</span>");c.push("<br>");return c.join("")};
function Hf(a){Cf.call(this,a)}z(Hf,Cf);Hf.prototype.i=function(a){var b=[];b.push(this.j," ");this.g&&b.push("[",Df(a),"] ");b.push("[",Ff(a,this.m.get()),"s] ");b.push("[",a.i,"] ");b.push(a.getMessage());this.h&&a.h&&b.push("\n",a.g);b.push("\n");return b.join("")};function If(){this.m=x(this.u,this);this.g=new Hf;this.g.g=!1;this.h=this.g.h=!1;this.i="";this.j={}}If.prototype.u=function(a){if(!this.j[a.i]){var b=this.g.i(a),c=Jf;if(c)switch(a.j){case oe:Kf(c,"info",b);break;case pe:Kf(c,"error",b);break;case Z:Kf(c,"warn",b);break;default:Kf(c,"debug",b)}else window.opera?window.opera.postError(b):this.i+=b}};var Jf=window.console;function Kf(a,b,c){if(a[b])a[b](c);else a.log(c)};function Lf(a){this.m=x(this.u,this);this.h=new Gf;this.i=this.h.g=!1;this.g=a;this.j=this.g.ownerDocument||this.g.document;a=this.g?new Fb(Ab(this.g)):pa||(pa=new Fb);var b=null,c=a.g;if(D&&c.createStyleSheet)a=b=c.createStyleSheet(),D&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";else{c=tb(a.g,"head",void 0,void 0)[0];c||(b=tb(a.g,"body",void 0,void 0)[0],c=a.t("head"),b.parentNode.insertBefore(c,b));var d=b=a.t("style");D&&t(d.cssText)?d.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
d.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";a.appendChild(c,b)}this.g.className+=" logdiv"}
Lf.prototype.u=function(a){var b=100>=this.g.scrollHeight-this.g.scrollTop-this.g.clientHeight,c=this.j.createElement("div");c.className="logmsg";c.innerHTML=this.h.i(a);this.g.appendChild(c);b&&(this.g.scrollTop=this.g.scrollHeight)};var Mf=null,Nf=null;$("ydn.debug");function Of(){var a=JSON.stringify(Pf,void 0,void 0);return!v(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)};$("ydn");function Qe(a){if(!u(a))throw new df("Array required.");if(t(void 0))return a=Fa(a,function(a){return a[void 0]}),Qe(a);for(var b=Number.NaN,c=-1,d=0;d<a.length;d++)!isNaN(a[d])&&(isNaN(b)||a[d]>b)&&(b=a[d],c=d);return{value:b,index:c}};$("ydn.xml");function Qf(a){var b;if(t(a.id))b=a.id.$t;else if(t(a.batch$id))b=a.batch$id.$t;else if(t(a.g))b=a.g.$t;else throw new df("id or batch:id required.");this.id=b;this.data=a}z(Qf,ff);k=Qf.prototype;k.p=$("ydn.gdata.Entry");k.Va=function(){return this.kind};k.Da=ef.prototype.Da;k.F=function(){return this.id};k.Wb=["id","batch$id","link","category"];k.Ca=ef.prototype.Ca;
k.update=function(a){var b=["batch$status","batch$operation","status"],c;for(c in a.data)a.data.hasOwnProperty(c)&&w(a.data[c])&&!C(b,c)&&!C(this.Wb,c)&&(this.data[c]=a.data[c])};function Rf(a){Qf.call(this,a);a=(a=this.id.match(/https?:\/\/www.google.com\/m8\/feeds\/(group|contact|batch)s?\/([^\/]+)\/?(\w+)\/?(\w*)?/))?{bc:"m8",kind:a[1],user_id:a[2]?a[2].replace("%40","@"):"",projection:a[3],id:a[4]}:null;window.console.assert(!!a,"Invalid m8 entry: "+this.id);this.user_id=a.user_id;window.console.assert(a.kind==this.kind,"Invalid kind: "+a.kind+" vs "+this.kind)}z(Rf,Qf);Rf.prototype.p=$("ydn.gdata.m8.Entry");Rf.prototype.type="m8";function Ke(a){Rf.call(this,a)}z(Ke,Rf);Ke.prototype.kind="contact";Ke.prototype.p=$("ydn.gdata.m8.ContactEntry");Ke.prototype.Va=function(){return"contact"};function Sf(a){return pb(a.data,"gd$name","gd$fullName","$t")||""}function Ne(a){var b=a.data.gd$email;a=[];for(var b=u(b)?b:b?[b]:[],c=0;c<b.length;c++)a.push(b[c].address);return a}function Oe(a){a=a.data.gd$phoneNumber;a=u(a)?a:w(a)?[a]:[];for(var b=[],c=0;c<a.length;c++)a[c].$t&&!/^[\s\xa0]*$/.test(a[c].$t)&&b.push(a[c].$t);return b}
function Tf(a,b){for(var c=a.data,c=u(c.gContact$externalId)?c.gContact$externalId:c.gContact$externalId?[c.gContact$externalId]:[],d=[],e=0;e<c.length;e++)if(c[e].value){var f=c[e].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(f){var l=f[1],m=f[2],n=f[3],f=f[4];"sugarcrm"!=l||b&&b!=m||d.push({domain:m,N:n,id:f,scheme:l})}}return d};function Uf(a,b,c){R.call(this,a);this.domain=b;this.h=c}z(Uf,R);k=Uf.prototype;k.J=function(){return"sugar-panel"};k.D=function(){Uf.k.D.call(this);var a=this.g,b=this.l();J(b,this.J());var c=a.t("a",{href:"https://"+this.domain},this.domain),c=a.t("div",{"class":"main-title",title:"SugarCRM"},[c]);b.appendChild(c);for(b=0;b<Se.length;b++)this.ba(new bf(a,this.h[Se[b]]),!0)};k.v=function(){Uf.k.v.call(this)};k.p=$("ydn.crm.inj.SugarPanel");
function Vf(a,b){a.p.log(ue,"setChildModel_ "+b,void 0);for(var c=0;c<wc(a);c++){var d=S(a,c);d.B(b.g[d.N])}}function Wf(a,b,c,d,e,f){for(var l=new W("list",function(a){window.console.log("contact",b,a);for(var f=[],l=0;l<a.length;l++)for(var m=a[l],n=m.result?m.result.length:0,U=0;U<n;U++)f.push(new Te(this.domain,m.store,m.result[U]));a=new cf(this.domain,b,e,f,c,d);Vf(this,a)},a),m=[],n=0;n<f.length;n++)m.push({store:f[n].N,index:"id",key:f[n].id});l.g=m;Ge(a.domain).send(l)}
k.B=function(a){Uf.k.B.call(this,a);ye(this.p,"showing for "+a);var b=this.l(),c=a.h;if(c){Q(b,!0);var d=a.X?a.X[0]:null;if(d&&(b=Tf(d,this.domain),0<b.length)){Wf(this,c,Sf(a.g),Le(a),d,b);return}b=new W("list",function(b){window.h=b;window.console.log(c,b);for(var f=[],l=0;l<b.length;l++){var m=b[0];m.result&&0<m.result.length&&f.push(new Te(this.domain,m.store,m.result[0]))}b=new cf(this.domain,c,d,f,Sf(a.g),Le(a));Vf(this,b)},this);Ld(b,[{store:"Accounts",index:"ydn$emails",key:c},{store:"Contacts",
index:"ydn$emails",key:c},{store:"Leads",index:"ydn$emails",key:c}]);Ge(this.domain).send(b)}else Q(b,!1)};function Xf(){this.g=null}var Yf;function Zf(a,b,c,d){b=Ge(b);for(var e=[],f=0;f<Se.length;f++){var l=new W("info-module");l.g=Se[f];e.push(Id(l));b.send(l)}return Yd(new be(e),function(a){for(var b={},e=0;e<Se.length;e++)b[Se[e]]=a[e][1];if(this.g)$f(this,b,c,d);else{var f=this;return chrome.storage.sync.get("sugar-setting",function(a){f.g=a["sugar-setting"]||ag;$f(f,b,c,d)})}},a)}
var Pf={Display:{NormallyHide:{full_name:!0,date_entered:!0,date_modified:!0,modified_user_id:!0,modified_by_name:!0,created_by:!0,created_by_name:!0,deleted:!0,account_id:!0,email_and_name1:!0,invalid_email:!0,team_id:!0,team_set_id:!0,team_count:!0,assigned_user_id:!0,id:!0}}},ag={Modules:{Accounts:Of(),Contacts:Of(),Leads:Of()}};
function $f(a,b,c,d){for(var e in b){var f=pb(a.g,"Modules",e,"Display","NormallyHide");if(f){var l=b[e],m;for(m in l.module_fields)f[m]&&(l.module_fields[m].normallyHide=f[m])}}c.call(d,b)};function bg(a){R.call(this,a)}z(bg,R);bg.prototype.D=function(){bg.k.D.call(this);var a=this.l(),b=this.g;J(a,"sugarcrm-link-panel");b=b.createElement("a");b.textContent="Setup SugarCRM";b.href=chrome.extension.getURL(Od)+"#setup-sugarcrm";b.className="sugarcrm-setup-link";a.appendChild(b);Q(a,!1)};bg.prototype.B=function(a){bg.k.B.call(this,a);a=u(a)&&0<a.length;Q(this.l(),!a)};function cg(a){R.call(this,a);this.m=new Pd(400);M(this.m,Qd,this.Yb,!1,this);this.j=0;this.G="";Yf||(Yf=new Xf);this.ya=Yf;this.h=document.createElement("div")}z(cg,R);k=cg.prototype;k.J=function(){return"sidebar"};k.D=function(){cg.k.D.call(this);var a=this.l();J(a,this.J())};k.v=function(){cg.k.v.call(this)};k.p=$("ydn.crm.inj.SidebarPanel");function dg(a,b){return Zf(a.ya,b,function(a){a=new Uf(this.g,b,a);ye(this.p,"sugar panel "+b+" created");this.ba(a,!0)},a)}
k.init=function(){return Yd(He(),function(a){var b=new bg;this.ba(b,!0);b.B(a);for(var b=[],c=0;c<a.length;c++)b.push(dg(this,a[c].substr(6)));return new be(b)},this)};k.update=function(){this.p.log(ue,"updating sidebar",void 0);this.j=0;this.G=location.href;var a=this.m;a.Ea=!0;a.T||(a.T=a.g.setTimeout(a.i,a.h),a.j=na())};k.B=function(a){cg.k.B.call(this,a);var b=wc(this);0<b?ye(this.p,"setting module to "+b+" children"):this.p.log(Z,"no sugar instance",void 0);for(var c=1;c<b;c++)S(this,c).B(a)};
function eg(a,b){var c=a.querySelector("img[jid]");if(!c){if(b){var d=a.querySelector("span[title]");if(d&&(c=d.getAttribute("title").trim(),0<c.length&&(d=document.querySelector('span[name="'+c+'"][email]'))))return d=d.getAttribute("email"),new Je(d,c)}return null}for(d=c.getAttribute("jid");c&&"TD"!=c.tagName;)c=c.parentElement;c=c.nextElementSibling.querySelector("span[title]").getAttribute("title");return new Je(d,c)}
k.Yb=function(){this.j++;window.console.log("sniff contact "+this.j);this.G!=location.href&&this.m.stop();if(40<this.j)this.m.stop();else{var a=document.querySelector('table[role="presentation"]');if(a){1!=a.childElementCount&&this.p.log(Z,"Probably our assumption about layout is wrong",void 0);var b=a.querySelector("tr");if(3!=b.childElementCount)this.p.log(Z,"Probably our assumption about layout is very wrong",void 0);else if(a=b.children[2],a.style.height||this.p.log(Z,"Probably our assumption about layout is wrong",
void 0),a=a.querySelector("table")){var c=eg(a,5<this.j);if(c){this.m.stop();for(var d,b=a,e=0;4>e;e++)if(b.parentElement&&(b=b.parentElement,b.nextElementSibling&&"DIV"==b.nextElementSibling.tagName)){var b=b.parentElement,e=b.lastElementChild,f=!!e.querySelector("a[href]");d=document.createElement("div");f?b.parentElement.insertBefore(d,e):b.appendChild(d);break}d||(b=a.ownerDocument,d=b.createElement("td"),d.setAttribute("colspan","2"),b=b.createElement("tr"),b.className="widget-topraw",b.appendChild(d),
(a.querySelector("tbody")||a).appendChild(b));this.h.parentElement?(this.h.parentElement.removeChild(this.h),d.appendChild(this.h)):(d.appendChild(this.h),this.render(this.h));Q(this.h,!0);window.console.log("rendering for "+c);Yd(Re(c),function(){this.B(c)},this)}else this.p.log(Z,"Could not sniff contact identifier.",void 0),Q(this.h,!1)}else this.p.log(Z,"No Contact panel found.",void 0),Q(this.h,!1)}else this.p.log(Z,"Could not find main view",void 0)}};function fg(){this.g=this.h=null}fg.prototype.init=function(a){this.h=a;a=document.getElementById("user-login");M(a,"click",function(a){a.preventDefault();window.open(a.target.href,void 0,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=400, top="+(screen.height/2-200)+", left="+(screen.width/2-300));return!0},!0,this)};function gg(){Yd(He(),function(a){window.console.log(a)})}
function hg(a,b){if(!b||b instanceof Error)a.g=null;else if(a.g=b,a.h){var c=document.getElementById("user-login"),d=document.getElementById("user-name"),e,f=(e=a.h)||document;f.querySelectorAll&&f.querySelector?e=f.querySelector(".login-message"):(f=e||document,e=(f.querySelectorAll&&f.querySelector?f.querySelectorAll(".login-message"):f.getElementsByClassName?f.getElementsByClassName("login-message"):tb(document,"*","login-message",e))[0]);e=e||null;b instanceof Error?(e.textContent=b.message,Q(e,
!0),Q(c,!1)):a.g.is_login?(c.href=a.g.logout_url,c.textContent="logout",d.textContent=a.g.email,Q(e,!1),Q(c,!1)):(c.href=a.g.login_url,c.textContent="login",c.style.display="",d.textContent="",Q(e,!0),Q(c,!0),gg())}};function ig(){this.Ab=new cg;var a=this.history=new lc,b=new kf(document.location.href);a.Xb=b.xa+"/";M(this.history,"navigate",this.h,!1,this);this.g=null;this.cb=!1;new Ed;this.jb=new fg}ig.prototype.p=$("ydn.crm.inj.Main");ig.prototype.h=function(a){a.g!=this.g&&(this.g=a.g,/^contact/.test(a.g)||/\w+\/[\w\d]{10,18}$/.test(a.g)&&this.Ab.update())};
ig.prototype.init=function(){ye(this.p,"init "+this);var a=this,b=window.setInterval(function(){document.querySelector('a[href="http://mail.google.com/mail/help/terms.html"]')&&(window.clearTimeout(b),jg(a))},500);window.setTimeout(function(){window.clearTimeout(b);jg(a)},15E3)};ig.prototype.toString=function(){return"inj.Main:0.3.3"};
function jg(a){var b=new W("login-info",function(a){window.console.log(a);if(b.h)this.p.log(Z,Kd(b),void 0),hg(this.jb,b.h instanceof Error?b.h:b.h?Error(b.h):null);else a:{if(a&&a.email){this.cb=!0;var d=this.jb.g;if(d&&d.email==a.email)break a;this.Ab.init();this.history.setEnabled(!0)}else this.cb&&(this.cb=!1,this.history.setEnabled(!1));hg(this.jb,a)}},a);Fe().send(b)}
function kg(){var a;if(fa("finest"))a=new Y("log","finest");else if(v("finest")){if(!we){we={};a=0;for(var b;b=ve[a];a++)we[b.value]=b,we[b.name]=b}a=we.FINEST||null}else a=se;$("ydn.crm").h=a;if(t(void 0)){if(!Nf){a=Nf=new Lf(void 0);if(!0!=a.i){b=Ce();var c=a.m;b.g||(b.g=[]);b.g.push(c);a.i=!0}Ce().h=Z}}else Mf||Nf||(a=Mf=new If,!0!=a.h&&(b=Ce(),c=a.m,b.g||(b.g=[]),b.g.push(c),a.h=!0),Ce().h=Z);a=new ig;a.init();return a}var lg=["runApp"],mg=s;lg[0]in mg||!mg.execScript||mg.execScript("var "+lg[0]);
for(var ng;lg.length&&(ng=lg.shift());)lg.length||void 0===kg?mg=mg[ng]?mg[ng]:mg[ng]={}:mg[ng]=kg;})();app=runApp();

            //# sourceMappingURL=inj.js.map
        