(function(){var l,s=this;function aa(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ba(){}function ca(a){a.ca=function(){return a.hb?a.hb:a.hb=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==da(a)}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0;
function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function x(a,b,c){x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return x.apply(null,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function z(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Mb=function(a,c,f){var k=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,k)}};function na(a){Error.captureStackTrace?Error.captureStackTrace(this,na):this.stack=Error().stack||"";a&&(this.message=String(a))}z(na,Error);na.prototype.name="CustomError";var oa;function pa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function qa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xa,"&#39;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,sa=/[&<>"']/;function za(a){return qa(a.replace(/  /g," &#160;"),void 0)};function Aa(a,b){b.unshift(a);na.call(this,pa.apply(null,b));b.shift()}z(Aa,na);Aa.prototype.name="AssertionError";function Ba(a,b){throw new Aa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var A=Array.prototype,Ca=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(v(a))return v(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Da=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ea=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,k=v(a)?
a.split(""):a,m=0;m<d;m++)if(m in k){var n=k[m];b.call(c,n,m,a)&&(e[f++]=n)}return e},Fa=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,k=0;k<d;k++)k in f&&(e[k]=b.call(c,f[k],k,a));return e},Ga=A.some?function(a,b,c){return A.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ha=A.every?function(a,b,c){return A.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function D(a,b){return 0<=Ca(a,b)}function Ia(a,b){var c=Ca(a,b),d;(d=0<=c)&&A.splice.call(a,c,1);return d}function Ja(a){return A.concat.apply(A,arguments)}function Ka(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function La(a,b,c,d){A.splice.apply(a,Ma(arguments,1))}function Ma(a,b,c){return 2>=arguments.length?A.slice.call(a,b):A.slice.call(a,b,c)}
function Na(a,b){return a>b?1:a<b?-1:0};var Oa,Pa,Qa,Ra;function Sa(){return s.navigator?s.navigator.userAgent:null}Ra=Qa=Pa=Oa=!1;var Ta;if(Ta=Sa()){var Ua=s.navigator;Oa=0==Ta.lastIndexOf("Opera",0);Pa=!Oa&&(-1!=Ta.indexOf("MSIE")||-1!=Ta.indexOf("Trident"));Qa=!Oa&&-1!=Ta.indexOf("WebKit");Ra=!Oa&&!Qa&&!Pa&&"Gecko"==Ua.product}var Va=Oa,E=Pa,F=Ra,G=Qa,Wa=s.navigator,Xa=-1!=(Wa&&Wa.platform||"").indexOf("Mac");function Ya(){var a=s.document;return a?a.documentMode:void 0}var Za;
a:{var $a="",ab;if(Va&&s.opera)var bb=s.opera.version,$a="function"==typeof bb?bb():bb;else if(F?ab=/rv\:([^\);]+)(\)|;)/:E?ab=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:G&&(ab=/WebKit\/(\S+)/),ab)var cb=ab.exec(Sa()),$a=cb?cb[1]:"";if(E){var db=Ya();if(db>parseFloat($a)){Za=String(db);break a}}Za=$a}var eb={};
function H(a){var b;if(!(b=eb[a])){b=0;for(var c=String(Za).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var k=c[f]||"",m=d[f]||"",n=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=n.exec(k)||["","",""],r=p.exec(m)||["","",""];if(0==q[0].length&&0==r[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==q[1].length?0:parseInt(q[1],10))>(0==r[1].length?
0:parseInt(r[1],10))?1:0)||((0==q[2].length)<(0==r[2].length)?-1:(0==q[2].length)>(0==r[2].length)?1:0)||(q[2]<r[2]?-1:q[2]>r[2]?1:0)}while(0==b)}b=eb[a]=0<=b}return b}var fb=s.document,gb=fb&&E?Ya()||("CSS1Compat"==fb.compatMode?parseInt(Za,10):5):void 0;var hb=!E||E&&9<=gb,ib=!F&&!E||E&&E&&9<=gb||F&&H("1.9.1");E&&H("9");function jb(a){a=a.className;return v(a)&&a.match(/\S+/g)||[]}function I(a,b){for(var c=jb(a),d=Ma(arguments,1),e=c.length+d.length,f=c,k=0;k<d.length;k++)D(f,d[k])||f.push(d[k]);a.className=c.join(" ");return c.length==e}function kb(a,b){var c=jb(a),d=Ma(arguments,1),e=lb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function lb(a,b){return Ea(a,function(a){return!D(b,a)})};function mb(a){return function(){throw a;}};function nb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function qb(a,b){for(var c=ea(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function sb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<rb.length;f++)c=rb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function tb(a){var b=arguments.length;if(1==b&&u(arguments[0]))return tb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function ub(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,k;k=a[f];f++)b==k.nodeName&&(d[e++]=k);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;k=a[f];f++)b=k.className,"function"==typeof b.split&&D(b.split(/\s+/),c)&&(d[e++]=k);d.length=e;return d}return a}
function vb(a,b){nb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in wb?a.setAttribute(wb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var wb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function xb(a,b,c){function d(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ea(f)||w(f)&&0<f.nodeType?d(f):Da(yb(f)?Ka(f):f,d)}}function zb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ab(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Bb(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function Cb(a){a=a.tabIndex;return fa(a)&&0<=a&&32768>a}function yb(a){if(a&&"number"==typeof a.length){if(w(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1}function Db(a){return Eb(a,function(a){return D(jb(a),"sidebar")})}function Eb(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Fb(a){this.g=a||s.document||document}l=Fb.prototype;
l.k=function(a){return v(a)?this.g.getElementById(a):a};l.o=function(a,b,c){var d=this.g,e=arguments,f=e[0],k=e[1];if(!hb&&k&&(k.name||k.type)){f=["<",f];k.name&&f.push(' name="',ra(k.name),'"');if(k.type){f.push(' type="',ra(k.type),'"');var m={};sb(m,k);delete m.type;k=m}f.push(">");f=f.join("")}f=d.createElement(f);k&&(v(k)?f.className=k:u(k)?I.apply(null,[f].concat(k)):vb(f,k));2<e.length&&xb(d,f,e);return f};l.createElement=function(a){return this.g.createElement(a)};
l.appendChild=function(a,b){a.appendChild(b)};l.getChildren=function(a){return ib&&void 0!=a.children?a.children:Ea(a.childNodes,function(a){return 1==a.nodeType})};l.contains=zb;var Gb=!E||E&&9<=gb,Hb=!E||E&&9<=gb,Ib=E&&!H("9");!G||H("528");F&&H("1.9b")||E&&H("8")||Va&&H("9.5")||G&&H("528");F&&!H("8")||E&&H("9");function Jb(){0!=Kb&&(this[ha]||(this[ha]=++ia))}var Kb=0;function J(a,b){this.type=a;this.i=this.target=b}J.prototype.j=!1;J.prototype.jb=!0;J.prototype.l=function(){this.j=!0};J.prototype.preventDefault=function(){this.jb=!1};function Lb(a){Lb[" "](a);return a}Lb[" "]=ba;function K(a,b){J.call(this,a?a.type:"");this.p=this.i=this.target=null;this.g=this.clientY=this.clientX=0;this.B=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.h=null;a&&this.init(a,b)}z(K,J);var Mb=[1,4,2];
K.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.i=b;var d=a.relatedTarget;if(d){if(F){var e;a:{try{Lb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.p=d;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.g=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.B=Xa?a.metaKey:
a.ctrlKey;this.h=a;a.defaultPrevented&&this.preventDefault();delete this.j};function Nb(a){return Gb?0==a.h.button:"click"==a.type?!0:!!(a.h.button&Mb[0])}K.prototype.l=function(){K.m.l.call(this);this.h.stopPropagation?this.h.stopPropagation():this.h.cancelBubble=!0};K.prototype.preventDefault=function(){K.m.preventDefault.call(this);var a=this.h;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ib)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ob="closure_listenable_"+(1E6*Math.random()|0);function Pb(a){try{return!(!a||!a[Ob])}catch(b){return!1}}var Qb=0;function Rb(a,b,c,d,e){this.Y=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.wa=e;this.ab=++Qb;this.removed=this.pa=!1}function Sb(a){a.removed=!0;a.Y=null;a.proxy=null;a.src=null;a.wa=null};function Tb(a){this.src=a;this.g={};this.h=0}Tb.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.h++);var k=Ub(f,b,d,e);-1<k?(a=f[k],c||(a.pa=!1)):(a=new Rb(b,this.src,a,!!d,e),a.pa=c,f.push(a));return a};Tb.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];b=Ub(e,b,c,d);return-1<b?(Sb(e[b]),A.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.h--),!0):!1};
function Vb(a,b){var c=b.type;c in a.g&&Ia(a.g[c],b)&&(Sb(b),0==a.g[c].length&&(delete a.g[c],a.h--))}function Wb(a,b,c,d,e){a=a.g[b];b=-1;a&&(b=Ub(a,c,d,e));return-1<b?a[b]:null}function Ub(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.Y==b&&f.capture==!!c&&f.wa==d)return e}return-1};var Xb="closure_lm_"+(1E6*Math.random()|0),Yb={},Zb=0;function L(a,b,c,d,e){if(u(b)){for(var f=0;f<b.length;f++)L(a,b[f],c,d,e);return null}c=$b(c);if(Pb(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,k=ac(a);k||(a[Xb]=k=new Tb(a));c=k.add(b,c,!1,d,e);c.proxy||(d=bc(),c.proxy=d,d.src=a,d.Y=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in Yb?Yb[b]:Yb[b]="on"+b,d),Zb++);a=c}return a}
function bc(){var a=cc,b=Hb?function(c){return a.call(b.src,b.Y,c)}:function(c){c=a.call(b.src,b.Y,c);if(!c)return c};return b}function dc(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)dc(a,b[f],c,d,e);else c=$b(c),Pb(a)?a.S(b,c,d,e):a&&(a=ac(a))&&(b=Wb(a,b,c,!!d,e))&&ec(b)}
function ec(a){if(!fa(a)&&a&&!a.removed){var b=a.src;if(Pb(b))Vb(b.ba,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in Yb?Yb[c]:Yb[c]="on"+c,d);Zb--;(c=ac(b))?(Vb(c,a),0==c.h&&(c.src=null,b[Xb]=null)):Sb(a)}}}function fc(a,b,c,d){var e=1;if(a=ac(a))if(b=a.g[b])for(b=Ka(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(e&=!1!==gc(f,d))}return Boolean(e)}
function gc(a,b){var c=a.Y,d=a.wa||a.src;a.pa&&ec(a);return c.call(d,b)}
function cc(a,b){if(a.removed)return!0;if(!Hb){var c=b||aa("window.event"),d=new K(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.i;f;f=f.parentNode)c.push(f);for(var f=a.type,m=c.length-1;!d.j&&0<=m;m--)d.i=c[m],e&=fc(c[m],f,!0,d);for(m=0;!d.j&&m<c.length;m++)d.i=c[m],e&=fc(c[m],f,!1,d)}return e}return gc(a,new K(b,this))}
function ac(a){a=a[Xb];return a instanceof Tb?a:null}var hc="__closure_events_fn_"+(1E9*Math.random()>>>0);function $b(a){return ga(a)?a:a[hc]||(a[hc]=function(b){return a.handleEvent(b)})};function M(){Jb.call(this);this.ba=new Tb(this);this.B=this}z(M,Jb);M.prototype[Ob]=!0;l=M.prototype;l.Qa=null;l.Ua=function(a){this.Qa=a};l.removeEventListener=function(a,b,c,d){dc(this,a,b,c,d)};
function N(a,b){var c,d=a.Qa;if(d)for(c=[];d;d=d.Qa)c.push(d);var d=a.B,e=b,f=e.type||e;if(v(e))e=new J(e,d);else if(e instanceof J)e.target=e.target||d;else{var k=e,e=new J(f,d);sb(e,k)}var k=!0,m;if(c)for(var n=c.length-1;!e.j&&0<=n;n--)m=e.i=c[n],k=ic(m,f,!0,e)&&k;e.j||(m=e.i=d,k=ic(m,f,!0,e)&&k,e.j||(k=ic(m,f,!1,e)&&k));if(c)for(n=0;!e.j&&n<c.length;n++)m=e.i=c[n],k=ic(m,f,!1,e)&&k;return k}l.listen=function(a,b,c,d){return this.ba.add(String(a),b,!1,c,d)};
l.S=function(a,b,c,d){return this.ba.remove(String(a),b,c,d)};function ic(a,b,c,d){b=a.ba.g[String(b)];if(!b)return!0;b=Ka(b);for(var e=!0,f=0;f<b.length;++f){var k=b[f];if(k&&!k.removed&&k.capture==c){var m=k.Y,n=k.wa||k.src;k.pa&&Vb(a.ba,k);e=!1!==m.call(n,d)&&e}}return e&&!1!=d.jb};function jc(a){J.call(this,"navigate");this.g=a}z(jc,J);function kc(a){M.call(this);this.g=a||window;L(this.g,"popstate",this.ib,!1,this);L(this.g,"hashchange",this.ib,!1,this)}z(kc,M);l=kc.prototype;l.Ha=!1;l.Jb="/";l.setEnabled=function(a){a!=this.Ha&&(this.Ha=a)&&N(this,new jc(this.getToken()))};l.getToken=function(){var a=this.g.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)};l.ib=function(){this.Ha&&N(this,new jc(this.getToken()))};function O(a,b){a.style.display=b?"":"none"}var lc=F?"MozUserSelect":G?"WebkitUserSelect":null;function mc(a,b){var c=b?null:a.getElementsByTagName("*");if(lc){var d="none";a.style[lc]=d;if(c)for(var e=0,f;f=c[e];e++)f.style[lc]=d}else if(E||Va)if(d="on",a.setAttribute("unselectable",d),c)for(e=0;f=c[e];e++)f.setAttribute("unselectable",d)};function nc(a){Jb.call(this);this.h=a;this.g={}}z(nc,Jb);var oc=[];nc.prototype.listen=function(a,b,c,d){u(b)||(oc[0]=b,b=oc);for(var e=0;e<b.length;e++){var f=L(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!f)break;this.g[f.ab]=f}return this};nc.prototype.S=function(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)this.S(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=$b(c),d=!!d,b=Pb(a)?Wb(a.ba,String(b),c,d,e):a?(a=ac(a))?Wb(a,b,c,d,e):null:null,b&&(ec(b),delete this.g[b.ab]);return this};
nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function pc(){}ca(pc);pc.prototype.g=0;function P(a){M.call(this);this.g=a||oa||(oa=new Fb);this.Aa=qc}z(P,M);P.prototype.V=pc.ca();var qc=null;function rc(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}l=P.prototype;l.xa=null;l.v=!1;l.A=null;l.Aa=null;l.ma=null;l.L=null;l.K=null;
l.aa=null;l.G=function(){return this.xa||(this.xa="ydn:"+(this.V.g++).toString(36))};l.k=function(){return this.A};function R(a){return a.p||(a.p=new nc(a))}l.Ua=function(a){if(this.L&&this.L!=a)throw Error("Method not supported");P.m.Ua.call(this,a)};l.w=function(){this.A=this.g.createElement("div")};l.render=function(a){sc(this,a)};function sc(a,b,c){if(a.v)throw Error("Component already rendered");a.A||a.w();b?b.insertBefore(a.A,c||null):a.g.g.body.appendChild(a.A);a.L&&!a.L.v||a.t()}
l.t=function(){this.v=!0;tc(this,function(a){!a.v&&a.k()&&a.t()})};l.s=function(a){this.ma=a};l.T=function(a,b){this.Da(a,uc(this),b)};
l.Da=function(a,b,c){if(a.v&&(c||!this.v))throw Error("Component already rendered");if(0>b||b>uc(this))throw Error("Child component index out of bounds");this.aa&&this.K||(this.aa={},this.K=[]);if(a.L==this){var d=a.G();this.aa[d]=a;Ia(this.K,a)}else{var d=this.aa,e=a.G();if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}if(a==this)throw Error("Unable to set parent component");if(d=this)if(d=a.L)if(d=a.xa)e=a.L,d=a.xa,e.aa&&d?(e=e.aa,d=(d in e?e[d]:void 0)||null):d=null,
d=d&&a.L!=this;if(d)throw Error("Unable to set parent component");a.L=this;P.m.Ua.call(a,this);La(this.K,b,0,a);a.v&&this.v&&a.L==this?(c=this.va(),c.insertBefore(a.k(),c.childNodes[b]||null)):c?(this.A||this.w(),b=S(this,b+1),sc(a,this.va(),b?b.A:null)):this.v&&!a.v&&a.A&&a.A.parentNode&&1==a.A.parentNode.nodeType&&a.t()};l.va=function(){return this.A};
function vc(a){if(null==a.Aa){var b;a:{b=a.v?a.A:a.g.g.body;var c=Ab(b);if(c.defaultView&&c.defaultView.getComputedStyle&&(b=c.defaultView.getComputedStyle(b,null))){b=b.direction||b.getPropertyValue("direction")||"";break a}b=""}a.Aa="rtl"==(b||((a.v?a.A:a.g.g.body).currentStyle?(a.v?a.A:a.g.g.body).currentStyle.direction:null)||(a.v?a.A:a.g.g.body).style&&(a.v?a.A:a.g.g.body).style.direction)}return a.Aa}function uc(a){return a.K?a.K.length:0}function S(a,b){return a.K?a.K[b]||null:null}
function tc(a,b,c){a.K&&Da(a.K,b,c)}function wc(a,b){return a.K&&b?Ca(a.K,b):-1};function xc(a,b,c,d,e){if(!(E||G&&H("525")))return!0;if(Xa&&e)return yc(a);if(e&&!d)return!1;fa(b)&&(b=zc(b));if(!c&&(17==b||18==b||Xa&&91==b))return!1;if(G&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(E&&d&&b==a)return!1;switch(a){case 13:return!(E&&E&&9<=gb);case 27:return!G}return yc(a)}
function yc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||G&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function zc(a){if(F)a=Ac(a);else if(Xa&&G)a:switch(a){case 93:a=91;break a}return a}
function Ac(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Bc(a,b){M.call(this);a&&Cc(this,a,b)}z(Bc,M);l=Bc.prototype;l.ea=null;l.ya=null;l.Oa=null;l.za=null;l.M=-1;l.U=-1;l.Ea=!1;
var Dc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ec={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Fc=E||G&&H("525"),Gc=Xa&&F;
Bc.prototype.g=function(a){G&&(17==this.M&&!a.ctrlKey||18==this.M&&!a.altKey||Xa&&91==this.M&&!a.metaKey)&&(this.U=this.M=-1);-1==this.M&&(a.ctrlKey&&17!=a.g?this.M=17:a.altKey&&18!=a.g?this.M=18:a.metaKey&&91!=a.g&&(this.M=91));Fc&&!xc(a.g,this.M,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.U=zc(a.g),Gc&&(this.Ea=a.altKey))};Bc.prototype.h=function(a){this.U=this.M=-1;this.Ea=a.altKey};
Bc.prototype.handleEvent=function(a){var b=a.h,c,d,e=b.altKey;E&&"keypress"==a.type?c=this.U:G&&"keypress"==a.type?c=this.U:Va?c=this.U:(c=b.keyCode||this.U,d=b.charCode||0,Gc&&(e=this.Ea),Xa&&63==d&&224==c&&(c=191));d=c=zc(c);var f=b.keyIdentifier;c?63232<=c&&c in Dc?d=Dc[c]:25==c&&a.shiftKey&&(d=9):f&&f in Ec&&(d=Ec[f]);this.M=d;a=new Hc(d,0,0,b);a.altKey=e;N(this,a)};Bc.prototype.k=function(){return this.ea};
function Cc(a,b,c){a.za&&(a.ya&&(ec(a.ya),ec(a.Oa),ec(a.za),a.ya=null,a.Oa=null,a.za=null),a.ea=null,a.M=-1,a.U=-1);a.ea=b;a.ya=L(a.ea,"keypress",a,c);a.Oa=L(a.ea,"keydown",a.g,c,a);a.za=L(a.ea,"keyup",a.h,c,a)}function Hc(a,b,c,d){K.call(this,d);this.type="key";this.g=a}z(Hc,K);var Ic;function Jc(a,b,c){ea(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Ic||(Ic={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Ic,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Kc(){}var Lc;ca(Kc);Kc.prototype.i=function(){};Kc.prototype.g=function(a){var b=a.g.o("div",Mc(this,a).join(" "),a.sa());a.isEnabled()||Nc(b,1,!a.isEnabled());a.H&8&&Nc(b,8,!!(a.C&8));a.H&16&&Nc(b,16,!!(a.C&16));a.H&64&&Nc(b,64,!!(a.C&64));return b};function Oc(a,b,c){if(a=a.k?a.k():a)if(E&&!H("7")){var d=Pc(jb(a),b);d.push(b);la(c?I:kb,a).apply(null,d)}else c?I(a,b):kb(a,b)}
function Qc(a,b){var c;if(a.H&32&&(c=a.k())){if(!b&&a.C&32){try{c.blur()}catch(d){}a.C&32&&a.fb()}(Bb(c)&&Cb(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}}function Nc(a,b,c){Lc||(Lc={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Lc[b])&&Jc(a,b,c)}Kc.prototype.F=function(){return"goog-control"};
function Mc(a,b){var c=a.F(),d=[c],e=a.F();e!=c&&d.push(e);c=b.C;for(e=[];c;){var f=c&-c;e.push(Rc(a,f));c&=~f}d.push.apply(d,e);E&&!H("7")&&d.push.apply(d,Pc(d));return d}function Pc(a,b){var c=[];b&&(a=a.concat([b]));Da([],function(d){!Ha(d,la(D,a))||b&&!D(d,b)||c.push(d.join("_"))});return c}function Rc(a,b){if(!a.h){var c=a.F();a.h={1:c+"-disabled",2:c+"-hover",4:c+"-active",8:c+"-selected",16:c+"-checked",32:c+"-focused",64:c+"-open"}}return a.h[b]};function Sc(a,b){if(!a)throw Error("Invalid class name "+a);if(!ga(b))throw Error("Invalid decorator function "+b);}var Tc={};function T(a,b,c){P.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=b[ha]||(b[ha]=++ia);if(d=Tc[d])break;b=b.m?b.m.constructor:null}b=d?ga(d.ca)?d.ca():new d:null}this.h=b;this.eb=t(a)?a:null}z(T,P);l=T.prototype;l.eb=null;l.C=0;l.H=39;l.Z=0;l.Ka=!0;l.w=function(){var a=this.h.g(this);this.A=a;var b=this.h.i();b&&(b?a.setAttribute("role",b):a.removeAttribute("role"));mc(a,!E&&!Va)};l.va=function(){return this.k()};
l.t=function(){T.m.t.call(this);var a=this.h;if(vc(this)){var b=this.k();Oc(b,a.F()+"-rtl",!0)}this.isEnabled()&&Qc(this,!0);this.H&-2&&(this.Ka&&Uc(this,!0),this.H&32&&(a=this.k()))&&(b=this.i||(this.i=new Bc),Cc(b,a),R(this).listen(b,"key",this.ka).listen(a,"focus",this.tb).listen(a,"blur",this.fb))};
function Uc(a,b){var c=R(a),d=a.k();b?(c.listen(d,"mouseover",a.Ma).listen(d,"mousedown",a.Ja).listen(d,"mouseup",a.Na).listen(d,"mouseout",a.La),a.la!=ba&&c.listen(d,"contextmenu",a.la),E&&c.listen(d,"dblclick",a.gb)):(c.S(d,"mouseover",a.Ma).S(d,"mousedown",a.Ja).S(d,"mouseup",a.Na).S(d,"mouseout",a.La),a.la!=ba&&c.S(d,"contextmenu",a.la),E&&c.S(d,"dblclick",a.gb))}l.sa=function(){return this.eb};l.isEnabled=function(){return!(this.C&1)};
l.setEnabled=function(a){var b=this.L;b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Vc(this,1,!a)||(a||(Wc(this,!1),this.Q(!1)),Qc(this,a),Xc(this,1,!a))};l.Q=function(a){Vc(this,2,a)&&Xc(this,2,a)};function Wc(a,b){Vc(a,4,b)&&Xc(a,4,b)}function Yc(a,b){Vc(a,8,b)&&Xc(a,8,b)}function Zc(a,b){Vc(a,64,b)&&Xc(a,64,b)}function Xc(a,b,c){if(a.H&b&&c!=!!(a.C&b)){var d=a.h,e=a.k();e&&((d=Rc(d,b))&&Oc(a,d,c),Nc(e,b,c));a.C=c?a.C|b:a.C&~b}}
function $c(a,b,c){if(a.v&&a.C&b&&!c)throw Error("Component already rendered");!c&&a.C&b&&Xc(a,b,!1);a.H=c?a.H|b:a.H&~b}function U(a,b){return!!(255&b)&&!!(a.H&b)}function Vc(a,b,c){return!!(a.H&b)&&!!(a.C&b)!=c&&(!(a.Z&b)||N(a,rc(b,c)))&&!0}l.Ma=function(a){!ad(a,this.k())&&N(this,"enter")&&this.isEnabled()&&U(this,2)&&this.Q(!0)};l.La=function(a){!ad(a,this.k())&&N(this,"leave")&&(U(this,4)&&Wc(this,!1),U(this,2)&&this.Q(!1))};l.la=ba;function ad(a,b){return!!a.p&&zb(b,a.p)}
l.Ja=function(a){if(this.isEnabled()&&(U(this,2)&&this.Q(!0),Nb(a)&&!(G&&Xa&&a.ctrlKey))){U(this,4)&&Wc(this,!0);var b;this.H&32&&(b=this.k())&&Bb(b)&&Cb(b)&&this.k().focus()}!Nb(a)||G&&Xa&&a.ctrlKey||a.preventDefault()};l.Na=function(a){this.isEnabled()&&(U(this,2)&&this.Q(!0),this.C&4&&bd(this,a)&&U(this,4)&&Wc(this,!1))};l.gb=function(a){this.isEnabled()&&bd(this,a)};
function bd(a,b){if(U(a,16)){var c=!(a.C&16);Vc(a,16,c)&&Xc(a,16,c)}U(a,8)&&Yc(a,!0);U(a,64)&&Zc(a,!(a.C&64));c=new J("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.B=b.B);return N(a,c)}l.tb=function(){U(this,32)&&Vc(this,32,!0)&&Xc(this,32,!0)};l.fb=function(){U(this,4)&&Wc(this,!1);U(this,32)&&Vc(this,32,!1)&&Xc(this,32,!1)};l.ka=function(a){return this.isEnabled()&&13==a.g&&bd(this,a)?(a.preventDefault(),a.l(),!0):!1};
if(!ga(T))throw Error("Invalid component class "+T);if(!ga(Kc))throw Error("Invalid renderer class "+Kc);var cd=T[ha]||(T[ha]=++ia);Tc[cd]=Kc;Sc("goog-control",function(){return new T(null)});function dd(){}z(dd,Kc);ca(dd);dd.prototype.F=function(){return"goog-tab"};dd.prototype.i=function(){return"tab"};dd.prototype.g=function(a){var b=dd.m.g.call(this,a);(a=a.j)&&b&&(b.title=a||"");return b};function ed(a,b,c){T.call(this,a,b||dd.ca(),c);$c(this,8,!0);this.Z|=9}z(ed,T);Sc("goog-tab",function(){return new ed(null)});function fd(){}ca(fd);fd.prototype.i=function(){};function gd(a,b){a&&(a.tabIndex=b?0:-1)}function hd(a,b){var c=b.k();mc(c,F);E&&(c.hideFocus=!0);var d=a.i();d&&(d?c.setAttribute("role",d):c.removeAttribute("role"))}fd.prototype.F=function(){return"goog-container"};fd.prototype.g=function(a){var b=this.F(),c=[b,a.W==id?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function jd(a,b,c){P.call(this,c);this.Ia=b||fd.ca();this.W=a||kd}z(jd,P);var id="horizontal",kd="vertical";l=jd.prototype;l.cb=null;l.Ia=null;l.W=null;l.ja=!0;l.fa=!0;l.I=-1;l.D=null;l.na=!1;l.$=null;l.w=function(){this.A=this.g.o("div",this.Ia.g(this).join(" "))};l.va=function(){return this.k()};
l.t=function(){jd.m.t.call(this);tc(this,function(a){a.v&&ld(this,a)},this);var a=this.k();hd(this.Ia,this);md(this,this.ja);R(this).listen(this,"enter",this.xb).listen(this,"highlight",this.yb).listen(this,"unhighlight",this.Hb).listen(this,"open",this.Cb).listen(this,"close",this.vb).listen(a,"mousedown",this.sb).listen(Ab(a),"mouseup",this.wb).listen(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.ub);nd(this)};
function nd(a){var b=R(a),c=a.k();b.listen(c,"focus",a.bb).listen(c,"blur",a.qb).listen(a.cb||(a.cb=new Bc(a.k())),"key",a.rb)}l.xb=function(){return!0};l.yb=function(a){var b=wc(this,a.target);if(-1<b&&b!=this.I){var c=S(this,this.I);c&&c.Q(!1);this.I=b;c=S(this,this.I);this.na&&Wc(c,!0);this.D&&c!=this.D&&(c.H&64?Zc(c,!0):Zc(this.D,!1))}b=this.k();null!=a.target.k()&&Jc(b,"activedescendant",a.target.k().id)};l.Hb=function(a){a.target==S(this,this.I)&&(this.I=-1);this.k().removeAttribute("aria-activedescendant")};
l.Cb=function(a){(a=a.target)&&a!=this.D&&a.L==this&&(this.D&&Zc(this.D,!1),this.D=a)};l.vb=function(a){a.target==this.D&&(this.D=null)};l.sb=function(a){this.fa&&(this.na=!0);var b=this.k();b&&Bb(b)&&Cb(b)?b.focus():a.preventDefault()};l.wb=function(){this.na=!1};
l.ub=function(a){var b;a:{b=a.target;if(this.$)for(var c=this.k();b&&b!==c;){var d=b.id;if(d in this.$){b=this.$[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Ja(a);break;case "mouseup":b.Na(a);break;case "mouseover":b.Ma(a);break;case "mouseout":b.La(a);break;case "contextmenu":b.la(a)}};l.bb=function(){};l.qb=function(){od(this,-1);this.na=!1;this.D&&Zc(this.D,!1)};
l.rb=function(a){return this.isEnabled()&&this.ja&&0!=uc(this)&&pd(this,a)?(a.preventDefault(),a.l(),!0):!1};
function pd(a,b){var c=S(a,a.I);if(c&&"function"==typeof c.ka&&c.ka(b)||a.D&&a.D!=c&&"function"==typeof a.D.ka&&a.D.ka(b))return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!1;switch(b.g){case 27:a.k().blur();break;case 36:qd(a);break;case 35:rd(a);break;case 38:if(a.W==kd)sd(a);else return!1;break;case 37:if(a.W==id)vc(a)?td(a):sd(a);else return!1;break;case 40:if(a.W==kd)td(a);else return!1;break;case 39:if(a.W==id)vc(a)?sd(a):td(a);else return!1;break;default:return!1}return!0}
function ld(a,b){var c=b.k(),c=c.id||(c.id=b.G());a.$||(a.$={});a.$[c]=b}l.T=function(a,b){jd.m.T.call(this,a,b)};l.Da=function(a,b,c){a.Z|=2;a.Z|=64;$c(a,32,!1);a.v&&!1!=a.Ka&&Uc(a,!1);a.Ka=!1;jd.m.Da.call(this,a,b,c);a.v&&this.v&&ld(this,a);b<=this.I&&this.I++};function md(a,b){a.ja=b;var c=a.k();c&&(O(c,b),gd(a.k(),a.fa&&a.ja))}l.isEnabled=function(){return this.fa};
l.setEnabled=function(a){this.fa!=a&&N(this,a?"enable":"disable")&&(a?(this.fa=!0,tc(this,function(a){a.mb?delete a.mb:a.setEnabled(!0)})):(tc(this,function(a){a.isEnabled()?a.setEnabled(!1):a.mb=!0}),this.na=this.fa=!1),gd(this.k(),a&&this.ja))};function od(a,b){var c=S(a,b);c?c.Q(!0):-1<a.I&&S(a,a.I).Q(!1)}l.Q=function(a){od(this,wc(this,a))};function qd(a){ud(a,function(a,c){return(a+1)%c},uc(a)-1)}function rd(a){ud(a,function(a,c){a--;return 0>a?c-1:a},0)}
function td(a){ud(a,function(a,c){return(a+1)%c},a.I)}function sd(a){ud(a,function(a,c){a--;return 0>a?c-1:a},a.I)}function ud(a,b,c){c=0>c?wc(a,a.D):c;var d=uc(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=S(a,c);if(f&&f.isEnabled()&&f.H&2){a.Ta(c);break}e++;c=b.call(a,c,d)}}l.Ta=function(a){od(this,a)};function vd(){}z(vd,fd);ca(vd);vd.prototype.F=function(){return"goog-tab-bar"};vd.prototype.i=function(){return"tablist"};vd.prototype.g=function(a){var b=vd.m.g.call(this,a);if(!this.h){var c=this.F();this.h=tb(wd,c+"-top",xd,c+"-bottom",yd,c+"-start",zd,c+"-end")}b.push(this.h[a.h]);return b};function Ad(a,b,c){a=a||wd;var d=a==yd||a==zd?kd:id;if(this.k())throw Error("Component already rendered");this.W=d;this.h=a;jd.call(this,this.W,b||vd.ca(),c);Bd(this)}z(Ad,jd);var wd="top",xd="bottom",yd="start",zd="end";l=Ad.prototype;l.P=null;l.t=function(){Ad.m.t.call(this);Bd(this)};l.Ta=function(a){Ad.m.Ta.call(this,a);this.Ba(S(this,a))};l.Ba=function(a){a?Yc(a,!0):this.P&&Yc(this.P,!1)};
function Cd(a,b){if(b&&b==a.P){for(var c=wc(a,b),d=c-1;b=S(a,d);d--)if(b.isEnabled()){a.Ba(b);return}for(c+=1;b=S(a,c);c++)if(b.isEnabled()){a.Ba(b);return}a.Ba(null)}}l.Fb=function(a){this.P&&this.P!=a.target&&Yc(this.P,!1);this.P=a.target};l.Gb=function(a){a.target==this.P&&(this.P=null)};l.Db=function(a){Cd(this,a.target)};l.Eb=function(a){Cd(this,a.target)};l.bb=function(){S(this,this.I)||this.Q(this.P||S(this,0))};
function Bd(a){R(a).listen(a,"select",a.Fb).listen(a,"unselect",a.Gb).listen(a,"disable",a.Db).listen(a,"hide",a.Eb)}Sc("goog-tab-bar",function(){return new Ad});E&&H(8);/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function V(a,b){this.V=[];this.$a=a;this.lb=b||null;this.p=this.i=!1;this.l=void 0;this.Wa=this.pb=this.Pa=!1;this.ga=0;this.j=null;this.Ra=0;this.Sa=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,V);"string"==typeof c.stack&&(this.Sa=c.stack.replace(/^[^\n]*\n/,""))}}function Dd(a,b){if(a.i)a.l instanceof V&&Dd(a.l);else{if(a.j){var c=a.j;delete a.j;b?Dd(c,b):(c.Ra--,0>=c.Ra&&Dd(c))}a.$a?a.$a.call(a.lb,a):a.Wa=!0;a.i||a.g(new Ed)}}
V.prototype.kb=function(a,b){this.Pa=!1;Fd(this,a,b)};function Fd(a,b,c){a.i=!0;a.l=c;a.p=!b;Gd(a)}function Hd(a){if(a.i){if(!a.Wa)throw new Id;a.Wa=!1}}V.prototype.h=function(a){Hd(this);Fd(this,!0,a)};V.prototype.g=function(a){Hd(this);Jd(this,a);Fd(this,!1,a)};function Jd(a,b){a.Sa&&w(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.Sa)}function Kd(a,b,c){return Ld(a,b,null,c)}function Ld(a,b,c,d){a.V.push([b,c,d]);a.i&&Gd(a);return a}
function Md(a){return Ga(a.V,function(a){return ga(a[1])})}function Gd(a){a.ga&&a.i&&Md(a)&&(s.clearTimeout(a.ga),delete a.ga);a.j&&(a.j.Ra--,delete a.j);for(var b=a.l,c=!1,d=!1;a.V.length&&!a.Pa;){var e=a.V.shift(),f=e[0],k=e[1],e=e[2];if(f=a.p?k:f)try{var m=f.call(e||a.lb,b);t(m)&&(a.p=a.p&&(m==b||m instanceof Error),a.l=b=m);b instanceof V&&(d=!0,a.Pa=!0)}catch(n){b=n,a.p=!0,Jd(a,b),Md(a)||(c=!0)}}a.l=b;d&&(Ld(b,x(a.kb,a,!0),x(a.kb,a,!1)),b.pb=!0);c&&(a.ga=s.setTimeout(mb(b),0))}
function Nd(a){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||"";a&&(this.message=String(a))}z(Nd,Error);function Id(){Nd.call(this)}z(Id,Nd);Id.prototype.message="Deferred has already fired";Id.prototype.name="AlreadyCalledError";function Ed(){Nd.call(this)}z(Ed,Nd);Ed.prototype.message="Deferred was canceled";Ed.prototype.name="CanceledError";function Od(a,b){V.call(this,a,b);this.B=[]}z(Od,V);Od.prototype.h=function(a){this.B.length=0;Od.m.h.call(this,a)};Od.prototype.g=function(a){this.B.length=0;Od.m.g.call(this,a)};function Pd(a){this.id="i"+this.count();this.req=a;this.i=!0;this.g=this.h=null;this.j=new Od;this.l=NaN}Pd.prototype.G=function(){return this.id};var Qd=0;Pd.prototype.count=function(){Qd++;return Qd};
Pd.prototype.listen=function(a){if(a&&a.id==this.id){this.h=a.data;var b=a.error;b&&(b instanceof Error?this.g=b:w(b)?(this.g=Error(b.message),this.g.name=b.name,this.g.source=b,this.g.result=this.h):(this.g=Error(b),this.g.name="UnknownError"));if(a.done)this.i=!1,this.g?this.j.g(this.g):this.j.h(this.h),window.clearTimeout(this.l);else{b=this.j;a=a.data;for(var c=0;c<b.B.length;c++)b.B[c][0].call(b.B[c][1],a)}return!0}return!1};
Pd.prototype.toString=function(){return"Message:"+this.id+(this.i?"*":"")};Pd.prototype.toJSON=function(){var a=this;this.l=window.setTimeout(function(){if(a.i){var b=Error("message timeout");b.name="TimeOutError";a.listen({id:a.id,req:a.req,error:b})}},5E3);return{id:this.id,req:this.req,group:this.p,name:this.B,data:this.h}};function Rd(a){M.call(this);this.name=a||"main-"+ma();this.g=[];this.h=this.l=null;this.i={}}z(Rd,M);function Sd(a){J.call(this,"post");this.message=a}z(Sd,J);Sd.prototype.getMessage=function(){return this.message};
Rd.prototype.j=function(a){if(a&&a.id)for(var b=this.g.length-1;0<=b;b--)if(this.g[b].G()==a.id){window.console.log(this+" receiving msg "+a.req+":"+a.id,a);if(!a.id){"info"==a.req?(a.data=this.l,this.h.postMessage(a)):N(this,new Sd(a));break}if(this.g[b].listen(a)){this.g[b].i?25<b&&(a=this.g.splice(b,1),this.g.unshift(a[0])):this.g.splice(b,1);break}}};Rd.prototype.toString=function(){return"Pipe:"+this.name};
function Td(a){if(!a.h){a.h=chrome.runtime.connect({name:a.name});var b=x(a.j,a);a.h.onMessage.addListener(b);a.h.onDisconnect.addListener(function(){s.console.log("disconnected port "+a.h.name+" "+a.h.url);a.h.onMessage.removeListener(b);a.h=null;a.g.length=0})}return a.h}var Ud=null;function Vd(){Ud||(Ud=new Rd);return Ud}function W(a,b){var c=Vd(),d=a||"main",e=d+(b?"-"+b:"");c.i[e]||(c.i[e]=new Wd(c,d,b||""));return c.i[e]}function Wd(a,b,c){this.g=a;this.h=b;this.i=c}
function X(a,b,c){b=new Pd(b);var d=a.i;b.p=a.h;b.B=d;c&&(b.h=c);c=b.j;a=a.g;d=b.toJSON();window.console.log(a+" sending msg "+d.req+":"+d.id);Td(a).postMessage(d);a.g.push(b);50<a.g.length&&(a.g.length-=1);return c};var Xd="chrome-extension://fmhdpfhfppingdiiefgnanjceieflpkj/"==chrome.extension.getURL("")?"crm-ex/":"",Yd=Xd+"option-page.html",Zd=Xd+"host-permission.html";function $d(a,b){M.call(this);this.j=a||1;this.h=b||s;this.l=x(this.V,this);this.p=ma()}z($d,M);$d.prototype.i=!1;$d.prototype.g=null;$d.prototype.V=function(){if(this.i){var a=ma()-this.p;0<a&&a<0.8*this.j?this.g=this.h.setTimeout(this.l,this.j-a):(this.g&&(this.h.clearTimeout(this.g),this.g=null),N(this,ae),this.i&&(this.g=this.h.setTimeout(this.l,this.j),this.p=ma()))}};$d.prototype.stop=function(){this.i=!1;this.g&&(this.h.clearTimeout(this.g),this.g=null)};var ae="tick";function be(a,b,c,d,e,f){V.call(this,e,f);this.Va=a;this.B=[];this.Xa=!!b;this.ob=!!c;this.nb=!!d;for(b=this.Za=0;b<a.length;b++)Ld(a[b],x(this.Ya,this,b,!0),x(this.Ya,this,b,!1));0!=a.length||this.Xa||this.h(this.B)}z(be,V);be.prototype.Ya=function(a,b,c){this.Za++;this.B[a]=[b,c];this.i||(this.Xa&&b?this.h([a,c]):this.ob&&!b?this.g(c):this.Za==this.Va.length&&this.h(this.B));this.nb&&!b&&(c=null);return c};be.prototype.g=function(a){be.m.g.call(this,a);for(a=0;a<this.Va.length;a++)Dd(this.Va[a])};function ce(a){if("function"==typeof a.R)return a.R();if(v(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ob(a)}function de(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||v(a))Da(a,b,c);else{var d;if("function"==typeof a.da)d=a.da();else if("function"!=typeof a.R)if(ea(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=pb(a);else d=void 0;for(var e=ce(a),f=e.length,k=0;k<f;k++)b.call(c,e[k],d&&d[k],a)}};function ee(a,b){this.h={};this.g=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ee?(c=a.da(),d=a.R()):(c=pb(a),d=ob(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=ee.prototype;l.R=function(){fe(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};l.da=function(){fe(this);return this.g.concat()};
l.remove=function(a){return ge(this.h,a)?(delete this.h[a],this.i--,this.g.length>2*this.i&&fe(this),!0):!1};function fe(a){if(a.i!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];ge(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.i!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],ge(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}l.get=function(a,b){return ge(this.h,a)?this.h[a]:b};l.set=function(a,b){ge(this.h,a)||(this.i++,this.g.push(a));this.h[a]=b};l.qa=function(){return new ee(this)};
function ge(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function he(a){return ie(a||arguments.callee.caller,[])}
function ie(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(je(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=je(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(ie(a.caller,b))}catch(k){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function je(a){if(ke[a])return ke[a];a=String(a);if(!ke[a]){var b=/function ([^\(]+)/.exec(a);ke[a]=b?b[1]:"[Anonymous]"}return ke[a]}var ke={};function le(a,b,c,d,e){"number"==typeof e||me++;this.l=d||ma();this.j=a;this.p=b;this.i=c;delete this.h;delete this.g}le.prototype.h=null;le.prototype.g=null;var me=0;le.prototype.getMessage=function(){return this.p};function ne(a){this.p=a}ne.prototype.i=null;ne.prototype.h=null;ne.prototype.j=null;ne.prototype.g=null;function Y(a,b){this.name=a;this.value=b}Y.prototype.toString=function(){return this.name};var oe=new Y("SHOUT",1200),pe=new Y("SEVERE",1E3),qe=new Y("WARNING",900),re=new Y("INFO",800),se=new Y("CONFIG",700),te=new Y("FINE",500),ue=new Y("FINER",400),ve=new Y("FINEST",300),we=[new Y("OFF",Infinity),oe,pe,qe,re,se,te,ue,ve,new Y("ALL",0)],xe=null;
ne.prototype.getChildren=function(){this.j||(this.j={});return this.j};function ye(a){if(a.h)return a.h;if(a.i)return ye(a.i);Ba("Root logger has no level set.");return null}
ne.prototype.log=function(a,b,c){if(a.value>=ye(this).value)for(ga(b)&&(b=b()),a=this.l(a,b,c),b="log:"+a.getMessage(),s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b)),s.msWriteProfilerMark&&s.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.g)for(var e=0,f=void 0;f=c.g[e];e++)f(d);b=b.i}};
ne.prototype.l=function(a,b,c){var d=new le(a,String(b),this.p);if(c){d.h=c;var e;var f=arguments.callee.caller;try{var k;var m=aa("window.location.href");if(v(c))k={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var n,p,q=!1;try{n=c.lineNumber||c.Ob||"Not available"}catch(r){n="Not available",q=!0}try{p=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||m}catch(B){p="Not available",q=!0}k=!q&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:n,fileName:p,stack:c.stack||"Not available"}}e="Message: "+ra(k.message)+'\nUrl: <a href="view-source:'+k.fileName+'" target="_new">'+k.fileName+"</a>\nLine: "+k.lineNumber+"\n\nBrowser stack:\n"+ra(k.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(he(f)+"-> ")}catch(C){e="Exception trying to expose exception! You win, we lose. "+C}d.g=e}return d};function Z(a,b){a.log(qe,b,void 0)}
ne.prototype.info=function(a,b){this.log(re,a,b)};function ze(a,b){a.log(ue,b,void 0)}var Ae={},Be=null;function Ce(){Be||(Be=new ne(""),Ae[""]=Be,Be.h=se)}function De(){Ce();return Be}function $(a){Ce();var b;if(!(b=Ae[a])){b=new ne(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=$(a.substr(0,c));c.getChildren()[d]=b;b.i=c;Ae[a]=b}return b};function Ee(a,b,c){this.i=a;this.h=new Fe({id:{$t:"http://www.google.com/m8/feeds/contacts/kts%40gmail.com/base/0"},gd$email:[{address:a,primary:"true"}],gd$name:{gd$fullName:{$t:b}},gd$phoneNumber:[{$t:c,primary:"true"}]});this.g=null}function Ge(a){return qb(a.h.data,"gd$phoneNumber",0,"$t")||""}
function He(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=c,f=d,k=a.h,m=b[d],n=0,p=Ie(k),q=Ie(m),r=0;r<p.length;r++)for(var B=p[r],C=0;C<q.length;C++){var ya=q[C];B&&B==ya&&(n+=1)}p=0;B=k.data.gd$name;C=m.data.gd$name;if(B&&C)for(ya=["gd$familyName","gd$givenName","gd$additionalName","gd$fullName"],q=[0.06,0.06,0.06,0.12],r=0;4>r;r++){var y=B[ya[r]],Q=C[ya[r]];y&&Q==y&&(p+=q[r])}r=0;q=k.ta();B=m.ta();q&&q==B&&(r+=0.2);C=0;k=Je(k);m=Je(m);B=k.length;for(q=[];B--;){C=k[B];ya=m.length;for(q[B]=0;ya--;)Q=
m[ya],C.$t&&Q.$t&&((y=C)&&Q&&0!=y.length&&0!=Q.length?(y=y.trim(),Q=Q.trim(),y=Ke(y),Q=Ke(Q),y=y.Fa&&y.O&&y.Fa==Q.Fa&&y.O==Q.O?6<=y.O.length?1:4<=y.O.length?0.8:0.4:y.O&&4<=y.O.length&&y.O==Q.O?8<=y.O.length?0.8:4<=y.O.length?0.6:0.4:0):y=0,q[B]=Math.max(q[B],0.7*y));C=Le(q).value}e[f]=n+p+r+C}e=[];for(d=0;d<b.length;d++){f=e;n=c[d];p=Na;q=0;m=f.length;for(k=void 0;q<m;)r=q+m>>1,B=p(n,f[r]),0<B?q=r+1:(m=r,k=!B);f=k?q:~q;0>f?(La(e,-(f+1),0,c[d]),n=b.splice(d,1),La(b,-(f+1),0,n[0])):La(e,f,0,c[d])}return e}
function Me(a){var b=X(W(),"gdata-list-contact-by-email",a.i);Kd(b,function(a){window.g=a;window.console.log(a);a=a.map(function(a){return new Fe(a)});var b=He(this,a);this.g=[];for(var e=0;e<b.length;e++)0.9<b[e]&&this.g.push(a[e]);window.console.log(a,b,this.g)},a);return b}Ee.prototype.toString=function(){this.g&&this.g[0]&&this.g[0].id.match(/\w+$/);return"ContactModel:"+this.i};var Ne=["Accounts","Leads","Contacts"];function Oe(a,b,c){this.domain=a;this.J=b;this.g=c||null}Oe.prototype.q=function(){return this.J};Oe.prototype.G=function(){return this.g.id};Oe.prototype.value=function(a){return this.g?this.g[a]:void 0};function Pe(a,b,c){function d(d,k){!a[c+k]||b[d]&&b[d].$t==a[c+k]||(e++,b[d]={$t:a[c+k]})}var e=0;if(!a)return 0;b||(b={});d("gd$city","_address_city");d("gd$country","_address_country");d("gd$postcode","_address_postalcode");d("gd$region","_address_state");d("gd$street","_address_street");d("gd$neighborhood","_address_street_2");d("gd$city","_address_street_3");return e}
function Qe(a,b){function c(a,c){if(k[a]){b.gd$phoneNumber||(b.gd$phoneNumber=[]);var d;a:{for(d=0;b.gd$phoneNumber&&d<b.gd$phoneNumber.length;d++)if(b.gd$phoneNumber[d].rel==c){d=b.gd$phoneNumber[d];break a}d=null}d?d.$t!=k[a]&&(d.$t=k[a],m++):(b.gd$phoneNumber.push({rel:c,$t:k[a]}),m++)}}function d(a){b.gd$im||(b.gd$im=[]);for(var c=0;c<b.gd$im.length;c++)if(b.gd$im[c].label==a)return b.gd$im[c];return null}function e(){b.gd$name||(b.gd$name={},m++)}function f(a,c){if(k[a]){b.gd$email||(b.gd$email=
[]);var d;a:{for(d=0;b.gd$email&&d<b.gd$email.length;d++)if(!(0<=n.indexOf(d))&&b.gd$email[d].address==k[a])break a;d=-1}if(0<=d){var e=b.gd$email[d];e.rel!=c&&(m++,e.rel=c);n.push(d)}else b.gd$email.push({rel:c,address:k[a]}),n.push(b.gd$email.length-1),m++}}var k=a.g,m=0;!k.name||b.title&&b.title.$t==k.name||(b.title={$t:k.name},m++);var n=[];f("email1","http://schemas.google.com/g/2005#work");f("email2","http://schemas.google.com/g/2005#home");f("email","http://schemas.google.com/g/2005#other");
k.salutation&&(e(),b.gd$name.gd$namePrefix&&b.gd$name.gd$namePrefix.$t==k.salutation||(b.gd$name.gd$namePrefix={$t:k.salutation},m++));k.first_name&&(e(),b.gd$name.gd$givenName&&b.gd$name.gd$givenName.$t==k.first_name||(b.gd$name.gd$givenName={$t:k.first_name},m++));k.last_name&&(e(),b.gd$name.gd$familyName&&b.gd$name.gd$familyName.$t==k.last_name||(b.gd$name.gd$familyName={$t:k.last_name},m++));k.full_name&&(e(),b.gd$name.gd$fullName&&b.gd$name.gd$fullName.$t==k.full_name||(b.gd$name.gd$fullName=
{$t:k.full_name},m++));if(k.twitter){var p=d("Twitter");p?p.address!=k.twitter&&(p.address=k.twitter,m++):(b.gd$im.push({label:"Twitter",address:k.twitter}),m++)}k.facebook&&((p=d("Facebook"),p)?p.address!=k.facebook&&(p.address=k.facebook,m++):(b.gd$im.push({label:"Facebook",address:k.facebook}),m++));k.googleplus&&((p=d("Google Plus"),p)?p.address!=k.googleplus&&(p.address=k.googleplus,m++):(b.gd$im.push({label:"Google Plus",address:k.googleplus}),m++));k.linkedin&&((p=d("Linkedin"),p)?p.address!=
k.linkedin&&(p.address=k.linkedin,m++):(b.gd$im.push({label:"Linkedin",address:k.linkedin}),m++));!k.birthdate||b.gContact$birthday&&b.gContact$birthday.when==k.birthdate||(b.gContact$birthday={when:k.birthdate},m++);c("phone_mobile","http://schemas.google.com/g/2005#mobile");c("phone_work","http://schemas.google.com/g/2005#work");c("phone_home","http://schemas.google.com/g/2005#home");c("phone_fax","http://schemas.google.com/g/2005#work_fax");c("phone_other","http://schemas.google.com/g/2005#other");
for(var q=-1,p=-1,r=0;b.gd$structuredPostalAddress&&r<b.gd$structuredPostalAddress.length;r++)-1==q&&"true"==b.gd$structuredPostalAddress[r].primary||"http://schemas.google.com/g/2005#work"==b.gd$structuredPostalAddress[r].rel?q=r:-1==p&&(p=r);-1==q&&0<=p&&(q=p,b.gd$structuredPostalAddress[q].primary="true",p=-1);0<=q?m+=Pe(k,b.gd$structuredPostalAddress[q],"primary"):(q={primary:"true",rel:"http://schemas.google.com/g/2005#work"},r=Pe(k,q,"primary"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=
[]),b.gd$structuredPostalAddress.push(q),m+=r));0<=p?m+=Pe(k,b.gd$structuredPostalAddress[p],"alt"):(q={},r=Pe(k,q,"alt"),0<r&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=[]),b.gd$structuredPostalAddress.push(q),m+=r))};function Re(a,b){this.g=a;this.J=b instanceof Oe?b.q():b;this.h=b instanceof Oe?b:null}Re.prototype.q=function(){return this.J};
function Se(a){var b=new Od,c=a.g.g,d;if(c)d="import-gdata",c={module:a.q(),kind:c.Ga(),"gdata-id":c.G()};else{d="new-record";var e=a.g.j,c={email1:a.g.i,full_name:e};e&&0<e.length&&(e=e.split(/\s/),e[0]&&(c.first_name=e[0]),e[1]&&(c.last_name=e[e.length-1]));(e=a.g.l)&&(c.phone_work=e);c={module:a.q(),record:c}}Ld(X(W("sugarcrm",a.g.domain),d,c),function(a){window.console.log(a);w(a)?(a.id||b.g("New record not created."),this.h=new Oe(this.g.domain,this.q(),a),b.h(this.h)):b.g("Something has done.")},
function(a){b.g(a)},a);return b}
function Te(a){var b=a.h,c=b.G(),d=a.g.g;if(d)return c=a.q()+"#"+ +new Date(d.data.updated.$t)+"-NaN",b="sugarcrm://"+a.g.domain+"/"+a.q()+"/"+b.G(),d={kind:d.Ga(),"gdata-id":d.G(),"external-id":{label:c,value:b}},Kd(X(W("sugarcrm",a.g.domain),"link",d),function(a){window.console.log("link",a);a=new Fe(a);this.g.g=a},a);d={};Qe(b,d);b=new Date(b.date_modified);d.gContact$externalId=[{label:a.q()+"#"+ma()+"-"+b.getTime(),value:"sugarcrm://"+a.g.domain+"/"+a.q()+"/"+c}];window.console.log("exporting new-entry",
d);b=X(W(),"new-entry",d);Ld(b,function(a){window.console.log("export",a);a=new Fe(a);return this.g.g=a},function(a){throw Error(a.name+": "+a.message);},a);return b}Re.prototype.toString=function(){return"RecordModel:"+this.J+":"+this.h};function Ue(a){P.call(this,a)}z(Ue,P);l=Ue.prototype;l.n=$("ydn.crm.inj.sugar.Footer");l.F=function(){return"sugar-header"};
l.w=function(){Ue.m.w.call(this);var a=this.g,b=this.k();I(b,this.F());var c=a.o("a"),c=a.o("div",{"class":"main-title",title:"SugarCRM"},[c]);b.appendChild(c);var c=[],d=chrome.extension.getURL(Yd)+"#credentials",d=a.o("a",{href:d,target:"option-page"},"Setup host permission");d.setAttribute("title","Your permission is required to connect your server from this extension. Without permission request to server will be slow.");c.push(d);c=a.o("div",{"class":"host-permission"},c);b.appendChild(c);var d=
a.o("input",{name:"username",type:"text"}),d=a.o("div",null,[d]),e=a.o("input",{name:"password",type:"password"}),e=a.o("div",null,[e]),a=a.o("div","login-form",[d,e]);O(c,!1);O(a,!1);b.appendChild(a)};l.t=function(){Ue.m.t.call(this);var a=this.k(),b=R(this);this.k().querySelector(".host-permission");a=a.querySelector(".login-form");a=new Bc(a);b.listen(a,"key",this.Lb)};
l.Lb=function(a){if(13==a.g){var b=this.k().querySelector(".login-form");a=this.ma;var c=b.querySelector("input[name=username]").value,b=b.querySelector("input[name=password]").value;Ve(a,c,b)}};
l.s=function(a){Ue.m.s.call(this,a);ze(this.n,"showing for "+a);var b=a.g.domain,c=this.k(),d=c.querySelector(".main-title a"),e=c.querySelector(".login-form"),f=c.querySelector(".host-permission");d.textContent=b;d.href=a.g.baseUrl||null||"https://"+b;e.querySelector("input[name=username]").textContent=a.g.userName||null||"";O(e,!1);O(f,!1);O(c,!0);a.isLogin()||Kd(X(W("sugarcrm",b),"about"),function(a){O(e,!a.isLogin)});a.isLogin()&&!a.g.hostPermission&&(a=chrome.extension.getURL(Zd),f.querySelector("a").href=
a+"?"+b,O(f,!0))};function We(a,b){P.call(this,a);this.h=b}z(We,P);l=We.prototype;l.n=$("ydn.crm.inj.sugar.module.Body");l.q=function(){return this.h.J};
l.w=function(){We.m.w.call(this);var a=this.g,b=a.o("div",{"class":"toolbar"}),c=a.o("div",{"class":"fields"}),d=this.k();I(d,"record-body");for(var e=Object.keys(this.h.i.module_fields),f=0;f<e.length;f++){var k=this.h.i.module_fields[e[f]],m,n,p=v(k.label)?k.label.replace(/:$/,""):k.label;"bool"==k.type?(m=a.o("input","value"),m.setAttribute("type","checkbox"),m.setAttribute("disabled","disabled"),n=a.o("span","name")):(m=a.o("label","value"),n=a.o("sup","name"));n.textContent=p;m=a.o("div",{"class":"field"+
(k.normallyHide?" normally-hide":"")},[m,n]);m.setAttribute("name",k.name);c.appendChild(m)}d.appendChild(b);d.appendChild(c);O(d,!1)};l.t=function(){We.m.t.call(this);this.k()};
l.s=function(a){We.m.s.call(this,a);var b=this.k();a=a.h;var c=b.querySelector(".fields");if(a){O(b,!0);for(var b=c.childElementCount,d=0;d<b;d++){var e=c.children[d],f=e.getAttribute("name"),k=e.querySelector(".value"),f=a.value(f),f=v(f)?f.trim():f;if("LABEL"==k.tagName)k.textContent=f||"";else{var m=f,n=k.type;if(t(n))switch(n.toLowerCase()){case "checkbox":case "radio":k.checked=m?"checked":null;break;case "select-one":k.selectedIndex=-1;if(v(m))for(var n=void 0,p=0;n=k.options[p];p++)if(n.value==
m){n.selected=!0;break}break;case "select-multiple":v(m)&&(m=[m]);n=void 0;for(p=0;n=k.options[p];p++)if(n.selected=!1,m)for(var q,r=0;q=m[r];r++)n.value==q&&(n.selected=!0);break;default:k.value=null!=m?m:""}}f?kb(e,"empty"):I(e,"empty")}}else O(b,!1)};function Xe(a,b){P.call(this,a);this.h=b}z(Xe,P);l=Xe.prototype;l.n=$("ydn.crm.inj.sugar.module.Header");l.q=function(){return this.h.J};
l.w=function(){Xe.m.w.call(this);var a=this.g,b=this.q(),c=a.o("span",{"class":"icon"},b.substr(0,2)),d=a.o("a",{href:"#","class":"title"}),e=a.o("a",{href:"#link","class":"link"},"link"),f=a.o("span","synced");O(e,!1);O(f,!1);c=a.o("div","header",[c,d,e,f]);b=a.o("a",{href:"#import"},"Add to "+b);b.style.zIndex=1E3;a=a.o("div",{"class":"import"},b);b=this.k();b.className="record-header";O(b,!1);b.appendChild(a);b.appendChild(c)};
l.t=function(){Xe.m.t.call(this);var a=this.k(),b=a.querySelector(".import a");R(this).listen(b,"click",this.Ab,!1);a=a.querySelector("a.link");R(this).listen(a,"click",this.Bb,!1)};
l.s=function(a){Xe.m.s.call(this,a);ze(this.n,"setModel "+a);var b=this.k(),c=a.h,d=a.g.g,e=b.querySelector(".import"),f=e.nextElementSibling,k=e.querySelector("a");kb(k,"null");kb(k,"error");k.removeAttribute("rel");k.textContent=(d?"Import":"Add")+" to "+this.q();var m=b.querySelector("a.link");kb(m,"null");kb(m,"error");m.removeAttribute("rel");d?(k.textContent="Import to "+this.q(),k.setAttribute("title","Import Gmail contact "+d.id.match(/\w+$/)[0]+" to SugarCRM "+this.q()),m.textContent="link",
m.setAttribute("title","Link Gmail contact "+d.id.match(/\w+$/)[0]+" with this SugarCRM "+this.q())):(k.textContent="Add to "+this.q(),k.setAttribute("title","Add current contact  to SugarCRM "+this.q()),m.textContent="export",m.setAttribute("title","Export this SugarCRM "+this.q()+" to Gmail My Contacts address book"));if(!(k=c)){var n;a:{a=a.g;for(n in a.h)if(a.h[n].h){n=!0;break a}n=!1}k=!n}O(b,k);O(e,!c);O(f,c);if(c)if(b=b.querySelector(".title"),n=c.g?(n=c.g.full_name||"")?n:(c.g.first_name||
"").trim()+" "+(c.g.last_name||"").trim():"",b.textContent=n,n=c.G(),b.href="https://"+c.domain+"/index.php?module="+c.J+"&action=DetailView&record="+n,f=f.querySelector(".synced"),d){O(m,!1);a:{b=c.domain;n=c.q();d=d.data;d=u(d.gContact$externalId)?d.gContact$externalId:d.gContact$externalId?[d.gContact$externalId]:[];for(a=0;a<d.length;a++)if(d[a].value){var p=d[a].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(p){var k=p[1],q=p[2],r=p[3],p=p[4];if(!("sugarcrm"!=k||b&&b!=q||n&&n!=r)){d={domain:q,
J:r,id:p,scheme:k};break a}}}d=null}d?d.id==c.G()?(O(f,!0),m.textContent=""):(Z(this.n,"expect link id to be "+c.G()+" but "+d.id+" found."),O(f,!1)):(O(m,!0),O(f,!1))}else O(m,!0),O(f,!1);"Accounts"==this.q()&&O(e,!1)};
l.Bb=function(a){a.preventDefault();var b=this.k(),c=a.target,d=b.querySelector(".import"),e=d.nextElementSibling;a=D(jb(c),"error");D(jb(c),"null")||(a?(c.textContent="Error recorded. Thanks.",c.removeAttribute("href")):(I(c,"null"),a=this.ma,c.textContent="Linking...",Ld(Te(a),function(){c.textContent="Done.";I(c,"null");O(d,!1);O(e,!0);N(this,new J("change"))},function(a){kb(c,"null");I(c,"error");a=a instanceof Error?a.name+" "+a.message:w(a)?Ye(a):a;c.setAttribute("title",a);var b=Db(c);X(W(),
"log",{"class":"RecordHeader",method:"handleLinkClick",context:c.textContent,html:b?b.outerHTML:"",error:a});c.textContent="Error"},this)))};
l.Ab=function(a){a.preventDefault();var b=a.target;a=b.getAttribute("rel");if("error-report"==a)b.textContent="Recorded. Thanks",b.setAttribute("rel","null"),b.removeAttribute("title"),b.removeAttribute("href"),kb(b,"error");else if("null"!=a){var c=this.ma;b.textContent="adding... to "+this.q();a=Se(c);c.g.g?a=Ld(a,function(){b.textContent="Added. Linking...";return Te(c)},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?Ye(a):a;b.setAttribute("title",
"Error importing: "+a);I(b,"error");var c=Db(b);X(W(),"log",{"class":"RecordHeader",method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this):b.textContent="Importing...";Ld(a,function(){O(b.parentElement,!1);N(this,new J("change",this))},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:w(a)?Ye(a):a;b.setAttribute("title","Error linking: "+a);I(b,"error");var c=Db(b);X(W(),"log",{"class":"RecordHeader",method:"handleImportClick",
context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this)}};function Ze(a,b){P.call(this,a);this.i=b;this.J=b.module_name}z(Ze,P);Ze.prototype.w=function(){Ze.m.w.call(this);I(this.k(),"record-panel");I(this.k(),this.J);var a=new Xe(this.g,this);this.T(a,!0);a=new We(this.g,this);this.T(a,!0)};Ze.prototype.t=function(){Ze.m.t.call(this);for(var a=0;a<uc(this);a++){var b=S(this,a);R(this).listen(b,"change",this.h)}};Ze.prototype.h=function(){for(var a=this.ma,b=0;b<uc(this);b++)S(this,b).s(a)};Ze.prototype.s=function(a){Ze.m.s.call(this,a);this.h()};function $e(a,b,c,d,e,f){this.domain=a;this.i=b;this.j=e;this.l=f||"";this.g=c;this.h={};d=d||[];for(a=0;a<d.length;a++)this.h[d[a].q()]=new Re(this,d[a]);for(a=0;a<Ne.length;a++)d=Ne[a],this.h[d]||(this.h[d]=new Re(this,d))}$e.prototype.toString=function(){return"Model:"+this.i};$("ydn.gdata.base");function Ke(a){var b,c=a.match(/^\D*0*(\d{1,2}\D)?\D*0*(.+)/);c?(b=c[1].replace(/\D/g,""),a=c[2].replace(/\D/g,"")):a=a.replace(/\D/g,"");return{Fa:b,O:a}};function af(a){Error.captureStackTrace?Error.captureStackTrace(this,af):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}z(af,Error);z(af,Error);z(af,Error);function bf(a){this.data=a}bf.prototype.G=function(){return this.data.id.$t};bf.prototype.ta=function(){return this.data.title?this.data.title.$t:void 0};bf.prototype.sa=function(){return this.data.content||null};function cf(a){this.data=a}z(cf,bf);var df=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function ef(a){if(ff){ff=!1;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=ef(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw ff=!0,Error();}}return a.match(df)}var ff=G;function gf(a,b){var c;if(a instanceof gf)this.X=t(b)?b:a.X,hf(this,a.ha),this.Ca=a.Ca,this.ia=a.ia,jf(this,a.ua),this.oa=a.oa,kf(this,a.g.qa()),this.ra=a.ra;else if(a&&(c=ef(String(a)))){this.X=!!b;hf(this,c[1]||"",!0);var d=c[2]||"";this.Ca=d?decodeURIComponent(d):"";this.ia=(d=c[3]||"")?decodeURIComponent(d):"";jf(this,c[4]);this.oa=(d=c[5]||"")?decodeURIComponent(d):"";kf(this,c[6]||"",!0);this.ra=(c=c[7]||"")?decodeURIComponent(c):""}else this.X=!!b,this.g=new lf(null,0,this.X)}l=gf.prototype;
l.ha="";l.Ca="";l.ia="";l.ua=null;l.oa="";l.ra="";l.X=!1;l.toString=function(){var a=[],b=this.ha;b&&a.push(mf(b,nf),":");if(b=this.ia){a.push("//");var c=this.Ca;c&&a.push(mf(c,nf),"@");a.push(encodeURIComponent(String(b)));b=this.ua;null!=b&&a.push(":",String(b))}if(b=this.oa)this.ia&&"/"!=b.charAt(0)&&a.push("/"),a.push(mf(b,"/"==b.charAt(0)?of:pf));(b=this.g.toString())&&a.push("?",b);(b=this.ra)&&a.push("#",mf(b,qf));return a.join("")};l.qa=function(){return new gf(this)};
function hf(a,b,c){a.ha=c?b?decodeURIComponent(b):"":b;a.ha&&(a.ha=a.ha.replace(/:$/,""))}function jf(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ua=b}else a.ua=null}function kf(a,b,c){b instanceof lf?(a.g=b,rf(a.g,a.X)):(c||(b=mf(b,sf)),a.g=new lf(b,0,a.X))}function mf(a,b){return v(a)?encodeURI(a).replace(b,tf):null}function tf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}
var nf=/[#\/\?@]/g,pf=/[\#\?:]/g,of=/[\#\?]/g,sf=/[\#\?@]/g,qf=/#/g;function lf(a,b,c){this.g=a||null;this.h=!!c}function uf(a){if(!a.u&&(a.u=new ee,a.N=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=vf(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}l=lf.prototype;l.u=null;l.N=null;
l.add=function(a,b){uf(this);this.g=null;a=vf(this,a);var c=this.u.get(a);c||this.u.set(a,c=[]);c.push(b);this.N++;return this};l.remove=function(a){uf(this);a=vf(this,a);return ge(this.u.h,a)?(this.g=null,this.N-=this.u.get(a).length,this.u.remove(a)):!1};function wf(a,b){uf(a);b=vf(a,b);return ge(a.u.h,b)}l.da=function(){uf(this);for(var a=this.u.R(),b=this.u.da(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.R=function(a){uf(this);var b=[];if(v(a))wf(this,a)&&(b=Ja(b,this.u.get(vf(this,a))));else{a=this.u.R();for(var c=0;c<a.length;c++)b=Ja(b,a[c])}return b};l.set=function(a,b){uf(this);this.g=null;a=vf(this,a);wf(this,a)&&(this.N-=this.u.get(a).length);this.u.set(a,[b]);this.N++;return this};l.get=function(a,b){var c=a?this.R(a):[];return 0<c.length?String(c[0]):b};
l.toString=function(){if(this.g)return this.g;if(!this.u)return"";for(var a=[],b=this.u.da(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.R(d),f=0;f<d.length;f++){var k=e;""!==d[f]&&(k+="="+encodeURIComponent(String(d[f])));a.push(k)}return this.g=a.join("&")};l.qa=function(){var a=new lf;a.g=this.g;this.u&&(a.u=this.u.qa(),a.N=this.N);return a};function vf(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c}
function rf(a,b){b&&!a.h&&(uf(a),a.g=null,de(a.u,function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.g=null,this.u.set(vf(this,e),Ka(a)),this.N+=a.length))},a));a.h=b};$("ydn");function Ye(a){var b;try{b=JSON.stringify(a,void 0,void 0)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""};$("ydn.http");function xf(){this.g=ma()}var yf=new xf;xf.prototype.set=function(a){this.g=a};xf.prototype.get=function(){return this.g};function zf(a){this.j=a||"";this.l=yf}zf.prototype.g=!0;zf.prototype.h=!1;function Af(a){a=new Date(a.l);return Bf(a.getFullYear()-2E3)+Bf(a.getMonth()+1)+Bf(a.getDate())+" "+Bf(a.getHours())+":"+Bf(a.getMinutes())+":"+Bf(a.getSeconds())+"."+Bf(Math.floor(a.getMilliseconds()/10))}function Bf(a){return 10>a?"0"+a:String(a)}function Cf(a,b){var c=(a.l-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function Df(a){zf.call(this,a)}z(Df,zf);Df.prototype.h=!0;
Df.prototype.i=function(a){var b;switch(a.j.value){case oe.value:b="dbg-sh";break;case pe.value:b="dbg-sev";break;case qe.value:b="dbg-w";break;case re.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.j," ");this.g&&c.push("[",Af(a),"] ");c.push("[",za(Cf(a,this.l.get())),"s] ");c.push("[",ra(a.i),"] ");c.push('<span class="',b,'">',qa(za(ra(a.getMessage()))));this.h&&a.h&&c.push("<br>",qa(za(a.g||"")));c.push("</span>");c.push("<br>");return c.join("")};
function Ef(a){zf.call(this,a)}z(Ef,zf);Ef.prototype.i=function(a){var b=[];b.push(this.j," ");this.g&&b.push("[",Af(a),"] ");b.push("[",Cf(a,this.l.get()),"s] ");b.push("[",a.i,"] ");b.push(a.getMessage());this.h&&a.h&&b.push("\n",a.g);b.push("\n");return b.join("")};function Ff(){this.l=x(this.p,this);this.g=new Ef;this.g.g=!1;this.h=this.g.h=!1;this.i="";this.j={}}Ff.prototype.p=function(a){if(!this.j[a.i]){var b=this.g.i(a),c=Gf;if(c)switch(a.j){case oe:Hf(c,"info",b);break;case pe:Hf(c,"error",b);break;case qe:Hf(c,"warn",b);break;default:Hf(c,"debug",b)}else window.opera?window.opera.postError(b):this.i+=b}};var Gf=window.console;function Hf(a,b,c){if(a[b])a[b](c);else a.log(c)};function If(a){this.l=x(this.p,this);this.h=new Df;this.i=this.h.g=!1;this.g=a;this.j=this.g.ownerDocument||this.g.document;a=this.g?new Fb(Ab(this.g)):oa||(oa=new Fb);var b=null,c=a.g;if(E&&c.createStyleSheet)a=b=c.createStyleSheet(),E&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";else{c=ub(a.g,"head",void 0,void 0)[0];c||(b=ub(a.g,"body",void 0,void 0)[0],c=a.o("head"),b.parentNode.insertBefore(c,b));var d=b=a.o("style");E&&t(d.cssText)?d.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
d.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";a.appendChild(c,b)}this.g.className+=" logdiv"}
If.prototype.p=function(a){var b=100>=this.g.scrollHeight-this.g.scrollTop-this.g.clientHeight,c=this.j.createElement("div");c.className="logmsg";c.innerHTML=this.h.i(a);this.g.appendChild(c);b&&(this.g.scrollTop=this.g.scrollHeight)};var Jf=null,Kf=null;$("ydn.debug");function Lf(){var a=JSON.stringify(Mf,void 0,void 0);return!v(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)};$("ydn");function Le(a){if(!u(a))throw new af("Array required.");if(t(void 0))return a=Fa(a,function(a){return a[void 0]}),Le(a);for(var b=Number.NaN,c=-1,d=0;d<a.length;d++)!isNaN(a[d])&&(isNaN(b)||a[d]>b)&&(b=a[d],c=d);return{value:b,index:c}};$("ydn.xml");function Nf(a){var b;if(t(a.id))b=a.id.$t;else if(t(a.batch$id))b=a.batch$id.$t;else if(t(a.g))b=a.g.$t;else throw new af("id or batch:id required.");this.id=b;this.data=a}z(Nf,cf);l=Nf.prototype;l.n=$("ydn.gdata.Entry");l.Ga=function(){return this.kind};l.ta=bf.prototype.ta;l.G=function(){return this.id};l.Ib=["id","batch$id","link","category"];l.sa=bf.prototype.sa;
l.update=function(a){var b=["batch$status","batch$operation","status"],c;for(c in a.data)a.data.hasOwnProperty(c)&&w(a.data[c])&&!D(b,c)&&!D(this.Ib,c)&&(this.data[c]=a.data[c])};function Of(a){Nf.call(this,a);a=(a=this.id.match(/https?:\/\/www.google.com\/m8\/feeds\/(group|contact|batch)s?\/([^\/]+)\/?(\w+)\/?(\w*)?/))?{Nb:"m8",kind:a[1],user_id:a[2]?a[2].replace("%40","@"):"",projection:a[3],id:a[4]}:null;window.console.assert(!!a,"Invalid m8 entry: "+this.id);this.user_id=a.user_id;window.console.assert(a.kind==this.kind,"Invalid kind: "+a.kind+" vs "+this.kind)}z(Of,Nf);Of.prototype.n=$("ydn.gdata.m8.Entry");Of.prototype.type="m8";function Fe(a){Of.call(this,a)}z(Fe,Of);Fe.prototype.kind="contact";Fe.prototype.n=$("ydn.gdata.m8.ContactEntry");Fe.prototype.Ga=function(){return"contact"};function Pf(a){return qb(a.data,"gd$name","gd$fullName","$t")||""}function Ie(a){var b=a.data.gd$email;a=[];for(var b=u(b)?b:b?[b]:[],c=0;c<b.length;c++)a.push(b[c].address);return a}function Je(a){a=a.data.gd$phoneNumber;a=u(a)?a:w(a)?[a]:[];for(var b=[],c=0;c<a.length;c++)a[c].$t&&!/^[\s\xa0]*$/.test(a[c].$t)&&b.push(a[c].$t);return b}
function Qf(a,b){for(var c=a.data,c=u(c.gContact$externalId)?c.gContact$externalId:c.gContact$externalId?[c.gContact$externalId]:[],d=[],e=0;e<c.length;e++)if(c[e].value){var f=c[e].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(f){var k=f[1],m=f[2],n=f[3],f=f[4];"sugarcrm"!=k||b&&b!=m||d.push({domain:m,J:n,id:f,scheme:k})}}return d};function Rf(a,b,c){P.call(this,a);this.info=new Sf(b);this.h=c;a=new Ue(a);this.T(a,!0);R(this).listen(Vd(),"post",function(a){a=a.getMessage();"host-permission"==a.req&&a.data.domain==this.info.g.domain&&(a=a.data.grant,ze(this.n,"set host permission to "+a),this.info.g.hostPermission=a,S(this,0).s(this.info))},!1)}z(Rf,P);l=Rf.prototype;l.F=function(){return"sugar-panel"};
l.w=function(){Rf.m.w.call(this);var a=this.g,b=this.k();I(b,this.F());for(b=0;b<Ne.length;b++){var c=Ne[b],d=this.h[c];d?d.module_name?this.T(new Ze(a,d),!0):Z(this.n,"invalid module info for "+Ye(c)):Z(this.n,"missing module info for "+c)}};l.t=function(){Rf.m.t.call(this);S(this,0).s(this.info)};l.n=$("ydn.crm.inj.SugarPanel");function Tf(a,b){a.n.log(ve,"setChildModel_ "+b,void 0);for(var c=1;c<uc(a);c++){var d=S(a,c);d.s(b.h[d.J])}}
function Uf(a,b,c,d,e,f){for(var k=[],m=0;m<f.length;m++)k.push({store:f[m].J,index:"id",key:f[m].id});Kd(X(W("sugarcrm",a.info.g.domain),"list",k),function(a){window.console.log("contact",b,a);for(var f=[],k=0;k<a.length;k++)for(var m=a[k],B=m.result?m.result.length:0,C=0;C<B;C++)f.push(new Oe(this.info.g.domain,m.store,m.result[C]));a=new $e(this.info.g.domain,b,e,f,c,d);Tf(this,a)},a)}
l.s=function(a){Rf.m.s.call(this,a);S(this,0).s(this.info);ze(this.n,"showing for "+a);var b=this.k(),c=a.i;if(c){O(b,!0);var d=a.g?a.g[0]:null;if(d&&(b=Qf(d,this.info.g.domain),0<b.length)){Uf(this,c,Pf(a.h),Ge(a),d,b);return}b=[{store:"Accounts",index:"ydn$emails",key:c},{store:"Contacts",index:"ydn$emails",key:c},{store:"Leads",index:"ydn$emails",key:c}];Kd(X(W("sugarcrm",this.info.g.domain),"list",b),function(b){window.h=b;window.console.log(c,b);for(var f=[],k=0;k<b.length;k++){var m=b[0];m.result&&
0<m.result.length&&f.push(new Oe(this.info.g.domain,m.store,m.result[0]))}b=new $e(this.info.g.domain,c,d,f,Pf(a.h),Ge(a));Tf(this,b)},this)}else O(b,!1)};function Vf(){this.g=null}var Wf;function Xf(a,b,c,d){b=W("sugarcrm",b);for(var e=[],f=0;f<Ne.length;f++)e.push(X(b,"info-module",Ne[f]));return Kd(new be(e),function(a){for(var b={},e=0;e<Ne.length;e++)b[Ne[e]]=a[e][1];if(this.g)Yf(this,b,c,d);else{var f=this;return chrome.storage.sync.get("sugar-setting",function(a){f.g=a["sugar-setting"]||Zf;Yf(f,b,c,d)})}},a)}
var Mf={Display:{NormallyHide:{full_name:!0,date_entered:!0,date_modified:!0,modified_user_id:!0,modified_by_name:!0,created_by:!0,created_by_name:!0,deleted:!0,account_id:!0,email_and_name1:!0,invalid_email:!0,team_id:!0,team_set_id:!0,team_count:!0,assigned_user_id:!0,id:!0}}},Zf={Modules:{Accounts:Lf(),Contacts:Lf(),Leads:Lf()}};
function Yf(a,b,c,d){for(var e in b){var f=qb(a.g,"Modules",e,"Display","NormallyHide");if(f){var k=b[e],m;for(m in k.module_fields)f[m]&&(k.module_fields[m].normallyHide=f[m])}}c.call(d,b)};function Sf(a){this.g=a;this.info={}}Sf.prototype.isLogin=function(){return!!this.g.isLogin};function Ve(a,b,c){var d={};d.domain=a.g.domain;d.baseUrl=a.g.baseUrl||null;d.Pb=b;d.password=c;Kd(X(W("sugarcrm",a.g.domain),"login",d),function(a){this.g=a},a)};function $f(a){P.call(this,a)}z($f,P);$f.prototype.w=function(){$f.m.w.call(this);var a=this.k(),b=this.g;I(a,"sugarcrm-link-panel");b=b.createElement("a");b.textContent="Setup SugarCRM";b.href=chrome.extension.getURL(Yd)+"#credentials";b.className="sugarcrm-setup-link";a.appendChild(b);O(a,!1)};$f.prototype.s=function(a){$f.m.s.call(this,a);a=u(a)&&0<a.length;O(this.k(),!a)};function ag(a){P.call(this,a);this.j=new $d(400);L(this.j,ae,this.Kb,!1,this);this.i=0;this.l="";Wf||(Wf=new Vf);this.ga=Wf;this.h=document.createElement("div")}z(ag,P);l=ag.prototype;l.F=function(){return"sidebar"};l.w=function(){ag.m.w.call(this);var a=this.k();I(a,this.F())};l.t=function(){ag.m.t.call(this)};l.n=$("ydn.crm.inj.SidebarPanel");function bg(a,b){var c=b.domain;return Xf(a.ga,c,function(a){a=new Rf(this.g,b,a);ze(this.n,"sugar panel "+c+" created");this.T(a,!0)},a)}
l.init=function(){return Kd(X(W(),"list-sugarcrm"),function(a){var b=new $f;this.T(b,!0);b.s(a);for(var b=[],c=0;c<a.length;c++)b.push(bg(this,a[c]));return new be(b)},this)};l.update=function(){this.n.log(ve,"updating sidebar",void 0);this.i=0;this.l=location.href;var a=this.j;a.i=!0;a.g||(a.g=a.h.setTimeout(a.l,a.j),a.p=ma())};l.s=function(a){ag.m.s.call(this,a);var b=uc(this);0<b?ze(this.n,"setting module to "+b+" children"):Z(this.n,"no sugar instance");for(var c=1;c<b;c++)S(this,c).s(a)};
function cg(a,b){var c=a.querySelector("img[jid]");if(!c){if(b){var d=a.querySelector("span[title]");if(d&&(c=d.getAttribute("title").trim(),0<c.length&&(d=document.querySelector('span[name="'+c+'"][email]'))))return d=d.getAttribute("email"),new Ee(d,c)}return null}for(d=c.getAttribute("jid");c&&"TD"!=c.tagName;)c=c.parentElement;c=c.nextElementSibling.querySelector("span[title]").getAttribute("title");return new Ee(d,c)}
l.Kb=function(){this.i++;window.console.log("sniff contact "+this.i);this.l!=location.href&&this.j.stop();if(40<this.i)this.j.stop();else{var a=document.querySelector('table[role="presentation"]');if(a){1!=a.childElementCount&&Z(this.n,"Probably our assumption about layout is wrong");var b=a.querySelector("tr");if(3!=b.childElementCount)Z(this.n,"Probably our assumption about layout is very wrong");else if(a=b.children[2],a.style.height||Z(this.n,"Probably our assumption about layout is wrong"),a=
a.querySelector("table")){var c=cg(a,5<this.i);if(c){this.j.stop();for(var d,b=a,e=0;4>e;e++)if(b.parentElement&&(b=b.parentElement,b.nextElementSibling&&"DIV"==b.nextElementSibling.tagName)){var b=b.parentElement,e=b.lastElementChild,f=!!e.querySelector("a[href]");d=document.createElement("div");f?b.parentElement.insertBefore(d,e):b.appendChild(d);break}d||(b=a.ownerDocument,d=b.createElement("td"),d.setAttribute("colspan","2"),b=b.createElement("tr"),b.className="widget-topraw",b.appendChild(d),
(a.querySelector("tbody")||a).appendChild(b));this.h.parentElement?(this.h.parentElement.removeChild(this.h),d.appendChild(this.h)):(d.appendChild(this.h),this.render(this.h));O(this.h,!0);window.console.log("rendering for "+c);Kd(Me(c),function(){this.s(c)},this)}else Z(this.n,"Could not sniff contact identifier."),O(this.h,!1)}else Z(this.n,"No Contact panel found."),O(this.h,!1)}else Z(this.n,"Could not find main view")}};function dg(){this.g=this.h=null}dg.prototype.init=function(a){this.h=a;a=document.getElementById("user-login");L(a,"click",function(a){a.preventDefault();window.open(a.target.href,void 0,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=400, top="+(screen.height/2-200)+", left="+(screen.width/2-300));return!0},!0,this)};
function eg(a,b){if(!b||b instanceof Error)a.g=null;else if(a.g=b,a.h){var c=document.getElementById("user-login"),d=document.getElementById("user-name"),e,f=(e=a.h)||document;f.querySelectorAll&&f.querySelector?e=f.querySelector(".login-message"):(f=e||document,e=(f.querySelectorAll&&f.querySelector?f.querySelectorAll(".login-message"):f.getElementsByClassName?f.getElementsByClassName("login-message"):ub(document,"*","login-message",e))[0]);e=e||null;b instanceof Error?(e.textContent=b.message,O(e,
!0),O(c,!1)):a.g.is_login?(c.href=a.g.logout_url,c.textContent="logout",d.textContent=a.g.email,O(e,!1),O(c,!1)):(c.href=a.g.login_url,c.textContent="login",c.style.display="",d.textContent="",O(e,!0),O(c,!0))}};function fg(){this.j=new ag;var a=this.history=new kc,b=new gf(document.location.href);a.Jb=b.oa+"/";L(this.history,"navigate",this.zb,!1,this);this.i=null;this.g=!1;new Ad;this.h=new dg}l=fg.prototype;l.n=$("ydn.crm.inj.Main");l.isLogin=function(){return this.g};l.zb=function(a){a.g!=this.i&&(this.i=a.g,/^contact/.test(a.g)||/\w+\/[\w\d]{10,18}$/.test(a.g)&&this.j.update())};
l.init=function(){ze(this.n,"init "+this);var a=this,b=window.setInterval(function(){document.querySelector('a[href="http://mail.google.com/mail/help/terms.html"]')&&(window.clearTimeout(b),gg(a))},500);window.setTimeout(function(){window.clearTimeout(b);gg(a)},15E3)};l.toString=function(){return"inj.Main:0.4.1"};
function gg(a){Ld(X(W(),"login-info"),function(a){a:{if(a&&a.email){this.g=!0;var c=this.h.g;if(c&&c.email==a.email)break a;this.j.init();this.history.setEnabled(!0)}else this.g&&(this.g=!1,this.history.setEnabled(!1));eg(this.h,a)}},function(a){Z(this.n,a.name+" "+a.message);eg(this.h,a)},a)}
function hg(){var a;if(fa("finest"))a=new Y("log","finest");else if(v("finest")){if(!xe){xe={};a=0;for(var b;b=we[a];a++)xe[b.value]=b,xe[b.name]=b}a=xe.FINEST||null}else a=te;$("ydn.crm").h=a;if(t(void 0)){if(!Kf){a=Kf=new If(void 0);if(!0!=a.i){b=De();var c=a.l;b.g||(b.g=[]);b.g.push(c);a.i=!0}De().h=qe}}else Jf||Kf||(a=Jf=new Ff,!0!=a.h&&(b=De(),c=a.l,b.g||(b.g=[]),b.g.push(c),a.h=!0),De().h=qe);a=new fg;a.init();return a}var ig=["runApp"],jg=s;
ig[0]in jg||!jg.execScript||jg.execScript("var "+ig[0]);for(var kg;ig.length&&(kg=ig.shift());)ig.length||void 0===hg?jg=jg[kg]?jg[kg]:jg[kg]={}:jg[kg]=hg;})();app=runApp();

            //# sourceMappingURL=inj.js.map
        