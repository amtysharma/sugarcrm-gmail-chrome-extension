(function(){var g,n=this;function aa(a){a=a.split(".");for(var b=n,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ba(){}function s(a){a.P=function(){return a.Ob?a.Ob:a.Ob=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==ca(a)}function v(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function x(a){return"string"==typeof a}function da(a){return"number"==typeof a}function ea(a){return"function"==ca(a)}function y(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function fa(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function A(a,b,c){A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return A.apply(null,arguments)}function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};
function na(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function B(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ac=function(a,c,f){var h=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,h)}};function oa(a){Error.captureStackTrace?Error.captureStackTrace(this,oa):this.stack=Error().stack||"";a&&(this.message=String(a))}B(oa,Error);oa.prototype.name="CustomError";var pa;function ra(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function sa(a){return/^[\s\xa0]*$/.test(a)}function ta(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ua(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function va(a){if(!wa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(xa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ya,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(za,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Aa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ba,"&#39;"));return a}var xa=/&/g,ya=/</g,za=/>/g,Aa=/"/g,Ba=/'/g,wa=/[&<>"']/;function Ca(a){return ua(a.replace(/  /g," &#160;"),void 0)}
function Da(a){for(var b=0;1>b;b++)if('"'==a.charAt(0)&&'"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Ea={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},Fa={"'":"\\'"};
function Ga(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,h=c+1,k;if(!(k=Ea[d])){if(!(31<e&&127>e))if(d in Fa)d=Fa[d];else if(d in Ea)d=Fa[d]=Ea[d];else{e=d;k=d.charCodeAt(0);if(31<k&&127>k)e=d;else{if(256>k){if(e="\\x",16>k||256<k)e+="0"}else e="\\u",4096>k&&(e+="0");e+=k.toString(16).toUpperCase()}d=Fa[d]=e}k=d}f[h]=k}b.push('"');return b.join("")};function Ha(a,b){b.unshift(a);oa.call(this,ra.apply(null,b));b.shift()}B(Ha,oa);Ha.prototype.name="AssertionError";function Ia(a,b){throw new Ha("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var C=Array.prototype,Ja=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=C.forEach?function(a,b,c){C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},La=C.filter?function(a,b,c){return C.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=x(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Ma=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Na=C.some?function(a,b,c){return C.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Oa=C.every?function(a,b,c){return C.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Pa(a,b){var c=Qa(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}function Qa(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ra(a,b){return 0<=Ja(a,b)}function Sa(a,b){var c=Ja(a,b),d;(d=0<=c)&&C.splice.call(a,c,1);return d}function Ta(a){return C.concat.apply(C,arguments)}
function Ua(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Va(a,b,c,d){C.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return 2>=arguments.length?C.slice.call(a,b):C.slice.call(a,b,c)}function Xa(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=Ya,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Za(a,b){return a>b?1:a<b?-1:0}function Ya(a,b){return a===b};var $a,ab,bb,cb;function db(){return n.navigator?n.navigator.userAgent:null}cb=bb=ab=$a=!1;var eb;if(eb=db()){var fb=n.navigator;$a=0==eb.lastIndexOf("Opera",0);ab=!$a&&(-1!=eb.indexOf("MSIE")||-1!=eb.indexOf("Trident"));bb=!$a&&-1!=eb.indexOf("WebKit");cb=!$a&&!bb&&!ab&&"Gecko"==fb.product}var gb=$a,D=ab,ib=cb,F=bb,jb=n.navigator,kb=-1!=(jb&&jb.platform||"").indexOf("Mac");function lb(){var a=n.document;return a?a.documentMode:void 0}var mb;
a:{var nb="",ob;if(gb&&n.opera)var pb=n.opera.version,nb="function"==typeof pb?pb():pb;else if(ib?ob=/rv\:([^\);]+)(\)|;)/:D?ob=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:F&&(ob=/WebKit\/(\S+)/),ob)var qb=ob.exec(db()),nb=qb?qb[1]:"";if(D){var rb=lb();if(rb>parseFloat(nb)){mb=String(rb);break a}}mb=nb}var sb={};
function G(a){var b;if(!(b=sb[a])){b=0;for(var c=ta(String(mb)).split("."),d=ta(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var p=l.exec(h)||["","",""],q=m.exec(k)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==p[1].length?0:parseInt(p[1],10))>(0==q[1].length?0:parseInt(q[1],10))?1:0)||((0==p[2].length)<(0==q[2].length)?-1:
(0==p[2].length)>(0==q[2].length)?1:0)||(p[2]<q[2]?-1:p[2]>q[2]?1:0)}while(0==b)}b=sb[a]=0<=b}return b}var tb=n.document,ub=tb&&D?lb()||("CSS1Compat"==tb.compatMode?parseInt(mb,10):5):void 0;var vb=!D||D&&9<=ub,wb=!ib&&!D||D&&D&&9<=ub||ib&&G("1.9.1");D&&G("9");function xb(a){a=a.className;return x(a)&&a.match(/\S+/g)||[]}function H(a,b){for(var c=xb(a),d=Wa(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)Ra(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e}function yb(a,b){var c=xb(a),d=Wa(arguments,1),e=zb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function zb(a,b){return La(a,function(a){return!Ra(b,a)})};function Ab(){return null}function Bb(a){return function(){throw a;}};function Cb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Fb(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var Gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Gb.length;f++)c=Gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Jb(a){var b=arguments.length;if(1==b&&u(arguments[0]))return Jb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function Kb(a,b){var c=b||document;c.querySelectorAll&&c.querySelector?c=c.querySelector("."+a):(c=b||document,c=(c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Lb(document,"*",a,b))[0]);return c||null}
function Lb(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,"function"==typeof b.split&&Ra(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a}
function Mb(a,b){Cb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Nb?a.setAttribute(Nb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ob(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!v(f)||y(f)&&0<f.nodeType?d(f):Ka(Pb(f)?Ua(f):f,d)}}function Qb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Rb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function Sb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Tb(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function Ub(a){a=a.tabIndex;return da(a)&&0<=a&&32768>a}function Pb(a){if(a&&"number"==typeof a.length){if(y(a))return"function"==typeof a.item||"string"==typeof a.item;if(ea(a))return"function"==typeof a.item}return!1}function Vb(a){return Wb(a,function(a){return Ra(xb(a),"sidebar")})}
function Wb(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Xb(a){this.g=a||n.document||document}g=Xb.prototype;g.m=function(a){return x(a)?this.g.getElementById(a):a};
g.n=function(a,b,c){var d=this.g,e=arguments,f=e[0],h=e[1];if(!vb&&h&&(h.name||h.type)){f=["<",f];h.name&&f.push(' name="',va(h.name),'"');if(h.type){f.push(' type="',va(h.type),'"');var k={};Hb(k,h);delete k.type;h=k}f.push(">");f=f.join("")}f=d.createElement(f);h&&(x(h)?f.className=h:u(h)?H.apply(null,[f].concat(h)):Mb(f,h));2<e.length&&Ob(d,f,e);return f};g.createElement=function(a){return this.g.createElement(a)};g.appendChild=function(a,b){a.appendChild(b)};
g.getChildren=function(a){return wb&&void 0!=a.children?a.children:La(a.childNodes,function(a){return 1==a.nodeType})};g.contains=Rb;var Yb=!D||D&&9<=ub,Zb=!D||D&&9<=ub,$b=D&&!G("9");!F||G("528");ib&&G("1.9b")||D&&G("8")||gb&&G("9.5")||F&&G("528");ib&&!G("8")||D&&G("9");function ac(){0!=bc&&(cc[fa(this)]=this)}var bc=0,cc={};ac.prototype.p=!1;ac.prototype.qa=function(){if(!this.p&&(this.p=!0,this.w(),0!=bc)){var a=fa(this);delete cc[a]}};ac.prototype.w=function(){if(this.aa)for(;this.aa.length;)this.aa.shift()()};function I(a,b){this.type=a;this.i=this.target=b}g=I.prototype;g.qa=function(){};g.na=!1;g.Pb=!0;g.Wa=function(){this.na=!0};g.preventDefault=function(){this.Pb=!1};function dc(a){dc[" "](a);return a}dc[" "]=ba;function ec(a,b){I.call(this,a?a.type:"");this.j=this.i=this.target=null;this.g=this.clientY=this.clientX=0;this.k=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.h=null;a&&this.init(a,b)}B(ec,I);var fc=[1,4,2];
ec.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.i=b;var d=a.relatedTarget;if(d){if(ib){var e;a:{try{dc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.j=d;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.g=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.k=kb?a.metaKey:
a.ctrlKey;this.h=a;a.defaultPrevented&&this.preventDefault();delete this.na};function gc(a){return Yb?0==a.h.button:"click"==a.type?!0:!!(a.h.button&fc[0])}ec.prototype.Wa=function(){ec.l.Wa.call(this);this.h.stopPropagation?this.h.stopPropagation():this.h.cancelBubble=!0};ec.prototype.preventDefault=function(){ec.l.preventDefault.call(this);var a=this.h;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,$b)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var hc="closure_listenable_"+(1E6*Math.random()|0);function ic(a){try{return!(!a||!a[hc])}catch(b){return!1}}var jc=0;function kc(a,b,c,d,e){this.ta=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Xa=e;this.key=++jc;this.removed=this.Qa=!1}function lc(a){a.removed=!0;a.ta=null;a.proxy=null;a.src=null;a.Xa=null};function mc(a){this.src=a;this.g={};this.h=0}mc.prototype.add=function(a,b,c,d,e){var f=this.g[a];f||(f=this.g[a]=[],this.h++);var h=nc(f,b,d,e);-1<h?(a=f[h],c||(a.Qa=!1)):(a=new kc(b,this.src,a,!!d,e),a.Qa=c,f.push(a));return a};mc.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var e=this.g[a];b=nc(e,b,c,d);return-1<b?(lc(e[b]),C.splice.call(e,b,1),0==e.length&&(delete this.g[a],this.h--),!0):!1};
function oc(a,b){var c=b.type;if(!(c in a.g))return!1;var d=Sa(a.g[c],b);d&&(lc(b),0==a.g[c].length&&(delete a.g[c],a.h--));return d}mc.prototype.removeAll=function(a){var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],e=0;e<d.length;e++)++b,lc(d[e]);delete this.g[c];this.h--}return b};function pc(a,b,c,d,e){a=a.g[b];b=-1;a&&(b=nc(a,c,d,e));return-1<b?a[b]:null}function nc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.ta==b&&f.capture==!!c&&f.Xa==d)return e}return-1};var qc="closure_lm_"+(1E6*Math.random()|0),rc={},sc=0;function tc(a,b,c,d,e){if(u(b)){for(var f=0;f<b.length;f++)tc(a,b[f],c,d,e);return null}c=uc(c);if(ic(a))a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=vc(a);h||(a[qc]=h=new mc(a));c=h.add(b,c,!1,d,e);c.proxy||(d=wc(),c.proxy=d,d.src=a,d.ta=c,a.addEventListener?a.addEventListener(b,d,f):a.attachEvent(b in rc?rc[b]:rc[b]="on"+b,d),sc++);a=c}return a}
function wc(){var a=xc,b=Zb?function(c){return a.call(b.src,b.ta,c)}:function(c){c=a.call(b.src,b.ta,c);if(!c)return c};return b}function yc(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)yc(a,b[f],c,d,e);else c=uc(c),ic(a)?a.fa(b,c,d,e):a&&(a=vc(a))&&(b=pc(a,b,c,!!d,e))&&zc(b)}
function zc(a){if(da(a)||!a||a.removed)return!1;var b=a.src;if(ic(b))return oc(b.ia,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in rc?rc[c]:rc[c]="on"+c,d);sc--;(c=vc(b))?(oc(c,a),0==c.h&&(c.src=null,b[qc]=null)):lc(a);return!0}function Ac(a,b,c,d){var e=1;if(a=vc(a))if(b=a.g[b])for(b=Ua(b),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(e&=!1!==Bc(f,d))}return Boolean(e)}
function Bc(a,b){var c=a.ta,d=a.Xa||a.src;a.Qa&&zc(a);return c.call(d,b)}
function xc(a,b){if(a.removed)return!0;if(!Zb){var c=b||aa("window.event"),d=new ec(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.i;f;f=f.parentNode)c.push(f);for(var f=a.type,k=c.length-1;!d.na&&0<=k;k--)d.i=c[k],e&=Ac(c[k],f,!0,d);for(k=0;!d.na&&k<c.length;k++)d.i=c[k],e&=Ac(c[k],f,!1,d)}return e}return Bc(a,new ec(b,this))}
function vc(a){a=a[qc];return a instanceof mc?a:null}var Cc="__closure_events_fn_"+(1E9*Math.random()>>>0);function uc(a){return ea(a)?a:a[Cc]||(a[Cc]=function(b){return a.handleEvent(b)})};function J(){ac.call(this);this.ia=new mc(this);this.Na=this}B(J,ac);J.prototype[hc]=!0;g=J.prototype;g.ab=null;g.Ab=function(a){this.ab=a};g.removeEventListener=function(a,b,c,d){yc(this,a,b,c,d)};
function K(a,b){var c,d=a.ab;if(d)for(c=[];d;d=d.ab)c.push(d);var d=a.Na,e=b,f=e.type||e;if(x(e))e=new I(e,d);else if(e instanceof I)e.target=e.target||d;else{var h=e,e=new I(f,d);Hb(e,h)}var h=!0,k;if(c)for(var l=c.length-1;!e.na&&0<=l;l--)k=e.i=c[l],h=Dc(k,f,!0,e)&&h;e.na||(k=e.i=d,h=Dc(k,f,!0,e)&&h,e.na||(h=Dc(k,f,!1,e)&&h));if(c)for(l=0;!e.na&&l<c.length;l++)k=e.i=c[l],h=Dc(k,f,!1,e)&&h;return h}g.w=function(){J.l.w.call(this);this.ia&&this.ia.removeAll(void 0);this.ab=null};
g.listen=function(a,b,c,d){return this.ia.add(String(a),b,!1,c,d)};g.fa=function(a,b,c,d){return this.ia.remove(String(a),b,c,d)};function Dc(a,b,c,d){b=a.ia.g[String(b)];if(!b)return!0;b=Ua(b);for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.ta,l=h.Xa||h.src;h.Qa&&oc(a.ia,h);e=!1!==k.call(l,d)&&e}}return e&&!1!=d.Pb};function Ec(a){I.call(this,"navigate");this.g=a}B(Ec,I);function Fc(a){J.call(this);this.g=a||window;tc(this.g,"popstate",this.$a,!1,this);tc(this.g,"hashchange",this.$a,!1,this)}B(Fc,J);g=Fc.prototype;g.ob=!1;g.vc="/";g.setEnabled=function(a){a!=this.ob&&(this.ob=a)&&K(this,new Ec(this.getToken()))};g.getToken=function(){var a=this.g.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)};g.w=function(){yc(this.g,"popstate",this.$a,!1,this);yc(this.g,"hashchange",this.$a,!1,this)};g.$a=function(){this.ob&&K(this,new Ec(this.getToken()))};function L(a,b){a.style.display=b?"":"none"}var Gc=ib?"MozUserSelect":F?"WebkitUserSelect":null;function Hc(a,b){var c=b?null:a.getElementsByTagName("*");if(Gc){var d="none";a.style[Gc]=d;if(c)for(var e=0,f;f=c[e];e++)f.style[Gc]=d}else if(D||gb)if(d="on",a.setAttribute("unselectable",d),c)for(e=0;f=c[e];e++)f.setAttribute("unselectable",d)};function Ic(a){ac.call(this);this.h=a;this.g={}}B(Ic,ac);var Jc=[];g=Ic.prototype;g.listen=function(a,b,c,d){u(b)||(Jc[0]=b,b=Jc);for(var e=0;e<b.length;e++){var f=tc(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!f)break;this.g[f.key]=f}return this};g.fa=function(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)this.fa(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.h||this,c=uc(c),d=!!d,b=ic(a)?pc(a.ia,String(b),c,d,e):a?(a=vc(a))?pc(a,b,c,d,e):null:null,b&&(zc(b),delete this.g[b.key]);return this};
g.removeAll=function(){Cb(this.g,zc);this.g={}};g.w=function(){Ic.l.w.call(this);this.removeAll()};g.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Kc(){}s(Kc);Kc.prototype.g=0;function N(a){J.call(this);this.g=a||pa||(pa=new Xb);this.bb=Lc}B(N,J);N.prototype.Pa=Kc.P();var Lc=null;function Mc(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}g=N.prototype;g.za=null;g.A=!1;g.t=null;g.bb=null;g.o=null;g.J=null;g.R=null;
g.ga=null;g.I=function(){return this.za||(this.za="ydn:"+(this.Pa.g++).toString(36))};g.m=function(){return this.t};function O(a){return a.i||(a.i=new Ic(a))}g.Ab=function(a){if(this.J&&this.J!=a)throw Error("Method not supported");N.l.Ab.call(this,a)};g.$=function(){this.t=this.g.createElement("div")};g.render=function(a){Nc(this,a)};function Nc(a,b,c){if(a.A)throw Error("Component already rendered");a.t||a.$();b?b.insertBefore(a.t,c||null):a.g.g.body.appendChild(a.t);a.J&&!a.J.A||a.v()}
g.v=function(){this.A=!0;Oc(this,function(a){!a.A&&a.m()&&a.v()})};g.xa=function(){Oc(this,function(a){a.A&&a.xa()});this.i&&this.i.removeAll();this.A=!1};g.w=function(){this.A&&this.xa();this.i&&(this.i.qa(),delete this.i);Oc(this,function(a){a.qa()});this.t&&Qb(this.t);this.J=this.o=this.t=this.ga=this.R=null;N.l.w.call(this)};g.F=function(a){this.o=a};g.N=function(a,b){this.hb(a,P(this),b)};
g.hb=function(a,b,c){if(a.A&&(c||!this.A))throw Error("Component already rendered");if(0>b||b>P(this))throw Error("Child component index out of bounds");this.ga&&this.R||(this.ga={},this.R=[]);if(a.J==this){var d=a.I();this.ga[d]=a;Sa(this.R,a)}else{var d=this.ga,e=a.I();if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}if(a==this)throw Error("Unable to set parent component");if(this&&a.J&&a.za&&a.J.ga&&a.za&&a.za in a.J.ga&&a.J.ga[a.za]&&a.J!=this)throw Error("Unable to set parent component");
a.J=this;N.l.Ab.call(a,this);Va(this.R,b,0,a);a.A&&this.A&&a.J==this?(c=this.ka(),c.insertBefore(a.m(),c.childNodes[b]||null)):c?(this.t||this.$(),b=Q(this,b+1),Nc(a,this.ka(),b?b.t:null)):this.A&&!a.A&&a.t&&a.t.parentNode&&1==a.t.parentNode.nodeType&&a.v()};g.ka=function(){return this.t};
function Pc(a){if(null==a.bb){var b=a.A?a.t:a.g.g.body,c;a:{c=Sb(b);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(b,null))){c=c.direction||c.getPropertyValue("direction")||"";break a}c=""}a.bb="rtl"==(c||(b.currentStyle?b.currentStyle.direction:null)||b.style&&b.style.direction)}return a.bb}function P(a){return a.R?a.R.length:0}function Q(a,b){return a.R?a.R[b]||null:null}function Oc(a,b,c){a.R&&Ka(a.R,b,c)}function Qc(a,b){return a.R&&b?Ja(a.R,b):-1};function Rc(a,b,c,d,e){if(!(D||F&&G("525")))return!0;if(kb&&e)return Sc(a);if(e&&!d)return!1;da(b)&&(b=Tc(b));if(!c&&(17==b||18==b||kb&&91==b))return!1;if(F&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(D&&d&&b==a)return!1;switch(a){case 13:return!(D&&D&&9<=ub);case 27:return!F}return Sc(a)}
function Sc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||F&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Tc(a){if(ib)a=Uc(a);else if(kb&&F)a:switch(a){case 93:a=91;break a}return a}
function Uc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Vc(a,b){J.call(this);a&&Wc(this,a,b)}B(Vc,J);g=Vc.prototype;g.ya=null;g.Ya=null;g.vb=null;g.Za=null;g.V=-1;g.la=-1;g.ib=!1;
var Xc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Yc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Zc=D||F&&G("525"),$c=kb&&ib;g=Vc.prototype;
g.jc=function(a){F&&(17==this.V&&!a.ctrlKey||18==this.V&&!a.altKey||kb&&91==this.V&&!a.metaKey)&&(this.la=this.V=-1);-1==this.V&&(a.ctrlKey&&17!=a.g?this.V=17:a.altKey&&18!=a.g?this.V=18:a.metaKey&&91!=a.g&&(this.V=91));Zc&&!Rc(a.g,this.V,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.la=Tc(a.g),$c&&(this.ib=a.altKey))};g.kc=function(a){this.la=this.V=-1;this.ib=a.altKey};
g.handleEvent=function(a){var b=a.h,c,d,e=b.altKey;D&&"keypress"==a.type?c=this.la:F&&"keypress"==a.type?c=this.la:gb?c=this.la:(c=b.keyCode||this.la,d=b.charCode||0,$c&&(e=this.ib),kb&&63==d&&224==c&&(c=191));d=c=Tc(c);var f=b.keyIdentifier;c?63232<=c&&c in Xc?d=Xc[c]:25==c&&a.shiftKey&&(d=9):f&&f in Yc&&(d=Yc[f]);this.V=d;a=new ad(d,0,0,b);a.altKey=e;K(this,a)};g.m=function(){return this.ya};
function Wc(a,b,c){a.Za&&bd(a);a.ya=b;a.Ya=tc(a.ya,"keypress",a,c);a.vb=tc(a.ya,"keydown",a.jc,c,a);a.Za=tc(a.ya,"keyup",a.kc,c,a)}function bd(a){a.Ya&&(zc(a.Ya),zc(a.vb),zc(a.Za),a.Ya=null,a.vb=null,a.Za=null);a.ya=null;a.V=-1;a.la=-1}g.w=function(){Vc.l.w.call(this);bd(this)};function ad(a,b,c,d){ec.call(this,d);this.type="key";this.g=a}B(ad,ec);var cd;function dd(a,b,c){v(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(cd||(cd={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=cd,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function R(){}var ed;s(R);R.prototype.i=function(){};R.prototype.g=function(a){var b=a.g.n("div",fd(this,a).join(" "),a.Ua());a.isEnabled()||gd(b,1,!a.isEnabled());a.K&8&&gd(b,8,!!(a.C&8));a.K&16&&gd(b,16,!!(a.C&16));a.K&64&&gd(b,64,!!(a.C&64));return b};function hd(a,b,c){if(a=a.m?a.m():a)if(D&&!G("7")){var d=id(xb(a),b);d.push(b);la(c?H:yb,a).apply(null,d)}else c?H(a,b):yb(a,b)}
function jd(a,b){var c;if(a.K&32&&(c=a.m())){if(!b&&a.C&32){try{c.blur()}catch(d){}a.C&32&&a.Kb()}(Tb(c)&&Ub(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}}function gd(a,b,c){ed||(ed={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=ed[b])&&dd(a,b,c)}R.prototype.q=function(){return"goog-control"};
function fd(a,b){var c=a.q(),d=[c],e=a.q();e!=c&&d.push(e);c=b.C;for(e=[];c;){var f=c&-c;e.push(kd(a,f));c&=~f}d.push.apply(d,e);(c=b.Ib)&&d.push.apply(d,c);D&&!G("7")&&d.push.apply(d,id(d));return d}function id(a,b){var c=[];b&&(a=a.concat([b]));Ka([],function(d){!Oa(d,la(Ra,a))||b&&!Ra(d,b)||c.push(d.join("_"))});return c}function kd(a,b){if(!a.h){var c=a.q();a.h={1:c+"-disabled",2:c+"-hover",4:c+"-active",8:c+"-selected",16:c+"-checked",32:c+"-focused",64:c+"-open"}}return a.h[b]};function S(a,b){if(!ea(a))throw Error("Invalid component class "+a);if(!ea(b))throw Error("Invalid renderer class "+b);var c=fa(a);ld[c]=b}function md(a,b){if(!a)throw Error("Invalid class name "+a);if(!ea(b))throw Error("Invalid decorator function "+b);}var ld={};function T(a,b,c){N.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=fa(b);if(d=ld[d])break;b=b.l?b.l.constructor:null}b=d?ea(d.P)?d.P():new d:null}this.h=b;this.pb=t(a)?a:null}B(T,N);g=T.prototype;g.pb=null;g.C=0;g.K=39;g.wa=0;g.Ib=null;g.rb=!0;g.$=function(){var a=this.h.g(this);this.t=a;var b=this.h.i();b&&(b?a.setAttribute("role",b):a.removeAttribute("role"));Hc(a,!D&&!gb)};g.ka=function(){return this.m()};
g.v=function(){T.l.v.call(this);var a=this.h;if(Pc(this)){var b=this.m();hd(b,a.q()+"-rtl",!0)}this.isEnabled()&&jd(this,!0);this.K&-2&&(this.rb&&nd(this,!0),this.K&32&&(a=this.m()))&&(b=this.j||(this.j=new Vc),Wc(b,a),O(this).listen(b,"key",this.La).listen(a,"focus",this.bc).listen(a,"blur",this.Kb))};
function nd(a,b){var c=O(a),d=a.m();b?(c.listen(d,"mouseover",a.tb).listen(d,"mousedown",a.qb).listen(d,"mouseup",a.ub).listen(d,"mouseout",a.sb),a.Ma!=ba&&c.listen(d,"contextmenu",a.Ma),D&&c.listen(d,"dblclick",a.Lb)):(c.fa(d,"mouseover",a.tb).fa(d,"mousedown",a.qb).fa(d,"mouseup",a.ub).fa(d,"mouseout",a.sb),a.Ma!=ba&&c.fa(d,"contextmenu",a.Ma),D&&c.fa(d,"dblclick",a.Lb))}g.xa=function(){T.l.xa.call(this);this.j&&bd(this.j);this.isEnabled()&&jd(this,!1)};
g.w=function(){T.l.w.call(this);this.j&&(this.j.qa(),delete this.j);delete this.h;this.Ib=this.pb=null};g.Ua=function(){return this.pb};g.isEnabled=function(){return!(this.C&1)};g.setEnabled=function(a){var b=this.J;b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!od(this,1,!a)||(a||(qd(this,!1),this.ba(!1)),jd(this,a),rd(this,1,!a))};g.ba=function(a){od(this,2,a)&&rd(this,2,a)};function qd(a,b){od(a,4,b)&&rd(a,4,b)}function sd(a,b){od(a,8,b)&&rd(a,8,b)}
function td(a,b){od(a,64,b)&&rd(a,64,b)}function rd(a,b,c){if(a.K&b&&c!=!!(a.C&b)){var d=a.h,e=a.m();e&&((d=kd(d,b))&&hd(a,d,c),gd(e,b,c));a.C=c?a.C|b:a.C&~b}}function ud(a,b,c){if(a.A&&a.C&b&&!c)throw Error("Component already rendered");!c&&a.C&b&&rd(a,b,!1);a.K=c?a.K|b:a.K&~b}function U(a,b){return!!(255&b)&&!!(a.K&b)}function od(a,b,c){return!!(a.K&b)&&!!(a.C&b)!=c&&(!(a.wa&b)||K(a,Mc(b,c)))&&!a.p}g.tb=function(a){!vd(a,this.m())&&K(this,"enter")&&this.isEnabled()&&U(this,2)&&this.ba(!0)};
g.sb=function(a){!vd(a,this.m())&&K(this,"leave")&&(U(this,4)&&qd(this,!1),U(this,2)&&this.ba(!1))};g.Ma=ba;function vd(a,b){return!!a.j&&Rb(b,a.j)}g.qb=function(a){if(this.isEnabled()&&(U(this,2)&&this.ba(!0),gc(a)&&!(F&&kb&&a.ctrlKey))){U(this,4)&&qd(this,!0);var b;this.K&32&&(b=this.m())&&Tb(b)&&Ub(b)&&this.m().focus()}!gc(a)||F&&kb&&a.ctrlKey||a.preventDefault()};g.ub=function(a){this.isEnabled()&&(U(this,2)&&this.ba(!0),this.C&4&&wd(this,a)&&U(this,4)&&qd(this,!1))};
g.Lb=function(a){this.isEnabled()&&wd(this,a)};function wd(a,b){if(U(a,16)){var c=!(a.C&16);od(a,16,c)&&rd(a,16,c)}U(a,8)&&sd(a,!0);U(a,64)&&td(a,!(a.C&64));c=new I("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.k=b.k);return K(a,c)}g.bc=function(){U(this,32)&&od(this,32,!0)&&rd(this,32,!0)};g.Kb=function(){U(this,4)&&qd(this,!1);U(this,32)&&od(this,32,!1)&&rd(this,32,!1)};
g.La=function(a){return this.isEnabled()&&13==a.g&&wd(this,a)?(a.preventDefault(),a.Wa(),!0):!1};S(T,R);md("goog-control",function(){return new T(null)});function xd(){}B(xd,R);s(xd);xd.prototype.q=function(){return"goog-tab"};xd.prototype.i=function(){return"tab"};xd.prototype.g=function(a){var b=xd.l.g.call(this,a);(a=a.k)&&b&&(b.title=a||"");return b};function yd(a,b,c){T.call(this,a,b||xd.P(),c);ud(this,8,!0);this.wa|=9}B(yd,T);md("goog-tab",function(){return new yd(null)});function zd(){}s(zd);zd.prototype.j=function(){};function Ad(a,b){a&&(a.tabIndex=b?0:-1)}zd.prototype.g=function(a){return a.g.n("div",this.h(a).join(" "))};function Bd(a,b){var c=b.m();Hc(c,ib);D&&(c.hideFocus=!0);var d=a.j();d&&(d?c.setAttribute("role",d):c.removeAttribute("role"))}zd.prototype.q=function(){return"goog-container"};zd.prototype.h=function(a){var b=this.q(),c=[b,a.ma==Cd?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function V(a,b,c){N.call(this,c);this.Ja=b||zd.P();this.ma=a||Dd}B(V,N);var Cd="horizontal",Dd="vertical";g=V.prototype;g.wb=null;g.Ia=null;g.Ja=null;g.ma=null;g.Ka=!0;g.Aa=!0;g.M=-1;g.B=null;g.Ba=!1;g.pa=null;function Ed(a){return a.wb||a.m()}g.$=function(){this.t=this.Ja.g(this)};g.ka=function(){return this.m()};
g.v=function(){V.l.v.call(this);Oc(this,function(a){a.A&&Fd(this,a)},this);var a=this.m();Bd(this.Ja,this);Gd(this,this.Ka);O(this).listen(this,"enter",this.fc).listen(this,"highlight",this.gc).listen(this,"unhighlight",this.sc).listen(this,"open",this.mc).listen(this,"close",this.dc).listen(a,"mousedown",this.ac).listen(Sb(a),"mouseup",this.ec).listen(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.cc);Hd(this)};
function Hd(a){var b=O(a),c=Ed(a);b.listen(c,"focus",a.Jb).listen(c,"blur",a.Zb).listen(a.Ia||(a.Ia=new Vc(Ed(a))),"key",a.$b)}g.xa=function(){Id(this,-1);this.B&&td(this.B,!1);this.Ba=!1;V.l.xa.call(this)};g.w=function(){V.l.w.call(this);this.Ia&&(this.Ia.qa(),this.Ia=null);this.Ja=this.B=this.pa=this.wb=null};g.fc=function(){return!0};
g.gc=function(a){var b=Qc(this,a.target);if(-1<b&&b!=this.M){var c=Q(this,this.M);c&&c.ba(!1);this.M=b;c=Q(this,this.M);this.Ba&&qd(c,!0);this.B&&c!=this.B&&(c.K&64?td(c,!0):td(this.B,!1))}b=this.m();null!=a.target.m()&&dd(b,"activedescendant",a.target.m().id)};g.sc=function(a){a.target==Q(this,this.M)&&(this.M=-1);this.m().removeAttribute("aria-activedescendant")};g.mc=function(a){(a=a.target)&&a!=this.B&&a.J==this&&(this.B&&td(this.B,!1),this.B=a)};g.dc=function(a){a.target==this.B&&(this.B=null)};
g.ac=function(a){this.Aa&&(this.Ba=!0);var b=Ed(this);b&&Tb(b)&&Ub(b)?b.focus():a.preventDefault()};g.ec=function(){this.Ba=!1};g.cc=function(a){var b;a:{b=a.target;if(this.pa)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.pa){b=this.pa[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.qb(a);break;case "mouseup":b.ub(a);break;case "mouseover":b.tb(a);break;case "mouseout":b.sb(a);break;case "contextmenu":b.Ma(a)}};g.Jb=function(){};
g.Zb=function(){Id(this,-1);this.Ba=!1;this.B&&td(this.B,!1)};g.$b=function(a){return this.isEnabled()&&this.Ka&&(0!=P(this)||this.wb)&&Jd(this,a)?(a.preventDefault(),a.Wa(),!0):!1};
function Jd(a,b){var c=Q(a,a.M);if(c&&"function"==typeof c.La&&c.La(b)||a.B&&a.B!=c&&"function"==typeof a.B.La&&a.B.La(b))return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!1;switch(b.g){case 27:Ed(a).blur();break;case 36:Kd(a);break;case 35:Ld(a);break;case 38:if(a.ma==Dd)Md(a);else return!1;break;case 37:if(a.ma==Cd)Pc(a)?Nd(a):Md(a);else return!1;break;case 40:if(a.ma==Dd)Nd(a);else return!1;break;case 39:if(a.ma==Cd)Pc(a)?Md(a):Nd(a);else return!1;break;default:return!1}return!0}
function Fd(a,b){var c=b.m(),c=c.id||(c.id=b.I());a.pa||(a.pa={});a.pa[c]=b}g.N=function(a,b){V.l.N.call(this,a,b)};g.hb=function(a,b,c){a.wa|=2;a.wa|=64;ud(a,32,!1);a.A&&!1!=a.rb&&nd(a,!1);a.rb=!1;V.l.hb.call(this,a,b,c);a.A&&this.A&&Fd(this,a);b<=this.M&&this.M++};function Gd(a,b){a.Ka=b;var c=a.m();c&&(L(c,b),Ad(Ed(a),a.Aa&&a.Ka))}g.isEnabled=function(){return this.Aa};
g.setEnabled=function(a){this.Aa!=a&&K(this,a?"enable":"disable")&&(a?(this.Aa=!0,Oc(this,function(a){a.Sb?delete a.Sb:a.setEnabled(!0)})):(Oc(this,function(a){a.isEnabled()?a.setEnabled(!1):a.Sb=!0}),this.Ba=this.Aa=!1),Ad(Ed(this),a&&this.Ka))};function Id(a,b){var c=Q(a,b);c?c.ba(!0):-1<a.M&&Q(a,a.M).ba(!1)}g.ba=function(a){Id(this,Qc(this,a))};function Kd(a){Od(a,function(a,c){return(a+1)%c},P(a)-1)}function Ld(a){Od(a,function(a,c){a--;return 0>a?c-1:a},0)}
function Nd(a){Od(a,function(a,c){return(a+1)%c},a.M)}function Md(a){Od(a,function(a,c){a--;return 0>a?c-1:a},a.M)}function Od(a,b,c){c=0>c?Qc(a,a.B):c;var d=P(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=Q(a,c);if(f&&f.isEnabled()&&f.K&2){a.zb(c);break}e++;c=b.call(a,c,d)}}g.zb=function(a){Id(this,a)};function Pd(){}B(Pd,zd);s(Pd);Pd.prototype.q=function(){return"goog-tab-bar"};Pd.prototype.j=function(){return"tablist"};Pd.prototype.h=function(a){var b=Pd.l.h.call(this,a);if(!this.i){var c=this.q();this.i=Jb(Qd,c+"-top",Rd,c+"-bottom",Sd,c+"-start",Td,c+"-end")}b.push(this.i[a.j]);return b};function Ud(a,b,c){a=a||Qd;var d=a==Sd||a==Td?Dd:Cd;if(this.m())throw Error("Component already rendered");this.ma=d;this.j=a;V.call(this,this.ma,b||Pd.P(),c);Vd(this)}B(Ud,V);var Qd="top",Rd="bottom",Sd="start",Td="end";g=Ud.prototype;g.Y=null;g.v=function(){Ud.l.v.call(this);Vd(this)};g.w=function(){Ud.l.w.call(this);this.Y=null};g.zb=function(a){Ud.l.zb.call(this,a);this.cb(Q(this,a))};g.cb=function(a){a?sd(a,!0):this.Y&&sd(this.Y,!1)};
function Wd(a,b){if(b&&b==a.Y){for(var c=Qc(a,b),d=c-1;b=Q(a,d);d--)if(b.isEnabled()){a.cb(b);return}for(c+=1;b=Q(a,c);c++)if(b.isEnabled()){a.cb(b);return}a.cb(null)}}g.pc=function(a){this.Y&&this.Y!=a.target&&sd(this.Y,!1);this.Y=a.target};g.qc=function(a){a.target==this.Y&&(this.Y=null)};g.nc=function(a){Wd(this,a.target)};g.oc=function(a){Wd(this,a.target)};g.Jb=function(){Q(this,this.M)||this.ba(this.Y||Q(this,0))};
function Vd(a){O(a).listen(a,"select",a.pc).listen(a,"unselect",a.qc).listen(a,"disable",a.nc).listen(a,"hide",a.oc)}md("goog-tab-bar",function(){return new Ud});D&&G(8);/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function X(a,b){this.D=[];this.Eb=a;this.Pa=b||null;this.j=this.i=!1;this.h=void 0;this.Bb=this.Gb=this.aa=!1;this.k=0;this.g=null;this.ua=0;this.Na=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,X);"string"==typeof c.stack&&(this.Na=c.stack.replace(/^[^\n]*\n/,""))}}function Xd(a,b){if(a.i)a.h instanceof X&&Xd(a.h);else{if(a.g){var c=a.g;delete a.g;b?Xd(c,b):(c.ua--,0>=c.ua&&Xd(c))}a.Eb?a.Eb.call(a.Pa,a):a.Bb=!0;a.i||a.H(new Yd)}}g=X.prototype;
g.Ra=function(a,b){this.aa=!1;Zd(this,a,b)};function Zd(a,b,c){a.i=!0;a.h=c;a.j=!b;a.lb()}function $d(a){if(a.i){if(!a.Bb)throw new ae;a.Bb=!1}}g.O=function(a){$d(this);Zd(this,!0,a)};g.H=function(a){$d(this);be(this,a);Zd(this,!1,a)};function be(a,b){a.Na&&y(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.Na)}g.T=function(a,b){return this.L(a,null,b)};g.Fb=function(a,b){return this.L(null,a,b)};g.Xb=function(a,b){return this.L(a,a,b)};
g.L=function(a,b,c){this.D.push([a,b,c]);this.i&&this.lb();return this};function ce(a){return Na(a.D,function(a){return ea(a[1])})}
g.lb=function(){this.k&&this.i&&ce(this)&&(n.clearTimeout(this.k),delete this.k);this.g&&(this.g.ua--,delete this.g);for(var a=this.h,b=!1,c=!1;this.D.length&&!this.aa;){var d=this.D.shift(),e=d[0],f=d[1],d=d[2];if(e=this.j?f:e)try{var h=e.call(d||this.Pa,a);t(h)&&(this.j=this.j&&(h==a||h instanceof Error),this.h=a=h);a instanceof X&&(this.aa=c=!0)}catch(k){a=k,this.j=!0,be(this,a),ce(this)||(b=!0)}}this.h=a;c&&(a.L(A(this.Ra,this,!0),A(this.Ra,this,!1)),a.Gb=!0);b&&(this.k=n.setTimeout(Bb(a),0))};
function de(a){var b=new X;b.O(a);return b}function ee(a){Error.captureStackTrace?Error.captureStackTrace(this,ee):this.stack=Error().stack||"";a&&(this.message=String(a))}B(ee,Error);function ae(){ee.call(this)}B(ae,ee);ae.prototype.message="Deferred has already fired";ae.prototype.name="AlreadyCalledError";function Yd(){ee.call(this)}B(Yd,ee);Yd.prototype.message="Deferred was canceled";Yd.prototype.name="CanceledError";var fe="chrome-extension://fmhdpfhfppingdiiefgnanjceieflpkj/"==chrome.extension.getURL("")?"crm-ex/":"",ge=fe+"option-page.html",he=fe+"host-permission.html";function ie(a,b){J.call(this);this.h=a||1;this.g=b||n;this.i=A(this.xc,this);this.j=ma()}B(ie,J);g=ie.prototype;g.Ha=!1;g.W=null;g.setInterval=function(a){this.h=a;this.W&&this.Ha?(this.stop(),je(this)):this.W&&this.stop()};g.xc=function(){if(this.Ha){var a=ma()-this.j;0<a&&a<0.8*this.h?this.W=this.g.setTimeout(this.i,this.h-a):(this.W&&(this.g.clearTimeout(this.W),this.W=null),K(this,ke),this.Ha&&(this.W=this.g.setTimeout(this.i,this.h),this.j=ma()))}};
function je(a){a.Ha=!0;a.W||(a.W=a.g.setTimeout(a.i,a.h),a.j=ma())}g.stop=function(){this.Ha=!1;this.W&&(this.g.clearTimeout(this.W),this.W=null)};g.w=function(){ie.l.w.call(this);this.stop();delete this.g};var ke="tick";function le(a,b,c,d,e,f){X.call(this,e,f);this.va=a;this.p=[];this.Da=!!b;this.Wb=!!c;this.Vb=!!d;for(b=this.Rb=0;b<a.length;b++)a[b].L(A(this.Qb,this,b,!0),A(this.Qb,this,b,!1));0!=a.length||this.Da||this.O(this.p)}B(le,X);le.prototype.Qb=function(a,b,c){this.Rb++;this.p[a]=[b,c];this.i||(this.Da&&b?this.O([a,c]):this.Wb&&!b?this.H(c):this.Rb==this.va.length&&this.O(this.p));this.Vb&&!b&&(c=null);return c};le.prototype.H=function(a){le.l.H.call(this,a);for(a=0;a<this.va.length;a++)Xd(this.va[a])};function me(a){if("function"==typeof a.Z)return a.Z();if(x(a))return a.split("");if(v(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Db(a)}function ne(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(v(a)||x(a))Ka(a,b,c);else{var d;if("function"==typeof a.ja)d=a.ja();else if("function"!=typeof a.Z)if(v(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Eb(a);else d=void 0;for(var e=me(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var oe="StopIteration"in n?n.StopIteration:Error("StopIteration");function pe(){}pe.prototype.next=function(){throw oe;};pe.prototype.gb=function(){return this};function qe(a){if(a instanceof pe)return a;if("function"==typeof a.gb)return a.gb(!1);if(v(a)){var b=0,c=new pe;c.next=function(){for(;;){if(b>=a.length)throw oe;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function re(a,b){if(v(a))try{Ka(a,b,void 0)}catch(c){if(c!==oe)throw c;}else{a=qe(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==oe)throw d;}}};function se(a,b){this.h={};this.g=[];this.j=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof se?(c=a.ja(),d=a.Z()):(c=Eb(a),d=Db(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}g=se.prototype;g.mb=function(){return this.i};g.Z=function(){te(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a};g.ja=function(){te(this);return this.g.concat()};
g.clear=function(){this.h={};this.j=this.i=this.g.length=0};g.remove=function(a){return ue(this.h,a)?(delete this.h[a],this.i--,this.j++,this.g.length>2*this.i&&te(this),!0):!1};function te(a){if(a.i!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];ue(a.h,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.i!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],ue(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}g.get=function(a,b){return ue(this.h,a)?this.h[a]:b};
g.set=function(a,b){ue(this.h,a)||(this.i++,this.g.push(a),this.j++);this.h[a]=b};g.ha=function(){return new se(this)};g.gb=function(a){te(this);var b=0,c=this.g,d=this.h,e=this.j,f=this,h=new pe;h.next=function(){for(;;){if(e!=f.j)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw oe;var h=c[b++];return a?h:d[h]}};return h};function ue(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function ve(a){return we(a||arguments.callee.caller,[])}
function we(a,b){var c=[];if(Ra(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(xe(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=xe(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(we(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function xe(a){if(ye[a])return ye[a];a=String(a);if(!ye[a]){var b=/function ([^\(]+)/.exec(a);ye[a]=b?b[1]:"[Anonymous]"}return ye[a]}var ye={};function ze(a,b,c,d,e){"number"==typeof e||Ae++;this.k=d||ma();this.j=a;this.p=b;this.i=c;delete this.h;delete this.g}ze.prototype.h=null;ze.prototype.g=null;var Ae=0;ze.prototype.getMessage=function(){return this.p};function Be(a){this.k=a}Be.prototype.i=null;Be.prototype.h=null;Be.prototype.j=null;Be.prototype.g=null;function Ce(a,b){this.name=a;this.value=b}Ce.prototype.toString=function(){return this.name};var De=new Ce("SHOUT",1200),Fe=new Ce("SEVERE",1E3),Ge=new Ce("WARNING",900),He=new Ce("INFO",800),Ie=new Ce("CONFIG",700),Je=new Ce("FINE",500),Ke=new Ce("FINER",400),Le=new Ce("FINEST",300),Me=[new Ce("OFF",Infinity),De,Fe,Ge,He,Ie,Je,Ke,Le,new Ce("ALL",0)],Ne=null;g=Be.prototype;g.getName=function(){return this.k};
g.getChildren=function(){this.j||(this.j={});return this.j};function Oe(a){if(a.h)return a.h;if(a.i)return Oe(a.i);Ia("Root logger has no level set.");return null}g.log=function(a,b,c){if(a.value>=Oe(this).value)for(ea(b)&&(b=b()),a=this.Yb(a,b,c),b="log:"+a.getMessage(),n.console&&(n.console.timeStamp?n.console.timeStamp(b):n.console.markTimeline&&n.console.markTimeline(b)),n.msWriteProfilerMark&&n.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.g)for(var e=0,f=void 0;f=c.g[e];e++)f(d);b=b.i}};
g.Yb=function(a,b,c){var d=new ze(a,String(b),this.k);if(c){d.h=c;var e;var f=arguments.callee.caller;try{var h;var k=aa("window.location.href");if(x(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var l,m,p=!1;try{l=c.lineNumber||c.Cc||"Not available"}catch(q){l="Not available",p=!0}try{m=c.fileName||c.filename||c.sourceURL||n.$googDebugFname||k}catch(r){m="Not available",p=!0}h=!p&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:l,fileName:m,stack:c.stack||"Not available"}}e="Message: "+va(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+va(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+va(ve(f)+"-> ")}catch(w){e="Exception trying to expose exception! You win, we lose. "+w}d.g=e}return d};function Pe(a,b){a.log(Ge,b,void 0)}g.info=function(a,b){this.log(He,a,b)};
function Qe(a,b){a.log(Ke,b,void 0)}function Re(a,b){a.log(Le,b,void 0)}var Se={},Te=null;function Ue(){Te||(Te=new Be(""),Se[""]=Te,Te.h=Ie)}function Ve(){Ue();return Te}function Y(a){Ue();var b;if(!(b=Se[a])){b=new Be(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Y(a.substr(0,c));c.getChildren()[d]=b;b.i=c;Se[a]=b}return b};function Z(a){oa.call(this,a);this.name="ydn.error.ArgumentException"}B(Z,oa);function We(a){Error.captureStackTrace?Error.captureStackTrace(this,We):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}B(We,Error);We.prototype.name="ydn.error.InternalError";function Xe(a,b){X.call(this,a,b);this.p=[]}B(Xe,X);function Ye(a,b){for(var c=0;c<a.p.length;c++)a.p[c][0].call(a.p[c][1],b)}Xe.prototype.O=function(a){this.p.length=0;Xe.l.O.call(this,a)};Xe.prototype.H=function(a){this.p.length=0;Xe.l.H.call(this,a)};function Ze(a){this.id="i"+this.count();this.req=a;this.i=!0;this.g=this.h=null;this.j=new Xe;this.k=NaN}Ze.prototype.I=function(){return this.id};var $e=0;Ze.prototype.count=function(){$e++;return $e};
Ze.prototype.listen=function(a){if(a&&a.id==this.id){this.h=a.data;var b=a.error;b&&(b instanceof Error?this.g=b:y(b)?(this.g=Error(b.message),this.g.name=b.name,this.g.source=b,this.g.result=this.h):(this.g=Error(b),this.g.name="UnknownError"));a.done?(this.i=!1,this.g?this.j.H(this.g):this.j.O(this.h),window.clearTimeout(this.k)):Ye(this.j,a.data);return!0}return!1};Ze.prototype.toString=function(){return"Message:"+this.id+(this.i?"*":"")};
Ze.prototype.toJSON=function(){var a=this;this.k=window.setTimeout(function(){if(a.i){var b=Error("message timeout");b.name="TimeOutError";a.listen({id:a.id,req:a.req,error:b})}},5E3);return{id:this.id,req:this.req,group:this.p,name:this.D,data:this.h}};function af(a){J.call(this);var b=x(a)?null:a;this.name=x(a)?a:a.name;this.g=[];this.k=b;this.h=null;this.i={}}B(af,J);af.prototype.w=function(){if(this.h){var a=this;this.h.disconnect(function(){a.h=null;a.g.length=0})}else this.g.length=0};function bf(a){I.call(this,"post");this.message=a}B(bf,I);bf.prototype.getMessage=function(){return this.message};
af.prototype.j=function(a){if(a)if(a.id)for(var b=this.g.length-1;0<=b;b--){if(this.g[b].I()==a.id&&this.g[b].listen(a)){this.g[b].i?25<b&&(a=this.g.splice(b,1),this.g.unshift(a[0])):this.g.splice(b,1);break}}else"info"==a.req?(a.data=this.k,this.h.postMessage(a)):K(this,new bf(a))};af.prototype.toString=function(){return"Pipe:"+this.name};
function cf(a){if(!a.h){a.h=chrome.runtime.connect({name:a.name});var b=A(a.j,a);a.h.onMessage.addListener(b);a.h.onDisconnect.addListener(function(){a.h.onMessage.removeListener(b);a.h=null;a.g.length=0})}return a.h}var df=null;function ef(){if(!df){var a=ff+"-"+ma();df=new af(a)}return df}var ff="default";function gf(a,b){var c=ef(),d=a||ff,e=d+(b?"-"+b:"");c.i[e]||(c.i[e]=new hf(c,d,b||""));return c.i[e]}function hf(a,b,c){this.g=a;this.h=b;this.i=c}
function $(a,b,c){b=new Ze(b);var d=a.i;b.p=a.h;b.D=d;c&&(b.h=c);c=b.j;a=a.g;d=b.toJSON();cf(a).postMessage(d);a.g.push(b);50<a.g.length&&(a.g.length-=1);return c};function jf(a,b,c){this.g=a;this.i=b;this.h=c||null}
function kf(a,b){var c=[];a.h&&c.push({$t:a.h,primary:"true"});for(var d=new lf({id:{$t:"http://www.google.com/m8/feeds/contacts/kts%40gmail.com/base/0"},gd$email:[{address:a.g,primary:"true"}],gd$name:{gd$fullName:{$t:a.i}},gd$phoneNumber:c}),c=[],e=0;e<b.length;e++){for(var f=c,h=e,k=d,l=b[e],m=0,p=mf(k),q=mf(l),r=0;r<p.length;r++)for(var w=p[r],E=0;E<q.length;E++){var W=q[E];w&&w==W&&(m+=1)}p=0;w=k.data.gd$name;E=l.data.gd$name;if(w&&E)for(W=["gd$familyName","gd$givenName","gd$additionalName",
"gd$fullName"],q=[0.06,0.06,0.06,0.12],r=0;4>r;r++){var z=w[W[r]],M=E[W[r]];z&&M==z&&(p+=q[r])}r=0;q=k.Ga();w=l.Ga();q&&q==w&&(r+=0.2);E=0;k=nf(k);l=nf(l);w=k.length;for(q=[];w--;){E=k[w];W=l.length;for(q[w]=0;W--;)M=l[W],E.$t&&M.$t&&((z=E)&&M&&0!=z.length&&0!=M.length?(z=z.trim(),M=M.trim(),z=of(z),M=of(M),z=z.jb&&z.X&&z.jb==M.jb&&z.X==M.X?6<=z.X.length?1:4<=z.X.length?0.8:0.4:z.X&&4<=z.X.length&&z.X==M.X?8<=z.X.length?0.8:4<=z.X.length?0.6:0.4:0):z=0,q[w]=Math.max(q[w],0.7*z));E=pf(q).value}f[h]=
m+p+r+E}d=[];for(e=0;e<b.length;e++){f=d;h=c[e];m=Za;p=0;q=f.length;for(l=void 0;p<q;)k=p+q>>1,r=m(h,f[k]),0<r?p=k+1:(q=k,l=!r);f=l?p:~p;0>f?(Va(d,-(f+1),0,c[e]),h=b.splice(e,1),Va(b,-(f+1),0,h[0])):Va(d,f,0,c[e])}}jf.prototype.toString=function(){return"ContactModel:"+this.g};function qf(){}B(qf,R);qf.prototype.logger=Y("ydn.crm.inj.sugar.FeedPanelRenderer");qf.prototype.q=function(){return"feed-panel"};qf.prototype.g=function(a){var b=qf.l.g.call(this,a);a=a.g.n("div","feed","Feed panel");b.appendChild(a);return b};qf.prototype.refresh=function(){};var rf=["Accounts","Contacts","Leads"],sf=rf.concat(["Tasks"]);function tf(a,b){T.call(this,null,null,a);this.F(b)}B(tf,T);tf.prototype.refresh=function(){var a=this.o,b=this.m();this.h.refresh(b,a)};S(tf,qf);function uf(){}B(uf,R);s(uf);uf.prototype.q=function(){return"field"};
uf.prototype.g=function(a){var b=uf.l.g.call(this,a);a.t=b;var c=a.o;a=a.g;var d,e;d=c.parent.parent.parent.k[c.parent.parent.module_name].module_fields[c.g];e=x(d.label)?d.label.replace(/:$/,""):d.label;"bool"==(c.parent.parent.parent.k[c.parent.parent.module_name].module_fields[c.g].type||"varchar")?(d=a.n("input",{"class":"value",type:"checkbox",disabled:"1"}),a=a.n("span","name")):(d=a.n("label","value"),a=a.n("sup","name"));a.textContent=e;b.classList.add("field");b.setAttribute("name",c.g);
b.appendChild(d);b.appendChild(a);a=c.parent;d=y(null)?Fb(null,["modules",a.parent.module_name]):null;a=y(d)?Fb(d,["groups",a.sa]):null;((a=y(a)?Fb(a,["fields",c.g]):null)?a.normallyHide:0<=vf.indexOf(c.g))&&b.classList.add("normally-hide");return b};
uf.prototype.refresh=function(a,b){L(a,!!b);if(b){var c,d=b.parent.ca();c=d?d.value(b.g):null;var d=t(c),e=a.querySelector(".value");if("LABEL"==e.tagName)e.textContent=d?c:"";else{var f=e.type;if(t(f))switch(f.toLowerCase()){case "checkbox":case "radio":e.checked=c?"checked":null;break;case "select-one":e.selectedIndex=-1;if(x(c))for(var h=0;f=e.options[h];h++)if(f.value==c){f.selected=!0;break}break;case "select-multiple":x(c)&&(c=[c]);for(h=0;f=e.options[h];h++)if(f.selected=!1,c)for(var k,l=0;k=
c[l];l++)f.value==k&&(f.selected=!0);break;default:e.value=null!=c?c:""}}d?a.classList.remove("empty"):a.classList.add("empty")}};function wf(a,b,c){T.call(this,null,b,c);this.F(a)}B(wf,T);S(wf,uf);wf.prototype.refresh=function(){this.h.refresh(this.m(),this.o)};S(wf,uf);function xf(a,b,c){this.domain=a;this.yb=b;this.g=c||null}xf.prototype.s=function(){return this.domain};xf.prototype.I=function(){return this.g.id};xf.prototype.value=function(a){return this.g?this.g[a]:null};xf.prototype.toString=function(){return"Record:"+this.yb+":"+(this.g?this.g.id:void 0)};function yf(a,b,c){function d(d,h){!a[c+h]||b[d]&&b[d].$t==a[c+h]||(e++,b[d]={$t:a[c+h]})}var e=0;if(!a)return 0;b||(b={});d("gd$city","_address_city");d("gd$country","_address_country");d("gd$postcode","_address_postalcode");d("gd$region","_address_state");d("gd$street","_address_street");d("gd$neighborhood","_address_street_2");d("gd$city","_address_street_3");return e}
function zf(a,b){function c(a,c){if(h[a]){b.gd$phoneNumber||(b.gd$phoneNumber=[]);var d;a:{for(d=0;b.gd$phoneNumber&&d<b.gd$phoneNumber.length;d++)if(b.gd$phoneNumber[d].rel==c){d=b.gd$phoneNumber[d];break a}d=null}d?d.$t!=h[a]&&(d.$t=h[a],k++):(b.gd$phoneNumber.push({rel:c,$t:h[a]}),k++)}}function d(a){b.gd$im||(b.gd$im=[]);for(var c=0;c<b.gd$im.length;c++)if(b.gd$im[c].label==a)return b.gd$im[c];return null}function e(){b.gd$name||(b.gd$name={},k++)}function f(a,c){if(h[a]){b.gd$email||(b.gd$email=
[]);var d;a:{for(d=0;b.gd$email&&d<b.gd$email.length;d++)if(!(0<=l.indexOf(d))&&b.gd$email[d].address==h[a])break a;d=-1}if(0<=d){var e=b.gd$email[d];e.rel!=c&&(k++,e.rel=c);l.push(d)}else b.gd$email.push({rel:c,address:h[a]}),l.push(b.gd$email.length-1),k++}}var h=a.g,k=0;!h.name||b.title&&b.title.$t==h.name||(b.title={$t:h.name},k++);var l=[];f("email1","http://schemas.google.com/g/2005#work");f("email2","http://schemas.google.com/g/2005#home");f("email","http://schemas.google.com/g/2005#other");
h.salutation&&(e(),b.gd$name.gd$namePrefix&&b.gd$name.gd$namePrefix.$t==h.salutation||(b.gd$name.gd$namePrefix={$t:h.salutation},k++));h.first_name&&(e(),b.gd$name.gd$givenName&&b.gd$name.gd$givenName.$t==h.first_name||(b.gd$name.gd$givenName={$t:h.first_name},k++));h.last_name&&(e(),b.gd$name.gd$familyName&&b.gd$name.gd$familyName.$t==h.last_name||(b.gd$name.gd$familyName={$t:h.last_name},k++));h.full_name&&(e(),b.gd$name.gd$fullName&&b.gd$name.gd$fullName.$t==h.full_name||(b.gd$name.gd$fullName=
{$t:h.full_name},k++));if(h.twitter){var m=d("Twitter");m?m.address!=h.twitter&&(m.address=h.twitter,k++):(b.gd$im.push({label:"Twitter",address:h.twitter}),k++)}h.facebook&&((m=d("Facebook"),m)?m.address!=h.facebook&&(m.address=h.facebook,k++):(b.gd$im.push({label:"Facebook",address:h.facebook}),k++));h.googleplus&&((m=d("Google Plus"),m)?m.address!=h.googleplus&&(m.address=h.googleplus,k++):(b.gd$im.push({label:"Google Plus",address:h.googleplus}),k++));h.linkedin&&((m=d("Linkedin"),m)?m.address!=
h.linkedin&&(m.address=h.linkedin,k++):(b.gd$im.push({label:"Linkedin",address:h.linkedin}),k++));!h.birthdate||b.gContact$birthday&&b.gContact$birthday.when==h.birthdate||(b.gContact$birthday={when:h.birthdate},k++);c("phone_mobile","http://schemas.google.com/g/2005#mobile");c("phone_work","http://schemas.google.com/g/2005#work");c("phone_home","http://schemas.google.com/g/2005#home");c("phone_fax","http://schemas.google.com/g/2005#work_fax");c("phone_other","http://schemas.google.com/g/2005#other");
for(var p=-1,m=-1,q=0;b.gd$structuredPostalAddress&&q<b.gd$structuredPostalAddress.length;q++)-1==p&&"true"==b.gd$structuredPostalAddress[q].primary||"http://schemas.google.com/g/2005#work"==b.gd$structuredPostalAddress[q].rel?p=q:-1==m&&(m=q);-1==p&&0<=m&&(p=m,b.gd$structuredPostalAddress[p].primary="true",m=-1);0<=p?k+=yf(h,b.gd$structuredPostalAddress[p],"primary"):(p={primary:"true",rel:"http://schemas.google.com/g/2005#work"},q=yf(h,p,"primary"),0<q&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=
[]),b.gd$structuredPostalAddress.push(p),k+=q));0<=m?k+=yf(h,b.gd$structuredPostalAddress[m],"alt"):(p={},q=yf(h,p,"alt"),0<q&&(b.gd$structuredPostalAddress||(b.gd$structuredPostalAddress=[]),b.gd$structuredPostalAddress.push(p),k+=q))};function Af(a,b){this.parent=a;this.g=b}var vf="full_name converted date_entered date_modified modified_user_id modified_by_name created_by created_by_name deleted account_id email_and_name1 invalid_email team_id team_set_id team_count assigned_user_id preferred_language status id".split(" ");Af.prototype.toString=function(){return this.parent+";Field:"+this.g};function Bf(a,b){this.parent=a;this.sa=b||"";this.g={}}Bf.prototype.s=function(){return this.parent.s()};Bf.prototype.ca=function(){return this.parent.ca()};function Cf(a){var b=a.parent.parent.k[a.parent.module_name],c=[],d;for(d in b.module_fields){var e=b.module_fields[d];a.sa&&e.group==a.sa?c.push(d):a.sa||e.group||c.push(d)}return c}function Df(a,b){a.g[b]||(a.g[b]=new Af(a,b));return a.g[b]};function Ef(a,b){J.call(this);this.parent=a;this.module_name=b;this.h={};this.g=null}B(Ef,J);Ef.prototype.s=function(){return this.parent.s()};Ef.prototype.ca=function(){return this.g};function Ff(a,b){var c=b?b.g?b:null:null;(c||a.g)&&c!==a.g&&(a.g=c,K(a,new Gf(a.g,a)))}function Hf(a){var b=If(a.parent,a.module_name);return b.module_name==a.module_name?b.Fa:null}
function Jf(a,b){Ff(a,null);var c=b.g;if(c){var d=[{store:a.module_name,index:"ydn$emails",key:c}];$(Kf(a.parent),"list",d).T(function(a){var b=a[0];window.console.log(this+" receiving sugarcrm "+(b.result?b.result.length:0)+" query result for "+c,a);b.result[0]&&Ff(this,new xf(this.s(),this.module_name,b.result[0]))},a)}}
function Lf(a){a.ca();var b=new Xe,c=Hf(a),d=a.parent.h,e;if(c)e="import-gdata",d={module:a.module_name,kind:c.nb(),"gdata-id":c.I()};else{e="put-record";var f=d.i,c={email1:d.g,full_name:f};f&&0<f.length&&(f=f.split(/\s/),f[0]&&(c.first_name=f[0]),f[1]&&(c.last_name=f[f.length-1]));(d=d.h)&&(c.phone_work=d);d={module:a.module_name,record:c}}$(Kf(a.parent),e,d).L(function(a){window.console.log(a);y(a)?a.id?(a=new xf(this.s(),this.module_name,a),Ff(this,a),b.O(a)):b.H("New record not created."):b.H("Something has done.")},
function(a){b.H(a)},a);return b}
function Mf(a){var b=a.ca(),c=b.I(),d=Hf(a);if(!b||!c||(Hf(a)?0:a.g&&!If(a.parent,null).Fa))throw new Nf("link");if(d)return c=a.module_name+"#"+ +new Date(d.data.updated.$t)+"-NaN",b="sugarcrm://"+a.s()+"/"+a.module_name+"/"+b.I(),d={kind:d.nb(),"gdata-id":d.I(),"external-id":{label:c,value:b}},$(Kf(a.parent),"link",d).T(function(a){window.console.log("link",a);a=new lf(a);Of(this.parent,a)},a);d={};zf(b,d);b=new Date(b.value("date_modified"));d.gContact$externalId=[{label:a.module_name+"#"+ma()+
"-"+b.getTime(),value:"sugarcrm://"+a.s()+"/"+a.module_name+"/"+c}];window.console.log("exporting new-entry",d);b=$(gf(),"new-entry",d);b.L(function(a){window.console.log("export",a);a=new lf(a);Of(this.parent,a);return a},function(a){throw Error(a.name+": "+a.message);},a);return b}Ef.prototype.toString=function(){var a="";this.g&&(a+=":"+this.g);var b=Hf(this);b&&(a+=":"+b);return"RecordModel:"+this.module_name+a};function Pf(){}B(Pf,zd);s(Pf);Pf.prototype.q=function(){return"record-group"};Pf.prototype.g=function(a){var b=Pf.l.g.call(this,a);a.t=b;H(b,this.q());for(var c=a.o,d=a.g,e=Cf(c),f=0;f<e.length;f++){var h=Df(c,e[f]),k=uf.P(),h=new wf(h,k,d);a.N(h,!0)}return b};function Qf(a,b,c){V.call(this,Dd,b,c);this.F(a)}B(Qf,V);Qf.prototype.refresh=function(){for(var a=0;a<P(this);a++)Q(this,a).refresh()};S(Qf,Pf);function Rf(){}B(Rf,zd);s(Rf);Rf.prototype.q=function(){return"address"};Rf.prototype.g=function(a){var b=Rf.l.g.call(this,a),c=a.o,d=a.g;a.t=b;for(var e=Cf(c),f=0;f<e.length;f++){var h=Df(c,e[f]),k=uf.P(),h=new wf(h,k,d);a.N(h,!0)}return b};function Sf(a,b){var c=Rf.P();V.call(this,Dd,c,b);this.F(a)}B(Sf,V);Sf.prototype.refresh=function(){for(var a=0;a<P(this);a++)Q(this,a).refresh()};S(Sf,Rf);function Tf(){}B(Tf,R);s(Tf);Tf.prototype.q=function(){return"record-group"};Tf.prototype.g=function(a){var b=Tf.l.g.call(this,a);a.t=b;b.setAttribute("name",a.o.sa);var c=Pf.P(),c=new Qf(a.o,c,a.g);a.N(c,!0);return b};function Uf(a,b,c){T.call(this,null,b,c);this.F(a)}B(Uf,T);Uf.prototype.refresh=function(){for(var a=0;a<P(this);a++)Q(this,a).refresh()};S(Uf,Tf);function Vf(){}B(Vf,R);s(Vf);Vf.prototype.q=function(){return"address"};Vf.prototype.g=function(a){var b=Vf.l.g.call(this,a),c=a.o,d=a.g;b.setAttribute("name",c.sa);b.classList.add("record-group");var e=d.n("div"),f=c.sa.replace("_"," "),f=f.charAt(0).toUpperCase()+f.substr(1);e.textContent=f;b.appendChild(e);d=d.n("div","content");b.appendChild(d);a.t=b;c=new Sf(c,a.g);a.N(c,!0);return b};function Wf(a,b){Uf.call(this,a,new Vf,b)}B(Wf,Uf);Wf.prototype.refresh=function(){for(var a=0;a<P(this);a++)Q(this,a).refresh()};S(Wf,Vf);function Xf(){}B(Xf,zd);s(Xf);Xf.prototype.q=function(){return"record-body"};
Xf.prototype.g=function(a){var b=Xf.l.g.call(this,a),c=a.g,d=c.n("div","record-body-header"),e=c.n("div","record-body-content");b.appendChild(d);b.appendChild(e);a.t=b;e=c.n("a",{name:"view"},"view");e.href="#";d.appendChild(e);var d=a.o,e=[],f=d.parent.k[d.module_name],h;for(h in f.module_fields){var k=f.module_fields[h].group;-1==e.indexOf(k)&&e.push(k)}h=Tf.P();for(f=0;f<e.length;f++){var k=e[f],l;l=d;var m=k;l.h[m]||(l.h[m]=new Bf(l,m));l=l.h[m];k=/address/i.test(k)?new Wf(l,c):new Uf(l,h,c);
a.N(k,!0)}return b};function Yf(a){return a.querySelector("a[name=view]")};function Zf(a,b,c){b=b||Xf.P();V.call(this,Dd,b,c);this.F(a)}B(Zf,V);g=Zf.prototype;g.logger=Y("ydn.crm.inj.sugar.module.Body");g.ka=function(){return Kb("record-body-content",this.m())};g.v=function(){Zf.l.v.call(this);var a=O(this);a.listen(this.o,[$f,ag],this.refresh);a.listen(Yf(this.m()),"click",this.zc,!0)};
g.zc=function(){var a=this.m(),b=Kb("record-body-header",a),a=Kb("record-body-content",a),b=Yf(b);a.classList.contains("view")?(b.textContent="view",a.classList.remove("view")):(b.textContent="hide",a.classList.add("view"));return!0};
g.refresh=function(a){var b=this.o,c=this.m(),d=b.ca();window.console.log("module body "+b.module_name+" refresh for "+a.type,d);if(d)for(L(c,!0),a.type==$f&&(b=this.m(),a=Kb("record-body-header",b),b=Kb("record-body-content",b),Yf(a).textContent="view",b.classList.remove("view")),a=0;a<P(this);a++)b=Q(this,a),b instanceof Uf?b.refresh():b instanceof Wf&&b.refresh();else L(c,!1)};S(Zf,Xf);function bg(){}B(bg,R);bg.prototype.logger=Y("ydn.crm.inj.sugar.module.PanelRenderer");bg.prototype.q=function(){return"record-panel"};
bg.prototype.g=function(a){var b=bg.l.g.call(this,a),c=a.o,d=c.module_name,e=a.g,f=e.n("div","record-root");b.appendChild(f);var h=e.n("div","record-header"),k=e.n("div","record-content");f.appendChild(h);f.appendChild(k);a.t=f;f.classList.add(d);var f=e.n("span",{"class":"icon"},d.substr(0,2)),k=e.n("a",{href:"#","class":"title"}),l=e.n("a",{href:"#link","class":"link"},"link"),m=e.n("span","synced");L(l,!1);L(m,!1);f=e.n("div","header",[f,k,l,m]);d=e.n("a",{href:"#import"},"Add to "+d);d.style.zIndex=
1E3;d=e.n("div",{"class":"import"},d);h.appendChild(d);h.appendChild(f);c=new Zf(c,null,e);a.N(c,!0);return b};
bg.prototype.refresh=function(a,b){var c=a.querySelector(".import"),d=a.querySelector(".header"),e=a.querySelector(".title"),f=c.nextElementSibling,c=c.querySelector("a"),h=a.querySelector("a.link"),f=f.querySelector(".synced");b.Cb||b.Mb?L(a,!0):L(a,!1);L(d,!!b.title);e.textContent=b.title;b.Cb?e.href=b.Cb:e.removeAttribute("href");c.textContent=b.Mb;c.setAttribute("title",b.Nb);(h.textContent=b.xb)?(h.setAttribute("title",b.Nb),h.href="#"+b.xb):h.removeAttribute("href");L(f,b.uc)};function cg(a,b){T.call(this,null,null,a);this.F(b)}B(cg,T);g=cg.prototype;g.logger=Y("ydn.crm.inj.sugar.module.Panel");g.ka=function(){return Kb("record-content",this.m())};g.v=function(){cg.l.v.call(this);var a=this.m(),b=a.querySelector(".import a");O(this).listen(b,"click",this.ic,!1);a=a.querySelector("a.link");O(this).listen(a,"click",this.lc,!1);O(this).listen(this.o,[$f,ag],this.refresh)};
g.refresh=function(){var a=this.o,b=Kb("record-header",this.m());this.h.refresh(b,dg(this));b=this.ka();L(b,!!a.ca())};
function dg(a){var b=a.o;a=Hf(b);var c=b.parent.h,d=b.ca(),e=b.module_name,f="",h=null,k=!1,l="",m="",p="",q="";c&&(l="Add to "+e,m="Add current contact "+c.g+" to SugarCRM "+e,d?(d.g?(f=d.g.full_name||"",f||(f=(d.g.first_name||"").trim(),h=(d.g.last_name||"").trim(),f=f+" "+h)):f="",h=d.I(),h="https://"+d.domain+"/index.php?module="+d.yb+"&action=DetailView&record="+h,m=l="",p="export",q="Export this SugarCRM "+e+" to Gmail My Contacts address book",a&&(d=Hf(b),b.g&&d?(eg(d,b.s(),b.module_name),
b=!0):b=!1,b?(k=!0,q=p=""):(p="link",q="Link Gmail contact "+a.id.match(/\w+$/)[0]+" with this SugarCRM "+e))):a&&(l="Import to "+e,m="Import Gmail contact "+a.id.match(/\w+$/)[0]+" to SugarCRM "+e,q=p=""));return{title:f,Cb:h,Mb:l,Nb:m,uc:k,xb:p,Dc:q}}
g.lc=function(a){a.preventDefault();var b=this.m(),c=a.target,d=b.querySelector(".import"),e=d.nextElementSibling;a=Ra(xb(c),"error");Ra(xb(c),"null")||(a?(c.textContent="Error recorded. Thanks.",c.removeAttribute("href")):(H(c,"null"),a=this.o,c.textContent="Linking...",Mf(a).L(function(){c.textContent="Done.";H(c,"null");L(d,!1);L(e,!0);K(this,new I("change"))},function(a){yb(c,"null");H(c,"error");a=a instanceof Error?a.name+" "+a.message:y(a)?fg(a):a;c.setAttribute("title",a);var b=Vb(c);$(gf(),
"log",{"class":"RecordHeader",method:"handleLinkClick",context:c.textContent,html:b?b.outerHTML:"",error:a});c.textContent="Error"},this)))};
g.ic=function(a){a.preventDefault();var b=a.target;a=b.getAttribute("rel");if("error-report"==a)b.textContent="Recorded. Thanks",b.setAttribute("rel","null"),b.removeAttribute("title"),b.removeAttribute("href"),yb(b,"error");else if("null"!=a){var c=this.o;b.textContent="adding... to "+c.module_name;a=Lf(c);Hf(c)?a=a.L(function(){b.textContent="Added. Linking...";return Mf(c)},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:y(a)?fg(a):a;b.setAttribute("title",
"Error importing: "+a);H(b,"error");var c=Vb(b);$(gf(),"log",{"class":"RecordHeader",method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this):b.textContent="Importing...";a.L(function(){L(b.parentElement,!1);K(this,new I("change",this))},function(a){b.setAttribute("rel","error-report");a=a instanceof Error?a.name+" "+a.message:y(a)?fg(a):a;b.setAttribute("title","Error linking: "+a);H(b,"error");var c=Vb(b);$(gf(),"log",{"class":"RecordHeader",
method:"handleImportClick",context:b.textContent,html:c?c.outerHTML:"",error:a});b.textContent="error"},this)}};S(cg,bg);function gg(){}B(gg,zd);s(gg);gg.prototype.logger=Y("ydn.crm.inj.sugar.FeedBodyRenderer");gg.prototype.q=function(){return"feed-panel"};
gg.prototype.g=function(a){var b=gg.l.g.call(this,a),c=a.g,d=c.n("div","feed-header"),e=c.n("div","feed-body");b.appendChild(d);b.appendChild(e);a.t=b;c=c.n("div","title","Feed");d.appendChild(c);for(d=0;d<rf.length;d++){a:{for(var c=a,e=rf[d],f=0;f<c.h.length;f++){var h=c.h[f];if(h.o.module_name==e){C.splice.call(c.h,f,1);c=h;break a}}f=c.o;f.j[e]||(f.j[e]=new Ef(f,e),f.h&&Jf(f.j[e],f.h));c=new cg(c.g,f.j[e])}a.N(c,!0)}return b};
gg.prototype.refresh=function(a,b){var c=b.h;L(a,!!c);if(c){var d=Kb("feed-header",a);Kb("feed-body",a);d.querySelector(".title").textContent=c.g}};function hg(a,b){var c=gg.P();V.call(this,Dd,c,a);this.F(b);this.h=[]}B(hg,V);hg.prototype.ka=function(){return Kb("feed-body",this.m())};hg.prototype.v=function(){hg.l.v.call(this);O(this).listen(this.o,ig,this.refresh)};hg.prototype.refresh=function(a){var b=this.o,c=this.m();this.Ja.refresh(c,b);if(a.type==ig)for(b=P(this)-1;0<=b;b--)Q(this,b).refresh(a)};S(hg,gg);function jg(){}B(jg,R);jg.prototype.logger=Y("ydn.crm.inj.sugar.HeaderRenderer");jg.prototype.q=function(){return"sugar-header"};
jg.prototype.g=function(a){var b=jg.l.g.call(this,a);a=a.g;H(b,this.q());var c=a.n("a"),c=a.n("div",{"class":"main-title",title:"SugarCRM"},[c]);b.appendChild(c);var c=[],d=chrome.extension.getURL(ge)+"#credentials",d=a.n("a",{href:d,target:"option-page"},"Setup host permission");d.setAttribute("title","Your permission is required to connect your server from this extension. Without permission request to server will be slow.");c.push(d);c=a.n("div",{"class":"host-permission"},c);b.appendChild(c);var d=
a.n("input",{name:"username",type:"text"}),d=a.n("div",null,[d]),e=a.n("input",{name:"password",type:"password"}),e=a.n("div",null,[e]),f=a.n("div","message");a=a.n("div","login-form",[d,e,f]);L(c,!1);L(a,!1);b.appendChild(a);return b};function kg(a,b){T.call(this,null,null,a);this.F(b)}B(kg,T);g=kg.prototype;g.logger=Y("ydn.crm.inj.sugar.Header");
g.v=function(){kg.l.v.call(this);var a=this.m(),b=O(this);this.m().querySelector(".host-permission");a=a.querySelector(".login-form");a=new Vc(a);b.listen(a,"key",this.yc);O(this).listen(ef(),"post",function(a){a=a.getMessage();if("update-host-permission"==a.req&&(a=a.data)&&a.origins){a=a.origins;for(var b=this.info.s(),e=0;e<a.length;e++)if((new lg(a[e])).s()==b){Qe(this.logger,"has host permission on "+b);var f=this.o;f.i.hostPermission=!0;this.F(f)}}},!1)};
g.yc=function(a){if(13==a.g){var b=this.m().querySelector(".login-form"),c=this.o;a=b.querySelector("input[name=username]").value;var d=b.querySelector("input[name=password]").value,e=b.querySelector(".message");e.textContent="logging in...";mg(c,a,d).L(function(){c.isLogin()?(e.textContent="",L(b,!1)):e.textContent="login failed"},function(a){e.textContent="Error: "+a},this)}};g.s=function(){return this.o.s()};
g.refresh=function(){var a=this.o,b=a.s(),c=this.m(),d=c.querySelector(".main-title a"),e=c.querySelector(".login-form"),f=c.querySelector(".host-permission");d.textContent=b;d.href=a.i.baseUrl||null||"https://"+b;e.querySelector("input[name=username]").textContent=a.i.userName||null||"";L(e,!1);L(f,!1);L(c,!0);a.isLogin()||$(gf("sugarcrm",b),"about").T(function(a){L(e,!a.isLogin)});a.isLogin()&&!a.i.hostPermission&&(a=chrome.extension.getURL(he),f.querySelector("a").href=a+"?"+b,L(f,!0))};S(kg,jg);Y("ydn.gdata.base");function of(a){var b,c=a.match(/^\D*0*(\d{1,2}\D)?\D*0*(.+)/);c?(b=c[1].replace(/\D/g,""),a=c[2].replace(/\D/g,"")):a=a.replace(/\D/g,"");return{jb:b,X:a}};function ng(a){Error.captureStackTrace?Error.captureStackTrace(this,ng):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}B(ng,Error);B(ng,Error);B(ng,Error);function Nf(a){Error.captureStackTrace?Error.captureStackTrace(this,Nf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationError"}B(Nf,Error);function og(a){this.data=a}og.prototype.I=function(){return this.data.id.$t};og.prototype.Ga=function(){return this.data.title?this.data.title.$t:void 0};og.prototype.Ua=function(){return this.data.content||null};function pg(a){this.data=a}B(pg,og);var qg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function rg(a){if(sg){sg=!1;var b=n.location;if(b){var c=b.href;if(c&&(c=(c=rg(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw sg=!0,Error();}}return a.match(qg)}var sg=F;Y("goog.net.XhrIo");function tg(){this.g=ma()}var ug=new tg;tg.prototype.set=function(a){this.g=a};tg.prototype.get=function(){return this.g};function vg(a){this.j=a||"";this.k=ug}vg.prototype.g=!0;vg.prototype.h=!1;function wg(a){a=new Date(a.k);return xg(a.getFullYear()-2E3)+xg(a.getMonth()+1)+xg(a.getDate())+" "+xg(a.getHours())+":"+xg(a.getMinutes())+":"+xg(a.getSeconds())+"."+xg(Math.floor(a.getMilliseconds()/10))}function xg(a){return 10>a?"0"+a:String(a)}function yg(a,b){var c=(a.k-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function zg(a){vg.call(this,a)}B(zg,vg);zg.prototype.h=!0;
zg.prototype.i=function(a){var b;switch(a.j.value){case De.value:b="dbg-sh";break;case Fe.value:b="dbg-sev";break;case Ge.value:b="dbg-w";break;case He.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.j," ");this.g&&c.push("[",wg(a),"] ");c.push("[",Ca(yg(a,this.k.get())),"s] ");c.push("[",va(a.i),"] ");c.push('<span class="',b,'">',ua(Ca(va(a.getMessage()))));this.h&&a.h&&c.push("<br>",ua(Ca(a.g||"")));c.push("</span>");c.push("<br>");return c.join("")};
function Ag(a){vg.call(this,a)}B(Ag,vg);Ag.prototype.i=function(a){var b=[];b.push(this.j," ");this.g&&b.push("[",wg(a),"] ");b.push("[",yg(a,this.k.get()),"s] ");b.push("[",a.i,"] ");b.push(a.getMessage());this.h&&a.h&&b.push("\n",a.g);b.push("\n");return b.join("")};function Bg(){this.k=A(this.p,this);this.g=new Ag;this.g.g=!1;this.h=this.g.h=!1;this.i="";this.j={}}Bg.prototype.p=function(a){if(!this.j[a.i]){var b=this.g.i(a),c=Cg;if(c)switch(a.j){case De:Dg(c,"info",b);break;case Fe:Dg(c,"error",b);break;case Ge:Dg(c,"warn",b);break;default:Dg(c,"debug",b)}else window.opera?window.opera.postError(b):this.i+=b}};var Cg=window.console;function Dg(a,b,c){if(a[b])a[b](c);else a.log(c)};function Eg(a){this.k=A(this.p,this);this.h=new zg;this.i=this.h.g=!1;this.g=a;this.j=this.g.ownerDocument||this.g.document;a=this.g?new Xb(Sb(this.g)):pa||(pa=new Xb);var b=null,c=a.g;if(D&&c.createStyleSheet)a=b=c.createStyleSheet(),D&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";else{c=Lb(a.g,"head",void 0,void 0)[0];c||(b=Lb(a.g,"body",void 0,void 0)[0],c=a.n("head"),b.parentNode.insertBefore(c,b));var d=b=a.n("style");D&&t(d.cssText)?d.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
d.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";a.appendChild(c,b)}this.g.className+=" logdiv"}
Eg.prototype.p=function(a){var b=100>=this.g.scrollHeight-this.g.scrollTop-this.g.clientHeight,c=this.j.createElement("div");c.className="logmsg";c.innerHTML=this.h.i(a);this.g.appendChild(c);b&&(this.g.scrollTop=this.g.scrollHeight)};Eg.prototype.clear=function(){this.g.innerHTML=""};var Fg=null,Gg=null;Y("ydn.debug");function Hg(a,b,c){if(da(b))b=new Ce("log",b);else if(x(b)){b=b.toUpperCase();if(!Ne){Ne={};for(var d=0,e;e=Me[d];d++)Ne[e.value]=e,Ne[e.name]=e}b=Ne[b]||null}else b=Je;Y(a||"ydn").h=b;t(c)?Gg||(a=Gg=new Eg(c),!0!=a.i&&(c=Ve(),b=a.k,c.g||(c.g=[]),c.g.push(b),a.i=!0),Ve().h=Ge):Fg||Gg||(a=Fg=new Bg,!0!=a.h&&(c=Ve(),b=a.k,c.g||(c.g=[]),c.g.push(b),a.h=!0),Ve().h=Ge)};function lg(a,b){var c;if(a instanceof lg)this.ra=t(b)?b:a.ra,Ig(this,a.Ca),this.eb=a.eb,this.Sa=a.s(),Jg(this,a.Va),this.Oa=a.Oa,Kg(this,a.g.ha()),this.Ta=a.Ta;else if(a&&(c=rg(String(a)))){this.ra=!!b;Ig(this,c[1]||"",!0);var d=c[2]||"";this.eb=d?decodeURIComponent(d):"";this.Sa=(d=c[3]||"")?decodeURIComponent(d):"";Jg(this,c[4]);this.Oa=(d=c[5]||"")?decodeURIComponent(d):"";Kg(this,c[6]||"",!0);this.Ta=(c=c[7]||"")?decodeURIComponent(c):""}else this.ra=!!b,this.g=new Lg(null,0,this.ra)}g=lg.prototype;
g.Ca="";g.eb="";g.Sa="";g.Va=null;g.Oa="";g.Ta="";g.ra=!1;g.toString=function(){var a=[],b=this.Ca;b&&a.push(Mg(b,Ng),":");if(b=this.s()){a.push("//");var c=this.eb;c&&a.push(Mg(c,Ng),"@");a.push(encodeURIComponent(String(b)));b=this.Va;null!=b&&a.push(":",String(b))}if(b=this.Oa)this.Sa&&"/"!=b.charAt(0)&&a.push("/"),a.push(Mg(b,"/"==b.charAt(0)?Og:Pg));(b=this.g.toString())&&a.push("?",b);(b=this.Ta)&&a.push("#",Mg(b,Qg));return a.join("")};g.ha=function(){return new lg(this)};
function Ig(a,b,c){a.Ca=c?b?decodeURIComponent(b):"":b;a.Ca&&(a.Ca=a.Ca.replace(/:$/,""))}g.s=function(){return this.Sa};function Jg(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Va=b}else a.Va=null}function Kg(a,b,c){b instanceof Lg?(a.g=b,Rg(a.g,a.ra)):(c||(b=Mg(b,Sg)),a.g=new Lg(b,0,a.ra))}function Mg(a,b){return x(a)?encodeURI(a).replace(b,Tg):null}function Tg(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}
var Ng=/[#\/\?@]/g,Pg=/[\#\?:]/g,Og=/[\#\?]/g,Sg=/[\#\?@]/g,Qg=/#/g;function Lg(a,b,c){this.g=a||null;this.h=!!c}function Ug(a){if(!a.u&&(a.u=new se,a.Q=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Vg(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}g=Lg.prototype;g.u=null;g.Q=null;g.mb=function(){Ug(this);return this.Q};
g.add=function(a,b){Ug(this);this.g=null;a=Vg(this,a);var c=this.u.get(a);c||this.u.set(a,c=[]);c.push(b);this.Q++;return this};g.remove=function(a){Ug(this);a=Vg(this,a);return ue(this.u.h,a)?(this.g=null,this.Q-=this.u.get(a).length,this.u.remove(a)):!1};g.clear=function(){this.u=this.g=null;this.Q=0};function Wg(a,b){Ug(a);b=Vg(a,b);return ue(a.u.h,b)}g.ja=function(){Ug(this);for(var a=this.u.Z(),b=this.u.ja(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
g.Z=function(a){Ug(this);var b=[];if(x(a))Wg(this,a)&&(b=Ta(b,this.u.get(Vg(this,a))));else{a=this.u.Z();for(var c=0;c<a.length;c++)b=Ta(b,a[c])}return b};g.set=function(a,b){Ug(this);this.g=null;a=Vg(this,a);Wg(this,a)&&(this.Q-=this.u.get(a).length);this.u.set(a,[b]);this.Q++;return this};g.get=function(a,b){var c=a?this.Z(a):[];return 0<c.length?String(c[0]):b};
g.toString=function(){if(this.g)return this.g;if(!this.u)return"";for(var a=[],b=this.u.ja(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Z(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.g=a.join("&")};g.ha=function(){var a=new Lg;a.g=this.g;this.u&&(a.u=this.u.ha(),a.Q=this.Q);return a};function Vg(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c}
function Rg(a,b){b&&!a.h&&(Ug(a),a.g=null,ne(a.u,function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.g=null,this.u.set(Vg(this,e),Ua(a)),this.Q+=a.length))},a));a.h=b};Y("ydn");function Xg(a){return!x(a)||sa(a)?{}:JSON.parse(a)}function fg(a){var b;try{b=Yg(a)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function Yg(a){return JSON.stringify(a,void 0,void 0)};Y("ydn.http");function Zg(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Pa(b,function(b){return Zg(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&Zg(a[0],b);if(v(b))return 1==b.length&&Zg(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Zg(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Zg(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};Y("ydn");function pf(a){if(!u(a))throw new ng("Array required.");if(t(void 0))return a=Ma(a,function(a){return a[void 0]}),pf(a);for(var b=Number.NaN,c=-1,d=0;d<a.length;d++)!isNaN(a[d])&&(isNaN(b)||a[d]>b)&&(b=a[d],c=d);return{value:b,index:c}};Y("ydn.xml");function bh(a){var b;if(t(a.id))b=a.id.$t;else if(t(a.batch$id))b=a.batch$id.$t;else if(t(a.g))b=a.g.$t;else throw new ng("id or batch:id required.");this.id=b;this.data=a}B(bh,pg);g=bh.prototype;g.logger=Y("ydn.gdata.Entry");g.nb=function(){return this.kind};g.Ga=og.prototype.Ga;g.I=function(){return this.id};g.tc=["id","batch$id","link","category"];g.Ua=og.prototype.Ua;
g.update=function(a){var b=["batch$status","batch$operation","status"],c;for(c in a.data)a.data.hasOwnProperty(c)&&y(a.data[c])&&!Ra(b,c)&&!Ra(this.tc,c)&&(this.data[c]=a.data[c])};function ch(a){bh.call(this,a);a=(a=this.id.match(/https?:\/\/www.google.com\/m8\/feeds\/(group|contact|batch)s?\/([^\/]+)\/?(\w+)\/?(\w*)?/))?{Bc:"m8",kind:a[1],user_id:a[2]?a[2].replace("%40","@"):"",projection:a[3],id:a[4]}:null;window.console.assert(!!a,"Invalid m8 entry: "+this.id);this.user_id=a.user_id;window.console.assert(a.kind==this.kind,"Invalid kind: "+a.kind+" vs "+this.kind)}B(ch,bh);ch.prototype.logger=Y("ydn.gdata.m8.Entry");ch.prototype.type="m8";function lf(a){ch.call(this,a)}B(lf,ch);lf.prototype.kind="contact";lf.prototype.logger=Y("ydn.gdata.m8.ContactEntry");lf.prototype.nb=function(){return"contact"};lf.prototype.getName=function(a){var b=a?"":this.Ga();if(a||0==b.length)a=this.data.gd$name,y(a)&&(b=a.gd$fullName.$t||"",0==b.length&&(b=(a.gd$givenName.$t||"")+" "+(a.gd$familyName.$t||"")));return ta(b)};function mf(a){var b=a.data.gd$email;a=[];for(var b=u(b)?b:b?[b]:[],c=0;c<b.length;c++)a.push(b[c].address);return a}
function nf(a){a=a.data.gd$phoneNumber;a=u(a)?a:y(a)?[a]:[];for(var b=[],c=0;c<a.length;c++)a[c].$t&&!sa(a[c].$t)&&b.push(a[c].$t);return b}function eg(a,b,c){a=a.data;a=u(a.gContact$externalId)?a.gContact$externalId:a.gContact$externalId?[a.gContact$externalId]:[];for(var d=0;d<a.length;d++)if(a[d].value){var e=a[d].value.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/);if(e){var f=e[1],h=e[2],k=e[3],e=e[4];if(!("sugarcrm"!=f||b&&b!=h||c&&c!=k))return{domain:h,yb:k,id:e,scheme:f}}}return null};function dh(a,b,c){N.call(this,a);a=new eh(b,c);this.F(a)}B(dh,N);dh.prototype.q=function(){return"sugar-panel"};dh.prototype.$=function(){dh.l.$.call(this);var a=this.g,b=this.m();H(b,this.q());b=new kg(a,this.o);this.N(b,!0);a=new hg(a,this.o);this.N(a,!0)};dh.prototype.v=function(){dh.l.v.call(this)};dh.prototype.logger=Y("ydn.crm.inj.SugarPanel");function fh(){this.g=null}var gh;function hh(a){a.g?Ab.call(void 0):$(gf(),"user-setting").T(function(a){this.g=a||ih;Ab.call(void 0)},a)}function jh(a,b){for(var c=gf("sugarcrm",b),d=[],e=0;e<sf.length;e++)d.push($(c,"info-module",sf[e]));return(new le(d)).T(function(a){for(var b={},c=0;c<sf.length;c++)b[sf[c]]=a[c][1];for(var d in b)if(a=Fb(this.g,"Modules",d,"Display","NormallyHide")){var c=b[d],e;for(e in c.module_fields)a[e]&&(c.module_fields[e].normallyHide=a[e])}return b},a)}var ih={};var ig="context-data-change",$f="record-change",ag="new-gdata";function kh(a,b){I.call(this,a,b)}B(kh,I);function lh(a,b){I.call(this,ig,b);this.Fa=a}B(lh,kh);function Gf(a,b){I.call(this,$f,b);this.g=a}B(Gf,kh);function mh(a,b){I.call(this,ag,b)}B(mh,kh);function eh(a,b){J.call(this);this.i=a;this.k=b;this.g=this.h=null;this.info={};this.j={}}B(eh,J);eh.prototype.isLogin=function(){return!!this.i.isLogin};function Kf(a){return gf("sugarcrm",a.s())}function If(a,b){if(!a.g)return{module_name:null,Fa:null};if(b)for(var c=0;c<a.g.length;c++){var d=a.g[c];if(eg(d,a.s(),b))return{module_name:b,Fa:d}}return{module_name:null,Fa:a.g[0]||null}}
function Of(a,b){for(var c=0;c<a.g.length;c++)if(a.g[c].I()==b.I()){a.g[c]=b;return}a.g.push(b);K(a,new mh(0,a))}function nh(a,b){a.h=b;a.g=null;for(var c in a.j)Jf(a.j[c],b);K(a,new lh(b,a));a.h&&$(gf(),"gdata-list-contact-by-email",a.h.g).T(function(a){this.g=a.map(function(a){return new lf(a)});kf(this.h,this.g);0<this.g.length&&K(this,new mh(0,this))},a)}eh.prototype.s=function(){return this.i.domain};
function mg(a,b,c){var d={};d.domain=a.s();d.baseUrl=a.i.baseUrl||null;d.Ec=b;d.password=c;return $(gf("sugarcrm",a.s()),"login",d).T(function(a){this.i=a},a)}eh.prototype.toString=function(){return"ydn.crm.sugar.model.Sugar:"+this.s()};function oh(a){N.call(this,a)}B(oh,N);oh.prototype.$=function(){oh.l.$.call(this);var a=this.m(),b=this.g;H(a,"sugarcrm-link-panel");b=b.createElement("a");b.textContent="Setup SugarCRM";b.href=chrome.extension.getURL(ge)+"#credentials";b.className="sugarcrm-setup-link";a.appendChild(b);L(a,!1)};oh.prototype.F=function(a){oh.l.F.call(this,a);a=u(a)&&0<a.length;L(this.m(),!a)};function ph(a){N.call(this,a);this.j=new ie(400);tc(this.j,ke,this.wc,!1,this);this.k=0;this.D="";gh||(gh=new fh);this.ua=gh;hh(this.ua);this.h=document.createElement("div");a=new oh;this.N(a,!0)}B(ph,N);g=ph.prototype;g.q=function(){return"inj"};g.$=function(){ph.l.$.call(this);var a=this.m();H(a,this.q())};g.v=function(){ph.l.v.call(this)};g.logger=Y("ydn.crm.inj.SidebarPanel");
function qh(a,b){var c=b.domain,d=jh(a.ua,c);d.T(function(a){a=new dh(this.g,b,a);for(var d=0;d<P(this);d++){var h=Q(this,d);if(h instanceof dh&&h.o.s()==c)return}Qe(this.logger,"sugar panel "+c+" created");this.N(a,!0)},a);return d}
g.init=function(){return 1<P(this)?de():$(gf(),"list-sugarcrm").T(function(a){Q(this,0).F(a);for(var b=[],c=0;c<a.length;c++){var d;a:{for(d=1;d<P(this);d++){var e=Q(this,d);if(e instanceof dh&&e.o.s()==a[c]){d=!0;break a}}d=!1}d||b.push(qh(this,a[c]))}return new le(b)},this)};g.update=function(){Re(this.logger,"updating sidebar");this.init();this.k=0;this.D=location.href;je(this.j)};
g.F=function(a){ph.l.F.call(this,a);var b=P(this);1<b?Qe(this.logger,"setting module to "+b+" children"):Pe(this.logger,"no sugar instance");for(var c=1;c<b;c++){var d=Q(this,c);if(d instanceof dh){var e=a,f=d.o,d=d.m();e.g?(L(d,!0),nh(f,e)):L(d,!1)}else Pe(this.logger,"unknown panel at "+c)}};
function rh(a,b){var c=a.querySelector("img[jid]");if(!c){if(b){var d=a.querySelector("span[title]");if(d&&(c=d.getAttribute("title").trim(),0<c.length&&(d=document.querySelector('span[name="'+c+'"][email]'))))return d=d.getAttribute("email"),new jf(d,c)}return null}for(d=c.getAttribute("jid");c&&"TD"!=c.tagName;)c=c.parentElement;c=c.nextElementSibling.querySelector("span[title]").getAttribute("title");return new jf(d,c)}
g.wc=function(){this.k++;this.D!=location.href&&this.j.stop();if(40<this.k)this.j.stop();else{var a=document.querySelector('table[role="presentation"]');if(a){var b=a.querySelector("tr");if(a=b.children[2].querySelector("table")){var c=rh(a,5<this.k);if(c){this.j.stop();for(var d,b=a,e=0;4>e;e++)if(b.parentElement&&(b=b.parentElement,b.nextElementSibling&&"DIV"==b.nextElementSibling.tagName)){var b=b.parentElement,e=b.lastElementChild,f=!!e.querySelector("a[href]");d=document.createElement("div");
f?b.parentElement.insertBefore(d,e):b.appendChild(d);break}d||(b=a.ownerDocument,d=b.createElement("td"),d.setAttribute("colspan","2"),b=b.createElement("tr"),b.className="widget-topraw",b.appendChild(d),(a.querySelector("tbody")||a).appendChild(b));this.h.parentElement?(this.h.parentElement.removeChild(this.h),d.appendChild(this.h)):(d.appendChild(this.h),this.render(this.h));L(this.h,!0);de(null).T(function(){this.F(c)},this)}else Pe(this.logger,"Could not sniff contact identifier."),L(this.h,!1)}else Pe(this.logger,
"No Contact panel found."),L(this.h,!1)}}};function sh(){this.g=this.h=null}sh.prototype.init=function(a){this.h=a;a=document.getElementById("user-login");tc(a,"click",function(a){a.preventDefault();window.open(a.target.href,void 0,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=400, top="+(screen.height/2-200)+", left="+(screen.width/2-300));return!0},!0,this)};
function th(a,b){if(!b||b instanceof Error)a.g=null;else if(a.g=b,a.h){var c=document.getElementById("user-login"),d=document.getElementById("user-name"),e=Kb("login-message",a.h);b instanceof Error?(e.textContent=b.message,L(e,!0),L(c,!1)):a.g.is_login?(c.href=a.g.logout_url,c.textContent="logout",d.textContent=a.g.email,L(e,!1),L(c,!1)):(c.href=a.g.login_url,c.textContent="login",c.style.display="",d.textContent="",L(e,!0),L(c,!0))}};function uh(){var a="gmail";x("gmail")&&(a={group:"gmail",name:"gmail-"+ma()});df=new af(a);this.j=new ph;var a=this.history=new Fc,b=new lg(document.location.href);a.vc=b.Oa+"/";tc(this.history,"navigate",this.hc,!1,this);this.i=null;this.g=!1;new Ud;this.h=new sh}g=uh.prototype;g.logger=Y("ydn.crm.inj.App");g.isLogin=function(){return this.g};g.hc=function(a){a.g!=this.i&&(this.i=a.g,/^contact/.test(a.g)||/\w+\/[\w\d]{10,18}$/.test(a.g)&&this.j.update())};
g.init=function(){Qe(this.logger,"init "+this);vh(this);var a=window.setInterval(function(){document.querySelector('a[href="http://mail.google.com/mail/help/terms.html"]')&&window.clearTimeout(a)},500);window.setTimeout(function(){window.clearTimeout(a)},15E3)};g.toString=function(){return"inj.Main:0.6.0"};
function vh(a){$(gf(),"login-info").L(function(a){a:{if(a&&a.email){Re(this.logger,"user "+a.email+" login");this.g=!0;var c=this.h.g;if(c&&c.email==a.email)break a;this.j.init();this.history.setEnabled(!0)}else this.g&&(this.g=!1,this.history.setEnabled(!1));th(this.h,a)}},function(a){Pe(this.logger,a.name+" "+a.message);th(this.h,a)},a)}
na("runApp",function(){var a=n.localStorage.getItem("app-setting"),b=null;a&&(b=JSON.parse(a));window.onerror=function(a,b,e){b&&(a+=" on "+e+" of "+b);window.console.warn(a)};b&&b.logging&&Hg("ydn.crm","finest");a=new uh;a.init();return a});function wh(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(".")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var xh={};
function yh(a){a=[a];for(var b=new zh,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(xh);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),Ah(b,e);else if(e instanceof Date)c+=2,b.write(c),Ah(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>
2|255,(f|3)<<6)}c.write(0)}else if(e===xh)b.write(0);else return"";c=0}return b.trim().toString()}
function Ah(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function Bh(a){var b=a.read()|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=a.read()|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(a.read()|0):a.read()|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function Ch(a){for(var b=[],c=0,d=0,e=0,f,h;;){f=a.read();if(0===f||null==f)break;0===c?(h=f>>6,2>h&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=h,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function Dh(a){this.current=null;this.g=a;this.h=this.g.length-1;this.index=-1}
Dh.prototype.read=function(){return this.current=this.index<this.h?parseInt(this.g[++this.index]+this.g[++this.index],16):null};function zh(){this.g=[];this.h=void 0}zh.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.h=arguments[b].toString(16),this.g.push(2===this.h.length?this.h:this.h="0"+this.h)};zh.prototype.trim=function(){for(var a=this.g.length;"00"===this.g[--a];);this.g.length=++a;return this};zh.prototype.toString=function(){return this.g.length?this.g.join(""):""};
function Eh(a,b){var c=yh(a),d=yh(b);return c>d?1:c==d?0:-1};var Fh={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},Gh=n.IDBRequest&&"LOADING"in n.IDBRequest?n.IDBTransaction:n.webkitIDBRequest&&"LOADING"in n.webkitIDBRequest&&1===n.webkitIDBTransaction.READ_WRITE?n.webkitIDBTransaction:Fh,Hh=Gh.READ_ONLY,Ih=Gh.READ_WRITE,Jh=Gh.VERSION_CHANGE,Kh=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.moz_indexedDB||n.msIndexedDB;function Lh(a,b,c){Xe.call(this,b,c);this.va=a;this.p=[];this.Da=null;this.oa=""}B(Lh,Xe);g=Lh.prototype;g.oa="";g.logger=Y("ydn.db.Request");g.O=function(a){Qe(this.logger,this+" SUCCESS");Lh.l.O.call(this,a);this.Da=null;this.oa=this.oa};g.H=function(a){Qe(this.logger,this+" ERROR");Lh.l.H.call(this,a);this.Da=null;this.oa=this.oa};g.toString=function(){var a="";this.oa&&(a=this.Da?"*":"",a="["+this.oa+a+"]");return"Request:"+(this.va+a)};
g.lb=function(){this.k&&this.i&&ce(this)&&(n.clearTimeout(this.k),delete this.k);this.g&&(this.g.ua--,delete this.g);for(var a=this.h,b=!1;this.D.length&&!this.aa;){var c=this.D.shift(),d=c[0],e=c[1],c=c[2];if(d=this.j?e:d)d=d.call(c||this.Pa,a),t(d)&&(this.j=this.j&&(d==a||d instanceof Error),this.h=a=d),a instanceof X&&(this.aa=b=!0)}this.h=a;b&&(a.L(A(this.Ra,this,!0),A(this.Ra,this,!1)),a.Gb=!0)};
g.toJSON=function(){var a=(this.oa||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.va?this.va.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Mh=Kh&&Kh.cmp?A(Kh.cmp,Kh):Eh,Nh=[];(function(a){if(null!=a&&!("push"in a))throw new ng('output receiver object must have "push" method.');}).prototype.logger=Y("ydn.db.algo.AbstractSolver");function Oh(a){Error.captureStackTrace?Error.captureStackTrace(this,Oh):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.VersionError"}B(Oh,Error);Oh.prototype.name="ydn.db.VersionError";Oh.prototype.toString=function(){return this.name+": "+this.message};function Ph(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Ph):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}B(Ph,Error);
Ph.prototype.toString=function(){return this.name+": "+this.message};function Qh(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Qh):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}B(Qh,Error);Qh.prototype.toString=function(){return this.name+": "+this.message};function Rh(a,b,c,d,e,f){t(e)||(e=u(a)?a.join(", "):a);if(null!=a&&!x(a)&&!v(a))throw new Z("index keyPath for "+e+" must be a string or array, but "+a+" is "+typeof a);u(a)&&Object.freeze&&Object.freeze(a);!t(a)&&t(e)&&(a=e);this.keyPath=a;this.j=v(this.keyPath);this.g=e;this.type=Sh(b);if(t(b)){if(!t(this.type))throw new Z("type invalid in index: "+this.g);if(u(this.keyPath))throw new Z('composite key for store "'+this.g+'" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.k=x(this.type)?
this.type:Th;this.p=x(e)?e:u(a)?this.keyPath.join(","):a;this.i=Ga(this.p);this.h=this.j?null:this.keyPath.split(".");this.D=f||null}function Uh(a,b){if(null!=b){if(v(a.keyPath)){for(var c=[],d=0,e=a.keyPath.length;d<e;d++){var f=wh(b,a.keyPath[d]);c[d]=f}return c}return wh(b,a.keyPath)}}var Th="TEXT",Vh=["BLOB","DATE","INTEGER","NUMERIC",Th];function Sh(a){if(x(a))return a=Ja(Vh,a),Vh[a]}g=Rh.prototype;g.getName=function(){return this.g};
g.toJSON=function(){return{name:this.g,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};g.ha=function(){var a=u(this.keyPath)?Ua(this.keyPath):this.keyPath;return new Rh(a,this.type,this.unique,this.multiEntry,this.g,this.D)};function Wh(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?Xa(a,b)?null:"expect: "+a+", but: "+b:Zg(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}
g.hint=function(a){if(!a)return this;var b=u(this.keyPath)?Ua(this.keyPath):this.keyPath,c=this.type;t(a.type)||"TEXT"!=c||(c=void 0);return new Rh(b,c,this.unique,this.multiEntry,a.g)};g.toString=function(){var a=this.multiEntry?"MultiEntry":"";this.h&&1<this.h.length&&(a+="Compound");return a+"Index:"+this.g};function Xh(a,b,c,d,e,f,h,k){this.h=a;if(!x(this.h))throw new Z("store name must be a string");this.keyPath=t(b)?b:null;this.j=v(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.j)throw new Z("keyPath must be a string or array");this.i=c;var l;if(null!=d){l=Sh(d);if(!t(l))throw new Z('type "'+d+'" for primary key in store "'+this.h+'" is invalid.');if(this.j)throw new Z('composite key for store "'+this.h+'" must not specified type');}this.type=null!=l?l:this.i?"INTEGER":void 0;this.g=
e||[];this.Ub=!!h;this.aa=x(this.type)?this.type:Th;this.p=u(this.keyPath)?this.keyPath.join(","):x(this.keyPath)?this.keyPath:"_ROWID_";this.D=Ga(this.p);if(this.k=!!k){if(this.keyPath)throw new Z('encrypted store "'+this.h+'" must not use inline key');if(this.i)throw new Z('encrypted store "'+this.h+'" must not use key generator');}}g=Xh.prototype;g.Ub=!1;
g.toJSON=function(){for(var a=[],b=0;b<this.g.length;b++)a.push(this.g[b].toJSON());return{name:this.h,keyPath:this.keyPath,autoIncrement:this.i,type:this.type,indexes:a}};
function Yh(a){var b="name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted".split(" "),c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ja(b,c))throw new Z('Unknown attribute "'+c+'"');b=[];c=a.indexes||[];if(u(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f="name unique type keyPath multiEntry generator".split(" "),h=void 0;for(h in e)if(e.hasOwnProperty(h)&&-1==Ja(f,h))throw new Z("Unknown field: "+h+" in "+Yg(e));e=new Rh(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);
t(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Xh(a.name,a.keyPath,a.autoIncrement,"undefined"===a.type||"null"===a.type?void 0:a.type,b,0,a.fixed,a.encrypted)}g.ha=function(){return Yh(this.toJSON())};g.index=function(a){return this.g[a]||null};function Zh(a,b){return Pa(a.g,function(a){return a.getName()==b})}
function $h(a,b){if(!b)return a;var c=a.i,d=u(a.keyPath)?Ua(a.keyPath):a.keyPath,e=a.type,f=Ma(a.g,function(a){return a.ha()});t(b.type)||"TEXT"!=e||(e=void 0);u(b.keyPath)&&x(d)&&d==b.keyPath.join(",")&&(d=Ua(b.keyPath));for(var h=0,k=b.g.length;h<k;h++)if(b.g[h].j)for(var l=b.g[h].getName(),m=f.length-1;0<=m;m--)if(0<=l.indexOf(f[m].getName())){f[m]=b.g[h].ha();break}for(h=0;h<f.length;h++)(k=Zh(b,f[h].getName()))&&(f[h]=f[h].hint(k));return new Xh(b.h,d,c,e,f)}g.getName=function(){return this.h};
function ai(a,b){if(!b)return"missing store: "+a.h;if(a.h!=b.h)return"store name, expect: "+a.h+", but: "+b.h;var c=Wh(a.keyPath,b.keyPath);if(c)return"keyPath, "+c;if(t(a.i)&&t(b.i)&&a.i!=b.i)return"autoIncrement, expect:  "+a.i+", but: "+b.i;if(a.g.length!=b.g.length)return"indexes length, expect:  "+a.g.length+", but: "+b.g.length;if(t(a.type)&&t(b.type)&&(v(a.type)?!Xa(a.type,b.type):a.type!=b.type))return"data type, expect:  "+a.type+", but: "+b.type;for(c=0;c<a.g.length;c++){var d=Zh(b,a.g[c].getName()),
e;e=a.g[c];if(d)if(e.g!=d.g)e="name, expect: "+e.g+", but: "+d.g;else{var f=Wh(e.keyPath,d.keyPath);e=f?"keyPath, "+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?"unique, expect: "+e.unique+", but: "+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?"multiEntry, expect: "+e.multiEntry+", but: "+d.multiEntry:t(e.type)&&t(d.type)&&(v(e.type)?!Xa(e.type,d.type):e.type!=d.type)?"data type, expect: "+e.type+", but: "+d.type:""}else e="no index for "+e.g;if(0<e.length)return'index "'+
a.g[c].getName()+'" '+e}return""}g.toString=function(){return"Store:"+this.h+"["+this.g.length+"index]"};function bi(a,b){if(!a||sa(a))throw new Z("store_name must be provided for primary full text index");if(!b||sa(b))throw new Z("index_name must be provided for primary full text index");};function ci(a,b,c){this.name=a;this.g=b;this.h=c||"";if(-1==["","en","fr"].indexOf(this.h))throw new Z('Unsupported lang "'+c+" for full text search index "+a);}ci.prototype.getName=function(){return this.name};ci.prototype.count=function(){return this.g.length};ci.prototype.index=function(a){return this.g[a]};
function di(a){var b=["name","sources","lang"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ja(b,c))throw new Z("Unknown field: "+c+" in "+Yg(a));if(!u(a.sources))throw new Z("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");b=a.sources.map(function(a){var b=["storeName","keyPath","weight"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ja(b,c))throw new Z("Unknown field: "+c+" in "+fg(a));return new bi(a.storeName,a.keyPath)});return new ci(a.name,
b,a.lang)};function ei(a,b){var c,d,e=b;if(y(a)){d=a;c=["version","stores","fullTextCatalogs"];for(var f in d)if(d.hasOwnProperty(f)&&-1==Ja(c,f))throw new Z("Unknown field: "+f+" in schema.");c=d.version;var e=[],h=d.stores||[];if(!u(h))throw new Z("stores must be array");for(f=0;f<h.length;f++){var k=Yh(h[f]);if(-1!=Qa(e,function(a){return a.name==k.getName()}))throw new Z('duplicate store name "'+k.getName()+'".');e.push(k)}}else x(a)?c=0==a.length?void 0:parseFloat(a):da(a)&&(c=a);if(t(c)){if(!da(c)||0>
c)throw new Z("Invalid version: "+c+" ("+a+")");isNaN(c)&&(c=void 0)}if(t(b)&&(!u(b)||0<b.length&&!(b[0]instanceof Xh)))throw new Z("stores");this.version=c;this.g=!t(this.version);this.stores=e||[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)c=di(d.fullTextCatalogs[f]),fi(this,c.getName())||(e=[new Rh("k",Th),new Rh("v",Th)],c=new Xh(c.getName(),"id",!1,void 0,e),this.stores.push(c))}
ei.prototype.toJSON=function(){var a=Ma(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;t(this.version)&&(b.version=this.version);return b};ei.prototype.g=!1;ei.prototype.count=function(){return this.stores.length};function fi(a,b){return Pa(a.stores,function(a){return a.getName()==b})}function gi(a,b){return Na(a.stores,function(a){return a.getName()==b})}
function hi(a,b,c){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var d=0;d<a.stores.length;d++){var e=fi(b,a.stores[d].getName());if(e){if(c&&(e=$h(e,a.stores[d])),e=ai(a.stores[d],e),0<e.length)return'store: "'+a.stores[d].getName()+'" '+e}else return'missing object store "'+a.stores[d].getName()+'"'}return""};function ii(a,b){ei.call(this,a,b)}B(ii,ei);/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function ji(a,b,c){a=["ydn.db",a];t(b)&&(a.push(b),t(c)&&(a.push(c),t(void 0)&&a.push(yh(void 0))));return a.join("^|")};function ki(a,b){this.key=a;this.g=b}ki.prototype.toString=function(){return"ydn.db.con.simple.Node("+this.key+(null!=this.g?", "+this.g+")":")")};function li(a,b){var c=Mh(a.key,b.key);return 0===c?null!=a.g?null!=b.g?Mh(a.g,b.g):1:null!=b.g?-1:0:c};function mi(a){this.U=a||ni}function ni(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}g=mi.prototype;g.G=null;g.U=null;g.ea=null;g.da=null;
g.add=function(a){if(null==this.G)return this.da=this.ea=this.G=new oi(a),!0;var b=null;pi(this,function(c){var d=null;0<this.U(c.value,a)?(d=c.left,null==c.left&&(b=new oi(a,c),c.left=b,c==this.ea&&(this.ea=b))):0>this.U(c.value,a)&&(d=c.right,null==c.right&&(b=new oi(a,c),c.right=b,c==this.da&&(this.da=b)));return d});b&&(pi(this,function(a){a.count++;return a.parent},b.parent),qi(this,b.parent));return!!b};
g.remove=function(a){var b=null;pi(this,function(c){var d=null;0<this.U(c.value,a)?d=c.left:0>this.U(c.value,a)?d=c.right:(b=c.value,ri(this,c));return d});return b};g.clear=function(){this.da=this.ea=this.G=null};g.contains=function(a){var b=!1;pi(this,function(c){var d=null;0<this.U(c.value,a)?d=c.left:0>this.U(c.value,a)?d=c.right:b=!0;return d});return b};g.mb=function(){return this.G?this.G.count:0};g.Z=function(){var a=[];si(this,function(b){a.push(b)});return a};
function si(a,b){if(a.G){var c,d=c=ti(a);for(c=c.left?c.left:c;null!=d;)if(null!=d.left&&d.left!=c&&d.right!=c)d=d.left;else{if(d.right!=c&&b(d.value))break;var e=d,d=null!=d.right&&d.right!=c?d.right:d.parent;c=e}}}function pi(a,b,c){for(c=c?c:a.G;c&&null!=c;)c=b.call(a,c)}
function qi(a,b){pi(a,function(a){var b=a.left?a.left.height:0,e=a.right?a.right.height:0;1<b-e?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&ui(this,a.left),vi(this,a)):1<e-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&vi(this,a.right),ui(this,a));b=a.left?a.left.height:0;e=a.right?a.right.height:0;a.height=Math.max(b,e)+1;return a.parent},b)}
function ui(a,b){wi(b)?(b.parent.left=b.right,b.right.parent=b.parent):xi(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.G=b.right,a.G.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}
function vi(a,b){wi(b)?(b.parent.left=b.left,b.left.parent=b.parent):xi(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.G=b.left,a.G.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}
function ri(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=yi(a,b.left);pi(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.da&&(a.da=d)}else{d=ti(a,b.right);pi(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=
b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.ea&&(a.ea=d)}d.count=b.count;wi(b)?b.parent.left=d:xi(b)?b.parent.right=d:a.G=d;qi(a,c?c:d)}else pi(a,function(a){a.count--;return a.parent},b.parent),wi(b)?(b.parent.left=null,b==a.ea&&(a.ea=b.parent),qi(a,b.parent)):xi(b)?(b.parent.right=null,b==a.da&&(a.da=b.parent),qi(a,b.parent)):a.clear()}function ti(a,b){if(!b)return a.ea;var c=b;pi(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}
function yi(a,b){if(!b)return a.da;var c=b;pi(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function oi(a,b){this.value=a;this.parent=b?b:null;this.count=1}oi.prototype.left=null;oi.prototype.right=null;oi.prototype.height=1;function xi(a){return!!a.parent&&a.parent.right==a}function wi(a){return!!a.parent&&a.parent.left==a};function zi(a){this.U=a||ni}B(zi,mi);function Ai(a,b,c){if(a.G){var d;if(c instanceof oi)d=c;else if(c){if(pi(a,function(a){var b=null;0<this.U(a.value,c)?(b=a.left,d=a):0>this.U(a.value,c)?b=a.right:d=a;return b}),!d)return}else d=ti(a);a=d;for(var e=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=e&&a.right!=e)a=a.left;else{if(a.right!=e&&b(a))return;var f=a;a=null!=a.right&&a.right!=e?a.right:a.parent;e=f}b(null)}}
function Bi(a,b,c){if(a.G){var d;if(c instanceof oi)d=c;else if(c){if(pi(a,A(function(a){var b=null;0<this.U(a.value,c)?b=a.left:(0>this.U(a.value,c)&&(b=a.right),d=a);return b},a)),!d)return}else d=yi(a);a=d;for(var e=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=e&&a.left!=e)a=a.right;else{if(a.left!=e&&b(a))return;var f=a;a=null!=a.left&&a.left!=e?a.left:a.parent;e=f}b(null)}};function Ci(a,b,c){this.k=a;this.storage=b;this.i=c;this.g={};a=this.i.keyPath;this.h=u(a)?a.join(","):a||"_ROWID_";this.g[this.h]=null;this.j=ji(this.k,this.i.getName(),this.h)+"^|"}
function Di(a,b){var c=b||a.h;if(!a.g[c]){a.g[c]=new zi(li);for(var d=a.storage.length,e=0;e<d;e++){var f=a.storage.key(e);if(null!==f&&0==f.lastIndexOf(a.j,0)){for(var h,k=h=[],l=void 0,m=[],p=void 0,q=void 0,r=new Dh(f.substr(a.j.length));null!=r.read();)if(0===r.current)k=m.pop();else{if(null===r.current)break;do{for(var p=r.current/4|0,l=r.current%4,w=0;w<p;w++)q=[],k.push(q),m.push(k),k=q;if(0===l&&12<r.current+4)r.read();else break}while(1);1===l?k.push(Bh(r)):2===l?k.push(new Date(Bh(r))):
3===l?k.push(Ch(r)):0===l&&(k=m.pop())}h=h[0];if(c==a.h)a.g[c].add(new ki(h));else if(k=a.storage.getItem(f),null!==k)if(f=Zh(a.i,c),k=Xg(k),k=Uh(f,k),f.multiEntry){if(u(k))for(f=0;f<k.length;f++)a.g[c].add(new ki(k[f],h))}else a.g[c].add(new ki(k,h))}}}return a.g[c]}function Ei(a,b,c){for(var d in a.g){var e=a.g[d];if(e)if(d==a.h)e.remove(new ki(b));else{var f=Zh(a.i,d),f=wh(c,f.keyPath);e.remove(new ki(b,f))}}}function Fi(a){for(var b in a.g){var c=a.g[b];c&&c.clear()}a.g={}}g=Ci.prototype;
g.clear=function(){Fi(this);Gi(this)};g.ca=function(a,b){if(a&&a!=this.h)throw"impl";var c=this.storage.getItem(this.j+yh(b)),d=void 0;if(null!==c)for(var d=Xg(c),c=0,e=this.i.g.length;c<e;c++){var f=this.i.index(c);if("DATE"==f.type){var h=Uh(f,d);if(h)for(var k=d,h=new Date(h),l=0;l<f.h.length;l++)l==f.h.length-1?k[f.h[l]]=h:y(k[f.h[l]])||(k[f.h[l]]={})}}return d};g.getName=function(){return this.i.getName()};
function Gi(a){var b=Di(a,a.h),c=0,d=[],e=[];Ai(b,function(b){if(null!=b){b=b.value;var h=a.j+yh(b.key),k=a.storage.getItem(h);null!==k&&(a.storage.removeItem(h),c++,10>d.length&&(d.push(b.key),e.push(Xg(k))))}},null);if(10>d.length)for(b=0;b<d.length;b++)Ei(a,d[b],e[b]);else Fi(a)}
function Hi(a,b,c,d,e,f){function h(a){if(a&&(q++,!(q<f))){a=a.value;if(d){if(w&&null!=p){var b=Mh(a.key,p.key);if(0==b)return}if(null!=m&&(b=Mh(a.key,m.key),-1==b||0==b&&r))return!0}else{if(r&&null!=m&&(b=Mh(a.key,m.key),0==b))return;if(null!=p&&(b=Mh(a.key,p.key),1==b||0==b&&w))return!0}b=a.key;k.push(l?a.g:b);if(t(e)&&k.length>=e)return!0}}var k=[];b=b||a.h;var l=b!=a.h;a=Di(a,b);var m=null,p=null;t(f)||(f=0);var q=-1,r=!1,w=!1;null!=c&&(null!=c.lower&&(m=l&&d?new ki(c.lower,"\uffff"):new ki(c.lower)),
null!=c.upper&&(p=l&&!d?new ki(c.upper,"\uffff"):new ki(c.upper)),r=!!c.lowerOpen,w=!!c.upperOpen);d?Bi(a,h,p):Ai(a,h,m);return k}g.ja=function(a,b,c,d,e){return Hi(this,a,b,c,d,e)};g.toString=function(){return"ydn.db.con.simple.Store:"+this.k+":"+this.i.getName()};function Ii(){this.clear()}g=Ii.prototype;g.kb=function(){return this};g.setItem=function(a,b){t(this.g[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.g[a]=b};g.getItem=function(a){return t(this.g[a])?this.g[a]:null};g.removeItem=function(a){delete this.g[a];Sa(this.keys,a.toString());this.length=this.keys.length};g.length=0;g.key=function(a){a=this.keys[a];return t(a)?this.g[a]:null};g.clear=function(){this.g={};this.keys=[];this.length=0};function Ji(a){this.p=a||new Ii;this.k={}}function Ki(a,b){var c=fi(a.g,b);if(c)a.k[b]||(a.k[b]=new Ci(a.j,a.i,c));else throw new We('store name "'+b+'" not found.');return a.k[b]}Ji.prototype.Ea=function(a){var b=this;setTimeout(function(){var c=ji(b.j),c=b.i.getItem(c),c=new ei(c);a(c)},10)};function Li(){};Nh.push(function(a,b){if(!Kh||b&&"indexeddb"!=b)return null;var c=Kh.deleteDatabase(a),d=new Lh("IDBVersionChangeEvent ");c.onblocked=function(a){Ye(d,a)};c.onerror=function(a){d.H(a)};c.onsuccess=function(a){d.O(a)};return d});function Mi(a){Ji.call(this,a);this.h=NaN}B(Mi,Ji);g=Mi.prototype;g.logger=Y("ydn.db.con.SimpleStorage");g.Tb=function(){return this.h};
g.connect=function(a,b){function c(a,b){setTimeout(function(){b?(Qe(d.logger,d+" opening fail"),e.H(b)):(Qe(d.logger,d+" version "+d.Tb()+" open"),e.O(a))},10)}var d=this,e=new X;this.i=this.p.kb(a);this.j=a;this.g=b;var f=ji(this.j);this.h=NaN;var h=Xg(this.i.getItem(f));t(h.version)&&!da(h.version)&&(h.version=NaN);if(h)if(h=new ei(h),hi(this.g,h,!1))if(!this.g.g&&!isNaN(h.version)&&this.g.version>h.version)c(NaN,new Oh("existing version "+h.version+" is larger than "+this.g.version));else{var k=
this.g.version;this.h=t(k)?k:h.version+1;for(k=0;k<this.g.count();k++)var l=this.g.stores[k]||null;if(this.g instanceof ii)for(k=0;k<h.count();k++)l=h.stores[k]||null,this.g.stores.push(l);k=this.g.toJSON();k.version=this.h||NaN;this.i.setItem(f,Yg(k));c(h.version||NaN)}else{for(k=0;k<this.g.count();k++)l=this.g.stores[k]||null;this.h=h.version||NaN;c(this.h)}else h=b.toJSON(),this.h=1,h.version=this.h,this.i.setItem(f,Yg(h)),c(NaN);return e};g.fb=function(){return"memory"};g.Hb=function(a){a(new Li)};
g.toString=function(){return"SimpleStorage:"+this.fb()+":"+(this.j+":"+this.h)};function Ni(){Mi.call(this,this)}B(Ni,Mi);Ni.prototype.kb=function(){return window.localStorage};Ni.prototype.fb=function(){return"localstorage"};Nh.push(function(a,b){if(!b||"localstorage"==b){var c=new Ni,d=new ii;c.connect(a,d);c.Ea(function(a){for(var b=0;b<a.stores.length;b++)Ki(c,a.stores[b].getName()).clear()})}});function Oi(){Mi.call(this,this)}B(Oi,Mi);Oi.prototype.kb=function(){return window.sessionStorage};Oi.prototype.fb=function(){return"sessionstorage"};
Nh.push(function(a,b){if(!b||"sessionstorage"==b){var c=new Oi,d=new ii;c.connect(a,d);c.Ea(function(a){for(var b=0;b<a.stores.length;b++)Ki(c,a.stores[b].getName()).clear()})}});function Pi(a){this.g=t(a)?a:4194304}g=Pi.prototype;
g.connect=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,h=c.g?isNaN(f)?1:f+1:c.version;e.logger.log(Je,a+": changing version from "+b.version+" to "+h,void 0);var k=!1,l=0;b.changeVersion(b.version,h+"",function(a){e.Ea(function(b){k=!0;for(var d=0;d<c.count();d++){var f=fi(b,(c.stores[d]||null).getName()),f=f?$h(f,c.stores[d]||null):null;Qi(e,a,c.stores[d]||null,function(a){a&&l++},f)}for(d=0;d<b.count();d++)f=b.stores[d]||null,gi(c,f.getName())||(c instanceof ii?c.stores.push(f):
(f="DROP TABLE "+Ga(f.h),Qe(e.logger,f),a.executeSql(f,[],function(){},function(a,b){throw b;})))},a,b)},function(c){e.logger.log(Fe,"SQLError "+c+" "+c.code+"("+c.message+") while changing version from "+b.version+" to "+h+" on "+a,void 0);throw c;},function(){if(k){var f=".";l!=c.stores.length&&(f=" but unexpected stores exists.");Re(e.logger,a+":"+b.version+" ready"+f);d(b)}else Pe(e.logger,a+": changing version voided.")})}function d(a,b){t(b)?(e.S=null,h.H(b)):(e.S=a,h.O(parseFloat(f)))}var e=
this,f=NaN,h=new X,k=null;try{k=n.openDatabase(a,"",a,this.g)}catch(l){if("SECURITY_ERR"==l.name)Pe(this.logger,"SECURITY_ERR for opening "+a),k=null,this.Db=new Qh(l);else throw l;}if(k){var f=k.version,m="database "+a+(0==k.version.length?"":" version "+k.version);null!=b.version&&b.version==k.version?(e.logger.log(Je,"Existing "+m+" opened as requested.",void 0),d(k)):this.Ea(function(a){(a=hi(b,a,!0))?(0==k.version.length?e.logger.log(Je,"New "+m+" created.",void 0):b.g?e.logger.log(Je,"Existing "+
m+" opened and schema change for "+a,void 0):e.logger.log(Je,"Existing "+m+" opened and  schema change to version "+b.version+" for "+a,void 0),c(k,b)):(e.logger.log(Je,"Existing "+m+" with same schema opened.",void 0),d(k))},null,k)}else d(null,this.Db);return h};g.fb=function(){return"websql"};g.Db=null;g.S=null;g.logger=Y("ydn.db.con.WebSql");
function Ri(a){var b=a.aa,c="CREATE TABLE IF NOT EXISTS "+Ga(a.h)+" (",d=a.D,c=c+(d+" "+b+" PRIMARY KEY ");a.i&&(c+=" AUTOINCREMENT ");if(!a.Ub||!a.keyPath&&0==a.g.length)c+=" ,_default_ BLOB";for(var e=[],f=[d],h=0,k=a.g.length;h<k;h++){var l=a.index(h),m="";if(l.multiEntry){var m="ydn.db.me:"+a.getName()+":"+l.getName(),p=l.unique?" UNIQUE ":"",l="CREATE TABLE IF NOT EXISTS "+Ga(m)+" ("+d+" "+b+", "+l.i+" "+l.k+p+")";e.push(l)}else l.unique&&(m=" UNIQUE "),p=l.keyPath,"BLOB"!=l.type&&x(p)&&(p="CREATE "+
m+" INDEX IF NOT EXISTS "+Ga(a.getName()+"-"+l.getName())+" ON "+Ga(a.h)+" ("+Ga(p)+")",e.push(p)),p=l.i,-1==f.indexOf(p)&&(c+=", "+p+" "+l.k+m,f.push(p))}e.unshift(c+")");return e}g.Tb=function(){return this.S?parseFloat(this.S.version):void 0};
g.Ea=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){var r="sql"in e?e.sql:void 0;Re(f.logger,"Parsing table schema from SQL: "+r);for(var w=r.substr(r.indexOf("("),r.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),E=void 0,W,r=[],z=!1,M=!1,qa=0;qa<w.length;qa++){var Ib=w[qa].match(/\w+|"[^"]+"/g),hb=Ma(Ib,function(a){return a.toUpperCase()}),
ia=Da(Ib[0]),Ib=Sh(hb[1]);if(-1!=hb.indexOf("PRIMARY")&&-1!=hb.indexOf("KEY")){W=Ib;if(x(ia)&&!sa(ia)&&"_ROWID_"!=ia){var $g=ia.split(","),E=ia;1<$g.length&&(E=$g,W=void 0)}-1!=hb.indexOf("AUTOINCREMENT")&&(z=!0)}else if("_ROWID_"!=ia)if("_default_"==ia)M=!0;else{var ah="UNIQUE"==hb[2];0==ia.lastIndexOf(e.tbl_name+"-",0)&&(ia=ia.substr(e.tbl_name.length+1));hb=new Rh(ia,Ib,ah);r.push(hb)}}if(0==e.name.lastIndexOf("ydn.db.me:",0)){var pd=e.name.split(":");if(3<=pd.length){var Ee=pd[1],E=new Rh(pd[2],
Ib,ah,!0),w=Qa(r,function(a){return a.getName()==pd[2]});0<=w?r[w]=E:r.push(E);w=Qa(k,function(a){return a.getName()===Ee});0<=w?(qa=k[w],k[w]=new Xh(qa.getName(),qa.keyPath,z,W,r,0,!M)):k.push(new Xh(Ee,void 0,!1,void 0,[E]));Re(f.logger,'multi entry index "'+E.getName()+'" found in '+Ee+(-1==w?"*":""))}else Pe(f.logger,'Invalid multiEntry store name "'+e.name+'"')}else qa=Qa(k,function(a){return a.getName()===e.name}),0<=qa?(w=k[qa].index(0),r.push(w),k[qa]=new Xh(e.name,E,z,W,r,0,!M)):(r=new Xh(e.name,
E,z,W,r,0,!M),k.push(r))}}d=new ei(h,k);a(d)}}var f=this,h=(c=c||this.S)&&c.version?parseFloat(c.version):void 0,h=isNaN(h)?void 0:h,k=[];b?b.executeSql("SELECT * FROM sqlite_master",[],e,d):c.readTransaction(function(b){f.Ea(a,b,c)},function(a){f.logger.log(Fe,"opening tx: "+a.message,void 0);throw a;},e)};
function Qi(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){h++;h==k.length&&(d(!0),d=null)},function(b,e){h++;h==k.length&&(d(!1),d=null);var f="SQLError creating table: "+c.getName()+" "+e.message+' for executing "'+a;throw new Ph(e,f);})}var h=0,k=Ri(c),l="Create";if(e){e=ai(c,e);if(0==e.length){Re(a.logger,"same table "+c.getName()+" exists.");d(!0);d=null;return}l="Modify";Pe(a.logger,"table: "+c.getName()+" has changed by "+e+" ALTER TABLE cannot run in WebSql, dropping old table.");k.unshift("DROP TABLE IF EXISTS "+
Ga(c.getName()))}Re(a.logger,l+" table: "+c.getName()+": "+k.join(";"));for(a=0;a<k.length;a++)f(k[a])}g.Hb=function(a,b,c,d){function e(a){Re(k.logger,k+": Tx "+c+" request cause error.");d("abort",a)}function f(){d("complete",{type:"complete"})}function h(b){a(b)}var k=this;null===this.S&&(a(null),d("abort",this.Db));c==Hh?this.S.readTransaction(h,e,f):c==Jh?this.S.changeVersion(this.S.version,this.S.version+1+"",h,e,f):this.S.transaction(h,e,f)};
Nh.push(function(a,b){if(!b||"websql"==b){var c=new Pi,d=new ii;Qe(c.logger,"deleting websql database: "+a);var d=c.connect(a,d),e=function(){c.logger.info("all tables in "+a+" deleted.")};d.T(function(){c.Hb(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(d,e){if(e&&e.rows){for(var l=e.rows.length,m=0,p=0;p<l;p++){var q=e.rows.item(p);"__WebKitDatabaseInfoTable__"!=q.name&&"sqlite_sequence"!=q.name&&(m++,Re(c.logger,"deleting table: "+q.name),b.executeSql("DROP TABLE "+
q.name))}Qe(c.logger,m+' tables deleted from "'+a+'"')}},function(a,b){throw b;})},[],Ih,e)});d.Fb(function(){Pe(c.logger,"Connecting "+a+" failed.")})}});Pi.prototype.toString=function(){return"WebSql:"+(this.S?":"+this.S.version:"")};function Si(a,b){ac.call(this);this.j=b;this.h=[];if(a>this.j)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.h.push(this.g())}B(Si,ac);Si.prototype.g=function(){return{}};Si.prototype.i=function(a){if(y(a))if(ea(a.qa))a.qa();else for(var b in a)delete a[b]};Si.prototype.w=function(){Si.l.w.call(this);for(var a=this.h;a.length;)this.i(a.pop());delete this.h};function Ti(){this.g=[];this.i=new se;this.j=new se;this.p=1;this.k=new Si(0,4E3);this.k.g=function(){return new Ui};this.D=new Si(0,50);this.D.g=function(){return new Vi};var a=this;this.h=new Si(0,2E3);this.h.g=function(){return String(a.p++)};this.h.i=function(){}}Y("goog.debug.Trace");function Vi(){this.time=this.count=0}Vi.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");return a.join("")};function Ui(){}
function Wi(a,b,c){var d=[];-1==b?d.push("    "):d.push(Xi(a.h-b));d.push(" ",Yi(a.h-0));0==a.g?d.push(" Start        "):1==a.g?(d.push(" Done "),d.push(Xi(a.k-a.startTime)," ms ")):d.push(" Comment      ");d.push(c,a);0<a.j&&d.push("[VarAlloc ",a.j,"] ");return d.join("")}Ui.prototype.toString=function(){return null==this.type?this.i:"["+this.type+"] "+this.i};
Ti.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",Wi(e,b,c.join("")));b=e.h;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.i.mb()){var f=ma();a.push(" Unstopped timers:\n");re(this.i,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Yi(b.startTime),")\n")})}b=this.j.ja();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",0,"\n","Total comments created ",
0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n");return a.join("")};function Xi(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Yi(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Ti;/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
Y("ydn.crm");var Zi={};na("ydn.debug.log",Hg);na("ydn.crm.shared.setSetting",function(a,b){Zi[a]=b;var c={};c[""]=Zi;chrome.storage.local.set(c)});na("ydn.crm.version","0.6.0");na("goog.async.Deferred",X);X.prototype.addCallback=X.prototype.T;X.prototype.addErrback=X.prototype.Fb;X.prototype.addBoth=X.prototype.Xb;X.prototype.addCallbacks=X.prototype.L;})();app=runApp();

            //# sourceMappingURL=ydn.crm.inj.js.map
        